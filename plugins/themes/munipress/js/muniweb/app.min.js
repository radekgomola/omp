
(function(a){var b={};function c(e){if(b[e]){return b[e].exports}var d=b[e]={exports:{},id:e,loaded:false};a[e].call(d.exports,d,d.exports,c);d.loaded=true;return d.exports}c.m=a;c.c=b;c.p="";return c(0)})([function(b,a,c){if(window.jQuery==null){window.jQuery=$}window.App={doComponents:function(g,j,h){var e,f,d;for(f=0,d=g.length;f<d;f++){e=g[f];if(typeof e[j]==="function"){e[j]({$target:h.$target,options:this.options})}}return this},run:function(d){this.options=d;this.globalComponents=[c(1),c(3),c(4),c(5),c(6),c(7),c(8),c(9),c(10),c(12),c(13),c(14)];this.components=[c(15),c(17),c(21),c(24),c(26),c(28),c(30)];this.doComponents(this.globalComponents,"init",{$target:$(document)});this.doComponents(this.components,"init",{$target:$(document)});$(document).on("ajax-init",(function(e){return function(f){return e.doComponents(e.components,"init",{$target:$(f.target)})}})(this))}}},function(b,a,d){var c;c=d(2);b.exports={init:function(){return c(document).on("click",".tr-clickable",function(f){f.preventDefault();return window.location=c(this).find("a").first().attr("href")})}}},function(b,a){b.exports=jQuery},function(b,a,d){var c;c=d(2);b.exports={init:function(){return c(document).on("click",".share__btn",function(f){f.preventDefault();return c(this).closest(".share").toggleClass("is-open")})}}},function(b,a,d){var c;c=d(2);b.exports={init:function(f){var e;e=f.$target;return c(document).on("click",".link-slide",function(i){var g,h,j;i.preventDefault();h=c(this);j=h.attr("href");g=c(j);if(g.hasClass("box-accordion__box")){if(!g.closest(".box-accordion__item").hasClass("is-open")){c(".box-accordion__title__link[href="+j+"]").trigger("click")}}else{if(g.hasClass("box-tabs__fragment")){if(!g.hasClass("is-active")){c(".box-tabs .js-tab-links[href="+j+"]").trigger("click")}}}return c("body, html").animate({scrollTop:g.offset().top},500)})}}},function(b,a,d){var c;c=d(2);b.exports={init:function(f){var e;e=f.$target;return c(document).on("click",".box-deaf__toggle",function(g){g.preventDefault();return c(this).parents(".box-deaf").toggleClass("is-open")})}}},function(b,a,d){var c;c=d(2);b.exports={init:function(f){var e;e=f.$target;return c(document).on("click",".menu-side__toggle",function(g){g.preventDefault();return c(this).closest(".menu-side__item").toggleClass("is-open")})}}},function(b,a,d){var c;c=d(2);a.init=function(f){var e;e=true;c(document).on("click",".box-accordion__title__link",function(k){var i,h,g,m,j,l;k.preventDefault();j=c(this);i=j.closest(".box-accordion");h=j.closest(".box-accordion__item");g=h.find(".box-accordion__box");m=h.siblings(".box-accordion__item");l="#"+g.attr("id");if(h.hasClass("is-open")&&e){if(i.hasClass("with-history")&&e){history.pushState(null,null,window.location.pathname)}return g.slideUp(function(){return h.removeClass("is-open")})}else{m.find(".box-accordion__box").slideUp(function(){return m.removeClass("is-open")});return g.slideDown(function(){h.addClass("is-open");if(h.offset().top<c(window).scrollTop()){c("body, html").animate({scrollTop:h.offset().top},250)}if(i.hasClass("with-history")&&e){return history.pushState(null,null,l)}})}});return c(window).on("hashchange",function(){var g;g="";e=false;if(location.hash!==""){c(".box-accordion.with-history .box-accordion__title__link[href="+location.hash+"]").click()}return e=true})}},function(b,a,d){var c;c=d(2);b.exports={init:function(f){var e;e=f.$target;return c(document).on("click",".btn-dropdown .btn",function(g){g.preventDefault();c(this).closest(".btn-dropdown").toggleClass("is-open");return c(this).blur()})}}},function(b,a,d){var c;c=d(2);b.exports={init:function(){return c(document).on("click",".footer__menu__title__toggle",function(f){f.preventDefault();return c(this).closest(".footer__menu__toggle").toggleClass("is-open")}).on("click",".js-toggle-jsHide",function(f){f.preventDefault();return c(c(this).attr("href")).toggleClass("jsHide")}).on("click",".box-code__title__close",function(f){f.preventDefault();return c(this).closest(".box-code").addClass("jsHide")}).on("click",".tooltip",function(e){return e.preventDefault()})}}},function(b,a,d){var c;c=d(2);d(11);b.exports={init:function(i){var j,h,f,k,e,g;f=i.$target;g=c("html").hasClass("touch");h=c(".header-fixed-wrap");j=c(document);if(h.length){c(window).on("scroll",function(){if(j.scrollTop()>60){return h.addClass("is-fixed")}else{return h.removeClass("is-fixed")}});k=document.querySelector(".header");e=new Headroom(document.querySelector(".header"),{tolerance:10,offset:200});e.init()}return c(document).on("click",".header__search__label",function(l){l.preventDefault();return c(this).closest(".header__search").toggleClass("is-open").find(".inp-text").focus()}).on("focus",".header__menu-main .header__menu__primary__link, .header__menu-main .header__menu__secondary__link",function(n){var l,m;if(!g){m=c(this);l=m.closest(".header__menu__primary__item");c(".header__menu__primary__item").not(l).removeClass("is-hover");l.addClass("is-hover");return c(this).closest(".header__menu").removeClass("is-open")}}).on("focusout",".header__menu-main .header__menu__primary__link, .header__menu-main .header__menu__subbox a, .header__menu-main .header__menu__submenu__link",function(n){var l,m;if(!g){if(!c(n.relatedTarget).closest(".header__menu-main").length){m=c(this);l=m.closest(".header__menu__primary__item");return l.removeClass("is-hover")}}}).on("click",".header__menu-main .header__menu__primary__item .header__menu__primary__link",function(n){var l,m;if(g){n.preventDefault();m=c(this);l=m.closest(".header__menu__primary__item");c(".header__menu__primary__item").not(l).removeClass("is-hover");if(l.hasClass("is-hover")){return window.location=m.attr("href")}else{return l.addClass("is-hover")}}}).on("click",".header__menu__title",function(l){l.preventDefault();c(this).closest(".header__menu").toggleClass("is-open");return c(".header__menu__primary__item").removeClass("is-hover")}).on("click touchstart",function(l){if(!c(l.target).closest(".header__menu-toggle, .header__menu__title").length){c(".header__menu").removeClass("is-open")}if(g&&!c(l.target).closest(".header__menu-main").length){return c(".header__menu__primary__item").removeClass("is-hover")}}).on("click",".header__menu__primary__toggle",function(m){var l;m.preventDefault();l=c(this).closest(".header__menu__primary__item");l.toggleClass("is-open");if(l.hasClass("with-subbox")){return c(this).closest(".header__menu-toggle").css("min-height",l.find(".header__menu__subbox").outerHeight())}}).on("click",".header__menu__subbox__close",function(l){l.preventDefault();c(this).closest(".header__menu__primary__item").removeClass("is-open");return c(this).closest(".header__menu-toggle").css("min-height",0)}).on("click",".header__menu__subbox__title__toggle",function(m){var l;m.preventDefault();l=c(this);l.closest(".header__menu__subbox__toggle").toggleClass("is-open");return l.closest(".header__menu-toggle").css("min-height",0).css("min-height",l.closest(".header__menu__subbox").outerHeight())})}}},function(b,a){
/*!
	 * headroom.js v0.7.0 - Give your page some headroom. Hide your header until you need it
	 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/headroom.js
	 * License: MIT
	 */
(function(h,c){var g={bind:!!(function(){}.bind),classList:"classList" in c.documentElement,rAF:!!(h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame)};h.requestAnimationFrame=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame;function f(k){this.callback=k;this.ticking=false}f.prototype={constructor:f,update:function(){this.callback&&this.callback();this.ticking=false},requestTick:function(){if(!this.ticking){requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this)));this.ticking=true}},handleEvent:function(){this.requestTick()}};function i(k){return k&&typeof h!=="undefined"&&(k===h||k.nodeType)}function j(l){if(arguments.length<=0){throw new Error("Missing arguments in extend function")}var k=l||{},n,m;for(m=1;m<arguments.length;m++){var o=arguments[m]||{};for(n in o){if(typeof k[n]==="object"&&!i(k[n])){k[n]=j(k[n],o[n])}else{k[n]=k[n]||o[n]}}}return k}function e(k){return k===Object(k)?k:{down:k,up:k}}function d(l,k){k=j(k,d.options);this.lastKnownScrollY=0;this.elem=l;this.debouncer=new f(this.update.bind(this));this.tolerance=e(k.tolerance);this.classes=k.classes;this.offset=k.offset;this.scroller=k.scroller;this.initialised=false;this.onPin=k.onPin;this.onUnpin=k.onUnpin;this.onTop=k.onTop;this.onNotTop=k.onNotTop}d.prototype={constructor:d,init:function(){if(!d.cutsTheMustard){return}this.elem.classList.add(this.classes.initial);setTimeout(this.attachEvent.bind(this),100);return this},destroy:function(){var k=this.classes;this.initialised=false;this.elem.classList.remove(k.unpinned,k.pinned,k.top,k.initial);this.scroller.removeEventListener("scroll",this.debouncer,false)},attachEvent:function(){if(!this.initialised){this.lastKnownScrollY=this.getScrollY();this.initialised=true;this.scroller.addEventListener("scroll",this.debouncer,false);this.debouncer.handleEvent()}},unpin:function(){var l=this.elem.classList,k=this.classes;if(l.contains(k.pinned)||!l.contains(k.unpinned)){l.add(k.unpinned);l.remove(k.pinned);this.onUnpin&&this.onUnpin.call(this)}},pin:function(){var l=this.elem.classList,k=this.classes;if(l.contains(k.unpinned)){l.remove(k.unpinned);l.add(k.pinned);this.onPin&&this.onPin.call(this)}},top:function(){var l=this.elem.classList,k=this.classes;if(!l.contains(k.top)){l.add(k.top);l.remove(k.notTop);this.onTop&&this.onTop.call(this)}},notTop:function(){var l=this.elem.classList,k=this.classes;if(!l.contains(k.notTop)){l.add(k.notTop);l.remove(k.top);this.onNotTop&&this.onNotTop.call(this)}},getScrollY:function(){return(this.scroller.pageYOffset!==undefined)?this.scroller.pageYOffset:(this.scroller.scrollTop!==undefined)?this.scroller.scrollTop:(c.documentElement||c.body.parentNode||c.body).scrollTop},getViewportHeight:function(){return h.innerHeight||c.documentElement.clientHeight||c.body.clientHeight},getDocumentHeight:function(){var k=c.body,l=c.documentElement;return Math.max(k.scrollHeight,l.scrollHeight,k.offsetHeight,l.offsetHeight,k.clientHeight,l.clientHeight)},getElementHeight:function(k){return Math.max(k.scrollHeight,k.offsetHeight,k.clientHeight)},getScrollerHeight:function(){return(this.scroller===h||this.scroller===c.body)?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(m){var l=m<0,k=m+this.getViewportHeight()>this.getScrollerHeight();return l||k},toleranceExceeded:function(l,k){return Math.abs(l-this.lastKnownScrollY)>=this.tolerance[k]},shouldUnpin:function(n,k){var l=n>this.lastKnownScrollY,m=n>=this.offset;return l&&m&&k},shouldPin:function(n,l){var k=n<this.lastKnownScrollY,m=n<=this.offset;return(k&&l)||m},update:function(){var m=this.getScrollY(),l=m>this.lastKnownScrollY?"down":"up",k=this.toleranceExceeded(m,l);if(this.isOutOfBounds(m)){return}if(m<=this.offset){this.top()}else{this.notTop()}if(this.shouldUnpin(m,k)){this.unpin()}else{if(this.shouldPin(m,k)){this.pin()}}this.lastKnownScrollY=m}};d.options={tolerance:{up:0,down:0},offset:0,scroller:h,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}};d.cutsTheMustard=typeof g!=="undefined"&&g.rAF&&g.bind&&g.classList;h.Headroom=d}(window,document))},function(b,a,d){var c;c=d(2);b.exports={init:function(f){var h,g,e;e=c("html").hasClass("touch");g=c(window);h=c(document);return c(".header__menu").each(function(){var m,p,k,o,r,i,n,t,j,l,q,s;m=c(this);r=m.find("> .header__menu__title");k=m.find("> .header__menu-main");i=m.find("> .header__menu-toggle");i.html(k.html());p=k.find("> ul > li");o=i.find("> ul > li");s=100;j=null;l=null;q=function(){j=p.map(function(){return c(this).outerWidth(true)}).get();l=j.reduce(function(x,y,v,u){var w;w=v>0?x[v-1]:0;x.push(w+y);return x},[])};t=function(v,u){return u.filter(function(w){return w<v}).length};n=function(){var v,u,w;if(c(window).width()<700){u=0;w=true}else{v=k.outerWidth();u=t(v,l);w=u<p.length;if(w){u=t(v-s,l)}}m.toggleClass("has-toggle",w);if(!w){m.removeClass("is-open")}p.slice(0,u).css("display","");p.slice(u).css("display","none");o.slice(0,u).css("display","none");return o.slice(u).css("display","")};q();n();g.on("load",function(){q();return n()}).on("resize",function(){return n()});return m.css("visibility","visible")})}}},function(b,a,d){var c;c=d(2);a.init=function(f){var e;e=true;c(document).on("click",".js-tab-links",function(i){var g,k,j,h,m,l;i.preventDefault();g=c(this);if(g.is(".is-active")||g.is(".is-disabled")){return}l=g.attr("href");j=c(l);m=j.closest(".box-tabs");k=m.find(".js-tab-links");h=j.siblings(".box-tabs__fragment");j.addClass("is-active");h.removeClass("is-active");k.removeClass("is-active");g.addClass("is-active");if(m.hasClass("with-history")&&e){history.pushState(null,null,l)}if(g.hasClass("is-ajax")&&!g.data("ajaxed")){return c.ajax({url:g.data("ajax")}).done(function(n){j.find(".box-tabs__content").html(n);return g.data("ajaxed",true)})}}).on("click",".box-tabs__responsive-link",function(h){var l,i,k,g,j;h.preventDefault();j=c(this);k=j.closest(".box-tabs");i=j.closest(".box-tabs__fragment");l=k.find(".js-tab-links");g=l.filter('[href="#'+i.attr("id")+'"]');if(g.hasClass("is-active")){return g.add(i).removeClass("is-active")}else{g.trigger("click");if(i.offset().top<c(window).scrollTop()){return c("body, html").animate({scrollTop:i.offset().top},250)}}});c(window).on("hashchange",function(){var g;g="";e=false;if(location.hash!==""){c(".box-tabs .js-tab-links[href="+location.hash+"]").click()}else{c(".box-tabs .box-tabs__menu__item:first-child .js-tab-links").click()}return e=true}).trigger("hashchange");return c(".box-tabs").each(function(){if(c(this).hasClass("mobile-hide")&&c(window).width()<700){return c(this).find(".is-active").removeClass("is-active")}})}},function(b,a,d){var c;c=d(2);b.exports={init:function(g){var e,f;e=g.$target;f=c("html").hasClass("touch");if(e.find(".menu-secondary__link").length){if(f){return c(document).on("touchend",function(j){var i,h;if(!c(j.target).closest(".menu-secondary__submenu").length){c(".menu-secondary__submenu.is-open").removeClass("is-open");c(".menu-secondary__link.is-hover").removeClass("is-hover");c(".menu-secondary__wrap").next(".menu-secondary__submenu").remove()}if(c(j.target).closest(".menu-secondary__link").length){i=c(j.target).closest(".menu-secondary__link");if(i.next(".menu-secondary__submenu").length){i.addClass("is-hover");c(".menu-secondary__link").not(i).removeClass("is-prevented");if(i.hasClass("is-prevented")){return i.removeClass("is-prevented")}else{j.preventDefault();i.addClass("is-prevented");h=i.next(".menu-secondary__submenu");return h.parents(".menu-secondary__wrap").after(h.clone().addClass("is-open"))}}}else{return c(".menu-secondary__link.is-prevented").removeClass("is-prevented")}})}else{return c(document).on("mouseover",function(j){var i,h,k;c(".menu-secondary__submenu.is-open").removeClass("is-open");c(".menu-secondary__link.is-hover").removeClass("is-hover");if(c(j.target).closest(".menu-secondary__link").length){e=c(j.target).closest(".menu-secondary__link").addClass("is-hover");k=e.position().left;return e.next(".menu-secondary__submenu").addClass("is-open").css("left",k)}else{if(c(j.target).closest(".menu-secondary__submenu").length){h=c(j.target).closest(".menu-secondary__submenu");i=h.prev(".menu-secondary__link");h.addClass("is-open");return i.addClass("is-hover")}}})}}}}},function(b,a,d){var c;c=d(2);d(16);b.exports={init:function(g){var e,f;e=g.$target;f={byRow:true,property:"min-height",target:null,remove:false};e.find(".box-grid__inner").matchHeight(f);e.find(".box-product__content").matchHeight(f);e.find(".box-article-grid__content").matchHeight(f);e.find(".box-event").not(".box-event--side").find(".box-event__content").matchHeight(f);e.find(".crossroad-std").each(function(){return c(this).find(".box-category, .box-article-grid:not(.grid__cell .grid__cell>.box-article-grid)").matchHeight()});e.find(".grid__cell .grid__cell>.box-article-grid").matchHeight();c.fn.matchHeight._beforeUpdate=function(i,h){var j;j=e.find(".js-equal-nested-grid>.grid");return j.find(".box-article-grid").height("auto")};return c.fn.matchHeight._afterUpdate=function(h,k){var q,i,n,j,r,l,p,o,m;if(c(window).width()<700){return}r=e.find(".js-equal-nested-grid>.grid");j=r.length?r.find(".grid"):null;if(j&&j.length){n=j.closest(".grid__cell");q=n.siblings();r.find(".box-article-grid");if(q.height()<n.height()){q.find(".box-article-grid").height(n.height())}else{if(q.height()>n.height()){p=q.height()-n.height();i=n.find(".box-article-grid");m=Math.ceil(i.length/Math.floor(n.width()/i.width()));o=p%m;l=Math.floor(p/m);i.each(function(s){if(o>0&&s<o){return c(this).outerHeight(c(this).outerHeight()+l+1)}else{return c(this).outerHeight(c(this).outerHeight()+l)}})}}}return e.find(".crossroad-std").each(function(){return c(this).find(".box-article-grid:not(.grid__cell .grid__cell>.box-article-grid)").each(function(){var t,s;t=c(this);s=t.find(".box-article-grid__content");if(t.is(".box-article-grid--noimg")){s.height("auto")}if(t.is(".box-article-grid")&&t.is(".box-article-grid--noimg")&&!t.is(".box-article-grid--noborder")&&s.outerHeight()<t.height()){return s.outerHeight(t.height())}})})}}}},function(c,b,e){var d,a,f;(function(g){if(true){!(a=[e(2)],d=(g),f=(typeof d==="function"?(d.apply(b,a)):d),f!==undefined&&(c.exports=f))}else{if(typeof c!=="undefined"&&c.exports){c.exports=g(require("jquery"))}else{g(jQuery)}}})(function(h){var k=-1,j=-1;var i=function(p){return parseFloat(p)||0};var m=function(t){var p=1,r=h(t),q=null,s=[];r.each(function(){var u=h(this),w=u.offset().top-i(u.css("margin-top")),v=s.length>0?s[s.length-1]:null;if(v===null){s.push(u)}else{if(Math.floor(Math.abs(q-w))<=p){s[s.length-1]=v.add(u)}else{s.push(u)}}q=w});return s};var n=function(p){var q={byRow:true,property:"height",target:null,remove:false};if(typeof p==="object"){return h.extend(q,p)}if(typeof p==="boolean"){q.byRow=p}else{if(p==="remove"){q.remove=true}}return q};var g=h.fn.matchHeight=function(p){var r=n(p);if(r.remove){var q=this;this.css(r.property,"");h.each(g._groups,function(s,t){t.elements=t.elements.not(q)});return this}if(this.length<=1&&!r.target){return this}g._groups.push({elements:this,options:r});g._apply(this,r);return this};g.version="0.7.2";g._groups=[];g._throttle=80;g._maintainScroll=false;g._beforeUpdate=null;g._afterUpdate=null;g._rows=m;g._parse=i;g._parseOptions=n;g._apply=function(v,r){var t=n(r),s=h(v),u=[s];var w=h(window).scrollTop(),q=h("html").outerHeight(true);var p=s.parents().filter(":hidden");p.each(function(){var x=h(this);x.data("style-cache",x.attr("style"))});p.css("display","block");if(t.byRow&&!t.target){s.each(function(){var x=h(this),y=x.css("display");if(y!=="inline-block"&&y!=="flex"&&y!=="inline-flex"){y="block"}x.data("style-cache",x.attr("style"));x.css({display:y,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})});u=m(s);s.each(function(){var x=h(this);x.attr("style",x.data("style-cache")||"")})}h.each(u,function(z,A){var y=h(A),x=0;if(!t.target){if(t.byRow&&y.length<=1){y.css(t.property,"");return}y.each(function(){var B=h(this),D=B.attr("style"),E=B.css("display");if(E!=="inline-block"&&E!=="flex"&&E!=="inline-flex"){E="block"}var C={display:E};C[t.property]="";B.css(C);if(B.outerHeight(false)>x){x=B.outerHeight(false)}if(D){B.attr("style",D)}else{B.css("display","")}})}else{x=t.target.outerHeight(false)}y.each(function(){var C=h(this),B=0;if(t.target&&C.is(t.target)){return}if(C.css("box-sizing")!=="border-box"){B+=i(C.css("border-top-width"))+i(C.css("border-bottom-width"));B+=i(C.css("padding-top"))+i(C.css("padding-bottom"))}C.css(t.property,(x-B)+"px")})});p.each(function(){var x=h(this);x.attr("style",x.data("style-cache")||null)});if(g._maintainScroll){h(window).scrollTop((w/q)*h("html").outerHeight(true))}return this};g._applyDataApi=function(){var p={};h("[data-match-height], [data-mh]").each(function(){var r=h(this),q=r.attr("data-mh")||r.attr("data-match-height");if(q in p){p[q]=p[q].add(r)}else{p[q]=r}});h.each(p,function(){this.matchHeight(true)})};var o=function(p){if(g._beforeUpdate){g._beforeUpdate(p,g._groups)}h.each(g._groups,function(){g._apply(this.elements,this.options)});if(g._afterUpdate){g._afterUpdate(p,g._groups)}};g._update=function(r,q){if(q&&q.type==="resize"){var p=h(window).width();if(p===k){return}k=p}if(!r){o(q)}else{if(j===-1){j=setTimeout(function(){o(q);j=-1},g._throttle)}}};h(g._applyDataApi);var l=h.fn.on?"on":"bind";h(window)[l]("load",function(p){g._update(false,p)});h(window)[l]("resize orientationchange",function(p){g._update(true,p)})})},function(b,a,d){var c;c=d(2);d(18);b.exports={init:function(f){var e;e=f.$target;e.find(".js-select").selectize({copyClassesToDropdown:false,onChange:function(g){var h;h=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/;if(h.test(g)){return window.location.href=g}}});return e.find(".js-suggest").each(function(){var g,i,h;g=c(this);i=g.data("suggest");h=[{name:"Kategorie",id:"category"},{name:"Textové výsledky",id:"item"}];return g.selectize({copyClassesToDropdown:false,plugins:["restore_on_backspace"],maxItems:1,valueField:"value",labelField:"text",searchField:["text"],optgroupField:"field",optgroupValueField:"id",optgroupLabelField:"name",preload:true,options:[],optgroups:i.optgroups!=null?i.optgroups:h,create:true,persist:false,render:{option_create:function(k,j){return'<div class="create">Vyhledat <strong>'+j(k.input)+"</strong>&hellip;</div>"},optgroup:function(k,j){return'<div class="optgroup'+(k.id==="category"?" optgroup-category":"")+'">'+k.html+"</div>"},optgroup_header:function(k,j){return'<div class="optgroup-header">'+j(k.name)+"</div>"},option:function(k,j){return"<div>"+j(k.text)+"</div>"}},load:function(j,k){return c.ajax({url:i.url+"?"+encodeURIComponent(j),type:"GET",success:function(l){return k(JSON.parse(l))}})},onChange:function(j){return g[0].form.submit()}})})}}},function(c,b,e){var d,a,f;(function(g,h){if(true){!(a=[e(2),e(19),e(20)],d=(h),f=(typeof d==="function"?(d.apply(b,a)):d),f!==undefined&&(c.exports=f))}else{if(typeof b==="object"){c.exports=h(require("jquery"),require("sifter"),require("microplugin"))}else{g.Selectize=h(g.jQuery,g.Sifter,g.MicroPlugin)}}}(this,function(B,s,o){var S=function(V,Y){if(typeof Y==="string"&&!Y.length){return}var X=(typeof Y==="string")?new RegExp(Y,"i"):Y;var W=function(ab){var ah=0;if(ab.nodeType===3){var ag=ab.data.search(X);if(ag>=0&&ab.data.length>0){var af=ab.data.match(X);var ae=document.createElement("span");ae.className="highlight";var ac=ab.splitText(ag);var Z=ac.splitText(af[0].length);var aa=ac.cloneNode(true);ae.appendChild(aa);ac.parentNode.replaceChild(ae,ac);ah=1}}else{if(ab.nodeType===1&&ab.childNodes&&!/(script|style)/i.test(ab.tagName)){for(var ad=0;ad<ab.childNodes.length;++ad){ad+=W(ab.childNodes[ad])}}}return ah};return V.each(function(){W(this)})};B.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var V=this.parentNode;V.replaceChild(this.firstChild,this);V.normalize()}).end()};var M=function(){};M.prototype={on:function(W,V){this._events=this._events||{};this._events[W]=this._events[W]||[];this._events[W].push(V)},off:function(W,V){var X=arguments.length;if(X===0){return delete this._events}if(X===1){return delete this._events[W]}this._events=this._events||{};if(W in this._events===false){return}this._events[W].splice(this._events[W].indexOf(V),1)},trigger:function(W){this._events=this._events||{};if(W in this._events===false){return}for(var V=0;V<this._events[W].length;V++){this._events[W][V].apply(this,Array.prototype.slice.call(arguments,1))}}};M.mixin=function(V){var X=["on","off","trigger"];for(var W=0;W<X.length;W++){V.prototype[X[W]]=M.prototype[X[W]]}};var h=/Mac/.test(navigator.userAgent);var O=65;var T=188;var F=13;var C=27;var v=37;var N=38;var D=80;var z=39;var A=40;var H=78;var u=8;var w=46;var p=16;var P=h?91:17;var k=h?18:17;var L=9;var q=1;var n=2;var I=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity;var U=function(V){return typeof V!=="undefined"};var E=function(V){if(typeof V==="undefined"||V===null){return null}if(typeof V==="boolean"){return V?"1":"0"}return V+""};var J=function(V){return(V+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var l=function(V){return(V+"").replace(/\$/g,"$$$$")};var y={};y.before=function(V,Y,X){var W=V[Y];V[Y]=function(){X.apply(V,arguments);return W.apply(V,arguments)}};y.after=function(V,Y,X){var W=V[Y];V[Y]=function(){var Z=W.apply(V,arguments);X.apply(V,arguments);return Z}};var x=function(V){var W=false;return function(){if(W){return}W=true;V.apply(this,arguments)}};var m=function(W,V){var X;return function(){var Y=this;var Z=arguments;window.clearTimeout(X);X=window.setTimeout(function(){W.apply(Y,Z)},V)}};var g=function(V,X,Z){var Y;var W=V.trigger;var aa={};V.trigger=function(){var ab=arguments[0];if(X.indexOf(ab)!==-1){aa[ab]=arguments}else{return W.apply(V,arguments)}};Z.apply(V,[]);V.trigger=W;for(Y in aa){if(aa.hasOwnProperty(Y)){W.apply(V,aa[Y])}}};var G=function(Y,X,V,W){Y.on(X,V,function(Z){var aa=Z.target;while(aa&&aa.parentNode!==Y[0]){aa=aa.parentNode}Z.currentTarget=aa;return W.apply(this,[Z])})};var r=function(X){var W={};if("selectionStart" in X){W.start=X.selectionStart;W.length=X.selectionEnd-W.start}else{if(document.selection){X.focus();var Y=document.selection.createRange();var V=document.selection.createRange().text.length;Y.moveStart("character",-X.value.length);W.start=Y.text.length-V;W.length=V}}return W};var t=function(Y,Z,W){var V,aa,X={};if(W){for(V=0,aa=W.length;V<aa;V++){X[W[V]]=Y.css(W[V])}}else{X=Y.css()}Z.css(X)};var Q=function(Y,X){if(!Y){return 0}var W=B("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(Y).appendTo("body");t(X,W,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var V=W.width();W.remove();return V};var R=function(X){var V=null;var W=function(ab,ah){var af,ag,ac,ae,Y;var Z,aa,ad;ab=ab||window.event||{};ah=ah||{};if(ab.metaKey||ab.altKey){return}if(!ah.force&&X.data("grow")===false){return}af=X.val();if(ab.type&&ab.type.toLowerCase()==="keydown"){ag=ab.keyCode;ac=((ag>=97&&ag<=122)||(ag>=65&&ag<=90)||(ag>=48&&ag<=57)||ag===32);if(ag===w||ag===u){ad=r(X[0]);if(ad.length){af=af.substring(0,ad.start)+af.substring(ad.start+ad.length)}else{if(ag===u&&ad.start){af=af.substring(0,ad.start-1)+af.substring(ad.start+1)}else{if(ag===w&&typeof ad.start!=="undefined"){af=af.substring(0,ad.start)+af.substring(ad.start+1)}}}}else{if(ac){Z=ab.shiftKey;aa=String.fromCharCode(ab.keyCode);if(Z){aa=aa.toUpperCase()}else{aa=aa.toLowerCase()}af+=aa}}}ae=X.attr("placeholder");if(!af&&ae){af=ae}Y=Q(af,X)+4;if(Y!==V){V=Y;X.width(Y);X.triggerHandler("resize")}};X.on("keydown keyup update blur",W);W()};var K=function(W){var V=document.createElement("div");V.appendChild(W.cloneNode(true));return V.innerHTML};var j=function(X,W){if(!W){W={}}var V="Selectize";console.error(V+": "+X);if(W.explanation){if(console.group){console.group()}console.error(W.explanation);if(console.group){console.groupEnd()}}};var i=function(aa,X){var ac,Y,V,W,ab,ad=this;ab=aa[0];ab.selectize=ad;var Z=window.getComputedStyle&&window.getComputedStyle(ab,null);W=Z?Z.getPropertyValue("direction"):ab.currentStyle&&ab.currentStyle.direction;W=W||aa.parents("[dir]:first").attr("dir")||"";B.extend(ad,{order:0,settings:X,$input:aa,tabIndex:aa.attr("tabindex")||"",tagType:ab.tagName.toLowerCase()==="select"?q:n,rtl:/rtl/i.test(W),eventNS:".selectize"+(++i.count),highlightedValue:null,isOpen:false,isDisabled:false,isRequired:aa.is("[required]"),isInvalid:false,isLocked:false,isFocused:false,isInputHidden:false,isSetup:false,isShiftDown:false,isCmdDown:false,isCtrlDown:false,ignoreFocus:false,ignoreBlur:false,ignoreHover:false,hasOptions:false,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:X.loadThrottle===null?ad.onSearchChange:m(ad.onSearchChange,X.loadThrottle)});ad.sifter=new s(this.options,{diacritics:X.diacritics});if(ad.settings.options){for(Y=0,V=ad.settings.options.length;Y<V;Y++){ad.registerOption(ad.settings.options[Y])}delete ad.settings.options}if(ad.settings.optgroups){for(Y=0,V=ad.settings.optgroups.length;Y<V;Y++){ad.registerOptionGroup(ad.settings.optgroups[Y])}delete ad.settings.optgroups}ad.settings.mode=ad.settings.mode||(ad.settings.maxItems===1?"single":"multi");if(typeof ad.settings.hideSelected!=="boolean"){ad.settings.hideSelected=ad.settings.mode==="multi"}ad.initializePlugins(ad.settings.plugins);ad.setupCallbacks();ad.setupTemplates();ad.setup()};M.mixin(i);if(typeof o!=="undefined"){o.mixin(i)}else{j("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})}B.extend(i.prototype,{setup:function(){var ab=this;var ai=ab.settings;var ae=ab.eventNS;var aa=B(window);var am=B(document);var X=ab.$input;var ag;var ak;var W;var Y;var ac;var ah;var an;var Z;var al;var aj;var ad;var af;an=ab.settings.mode;aj=X.attr("class")||"";ag=B("<div>").addClass(ai.wrapperClass).addClass(aj).addClass(an);ak=B("<div>").addClass(ai.inputClass).addClass("items").appendTo(ag);W=B('<input type="text" autocomplete="off" />').appendTo(ak).attr("tabindex",X.is(":disabled")?"-1":ab.tabIndex);ah=B(ai.dropdownParent||ag);Y=B("<div>").addClass(ai.dropdownClass).addClass(an).hide().appendTo(ah);ac=B("<div>").addClass(ai.dropdownContentClass).appendTo(Y);if(af=X.attr("id")){W.attr("id",af+"-selectized");B("label[for='"+af+"']").attr("for",af+"-selectized")}if(ab.settings.copyClassesToDropdown){Y.addClass(aj)}ag.css({width:X[0].style.width});if(ab.plugins.names.length){ad="plugin-"+ab.plugins.names.join(" plugin-");ag.addClass(ad);Y.addClass(ad)}if((ai.maxItems===null||ai.maxItems>1)&&ab.tagType===q){X.attr("multiple","multiple")}if(ab.settings.placeholder){W.attr("placeholder",ai.placeholder)}if(!ab.settings.splitOn&&ab.settings.delimiter){var V=ab.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");ab.settings.splitOn=new RegExp("\\s*"+V+"+\\s*")}if(X.attr("autocorrect")){W.attr("autocorrect",X.attr("autocorrect"))}if(X.attr("autocapitalize")){W.attr("autocapitalize",X.attr("autocapitalize"))}ab.$wrapper=ag;ab.$control=ak;ab.$control_input=W;ab.$dropdown=Y;ab.$dropdown_content=ac;Y.on("mouseenter","[data-selectable]",function(){return ab.onOptionHover.apply(ab,arguments)});Y.on("mousedown click","[data-selectable]",function(){return ab.onOptionSelect.apply(ab,arguments)});G(ak,"mousedown","*:not(input)",function(){return ab.onItemSelect.apply(ab,arguments)});R(W);ak.on({mousedown:function(){return ab.onMouseDown.apply(ab,arguments)},click:function(){return ab.onClick.apply(ab,arguments)}});W.on({mousedown:function(ao){ao.stopPropagation()},keydown:function(){return ab.onKeyDown.apply(ab,arguments)},keyup:function(){return ab.onKeyUp.apply(ab,arguments)},keypress:function(){return ab.onKeyPress.apply(ab,arguments)},resize:function(){ab.positionDropdown.apply(ab,[])},blur:function(){return ab.onBlur.apply(ab,arguments)},focus:function(){ab.ignoreBlur=false;return ab.onFocus.apply(ab,arguments)},paste:function(){return ab.onPaste.apply(ab,arguments)}});am.on("keydown"+ae,function(ao){ab.isCmdDown=ao[h?"metaKey":"ctrlKey"];ab.isCtrlDown=ao[h?"altKey":"ctrlKey"];ab.isShiftDown=ao.shiftKey});am.on("keyup"+ae,function(ao){if(ao.keyCode===k){ab.isCtrlDown=false}if(ao.keyCode===p){ab.isShiftDown=false}if(ao.keyCode===P){ab.isCmdDown=false}});am.on("mousedown"+ae,function(ao){if(ab.isFocused){if(ao.target===ab.$dropdown[0]||ao.target.parentNode===ab.$dropdown[0]){return false}if(!ab.$control.has(ao.target).length&&ao.target!==ab.$control[0]){ab.blur(ao.target)}}});aa.on(["scroll"+ae,"resize"+ae].join(" "),function(){if(ab.isOpen){ab.positionDropdown.apply(ab,arguments)}});aa.on("mousemove"+ae,function(){ab.ignoreHover=false});this.revertSettings={$children:X.children().detach(),tabindex:X.attr("tabindex")};X.attr("tabindex",-1).hide().after(ab.$wrapper);if(B.isArray(ai.items)){ab.setValue(ai.items);delete ai.items}if(I){X.on("invalid"+ae,function(ao){ao.preventDefault();ab.isInvalid=true;ab.refreshState()})}ab.updateOriginalInput();ab.refreshItems();ab.refreshState();ab.updatePlaceholder();ab.isSetup=true;if(X.is(":disabled")){ab.disable()}ab.on("change",this.onChange);X.data("selectize",ab);X.addClass("selectized");ab.trigger("initialize");if(ai.preload===true){ab.onSearchChange("")}},setupTemplates:function(){var W=this;var V=W.settings.labelField;var X=W.settings.optgroupLabelField;var Y={optgroup:function(Z){return'<div class="optgroup">'+Z.html+"</div>"},optgroup_header:function(aa,Z){return'<div class="optgroup-header">'+Z(aa[X])+"</div>"},option:function(aa,Z){return'<div class="option">'+Z(aa[V])+"</div>"},item:function(aa,Z){return'<div class="item">'+Z(aa[V])+"</div>"},option_create:function(aa,Z){return'<div class="create">Add <strong>'+Z(aa.input)+"</strong>&hellip;</div>"}};W.settings.render=B.extend({},Y,W.settings.render)},setupCallbacks:function(){var V,W,X={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(V in X){if(X.hasOwnProperty(V)){W=this.settings[X[V]];if(W){this.on(V,W)}}}},onClick:function(W){var V=this;if(!V.isFocused){V.focus();W.preventDefault()}},onMouseDown:function(Y){var W=this;var X=Y.isDefaultPrevented();var V=B(Y.target);if(W.isFocused){if(Y.target!==W.$control_input[0]){if(W.settings.mode==="single"){W.isOpen?W.close():W.open()}else{if(!X){W.setActiveItem(null)}}return false}}else{if(!X){window.setTimeout(function(){W.focus()},0)}}},onChange:function(){this.$input.trigger("change")},onPaste:function(W){var V=this;if(V.isFull()||V.isInputHidden||V.isLocked){W.preventDefault();return}if(V.settings.splitOn){setTimeout(function(){var Y=V.$control_input.val();if(!Y.match(V.settings.splitOn)){return}var X=B.trim(Y).split(V.settings.splitOn);for(var Z=0,aa=X.length;Z<aa;Z++){V.createItem(X[Z])}},0)}},onKeyPress:function(W){if(this.isLocked){return W&&W.preventDefault()}var V=String.fromCharCode(W.keyCode||W.which);if(this.settings.create&&this.settings.mode==="multi"&&V===this.settings.delimiter){this.createItem();W.preventDefault();return false}},onKeyDown:function(Z){var Y=Z.target===this.$control_input[0];var X=this;if(X.isLocked){if(Z.keyCode!==L){Z.preventDefault()}return}switch(Z.keyCode){case O:if(X.isCmdDown){X.selectAll();return}break;case C:if(X.isOpen){Z.preventDefault();Z.stopPropagation();X.close()}return;case H:if(!Z.ctrlKey||Z.altKey){break}case A:if(!X.isOpen&&X.hasOptions){X.open()}else{if(X.$activeOption){X.ignoreHover=true;var V=X.getAdjacentOption(X.$activeOption,1);if(V.length){X.setActiveOption(V,true,true)}}}Z.preventDefault();return;case D:if(!Z.ctrlKey||Z.altKey){break}case N:if(X.$activeOption){X.ignoreHover=true;var W=X.getAdjacentOption(X.$activeOption,-1);if(W.length){X.setActiveOption(W,true,true)}}Z.preventDefault();return;case F:if(X.isOpen&&X.$activeOption){X.onOptionSelect({currentTarget:X.$activeOption});Z.preventDefault()}return;case v:X.advanceSelection(-1,Z);return;case z:X.advanceSelection(1,Z);return;case L:if(X.settings.selectOnTab&&X.isOpen&&X.$activeOption){X.onOptionSelect({currentTarget:X.$activeOption});if(!X.isFull()){Z.preventDefault()}}if(X.settings.create&&X.createItem()){Z.preventDefault()}return;case u:case w:X.deleteSelection(Z);return}if((X.isFull()||X.isInputHidden)&&!(h?Z.metaKey:Z.ctrlKey)){Z.preventDefault();return}},onKeyUp:function(X){var V=this;if(V.isLocked){return X&&X.preventDefault()}var W=V.$control_input.val()||"";if(V.lastValue!==W){V.lastValue=W;V.onSearchChange(W);V.refreshOptions();V.trigger("type",W)}},onSearchChange:function(X){var V=this;var W=V.settings.load;if(!W){return}if(V.loadedSearches.hasOwnProperty(X)){return}V.loadedSearches[X]=true;V.load(function(Y){W.apply(V,[X,Y])})},onFocus:function(X){var V=this;var W=V.isFocused;if(V.isDisabled){V.blur();X&&X.preventDefault();return false}if(V.ignoreFocus){return}V.isFocused=true;if(V.settings.preload==="focus"){V.onSearchChange("")}if(!W){V.trigger("focus")}if(!V.$activeItems.length){V.showInput();V.setActiveItem(null);V.refreshOptions(!!V.settings.openOnFocus)}V.refreshState()},onBlur:function(Y,W){var V=this;if(!V.isFocused){return}V.isFocused=false;if(V.ignoreFocus){return}else{if(!V.ignoreBlur&&document.activeElement===V.$dropdown_content[0]){V.ignoreBlur=true;V.onFocus(Y);return}}var X=function(){V.close();V.setTextboxValue("");V.setActiveItem(null);V.setActiveOption(null);V.setCaret(V.items.length);V.refreshState();W&&W.focus&&W.focus();V.ignoreFocus=false;V.trigger("blur")};V.ignoreFocus=true;if(V.settings.create&&V.settings.createOnBlur){V.createItem(null,false,X)}else{X()}},onOptionHover:function(V){if(this.ignoreHover){return}this.setActiveOption(V.currentTarget,false)},onOptionSelect:function(Z){var X,V,Y,W=this;if(Z.preventDefault){Z.preventDefault();Z.stopPropagation()}V=B(Z.currentTarget);if(V.hasClass("create")){W.createItem(null,function(){if(W.settings.closeAfterSelect){W.close()}})}else{X=V.attr("data-value");if(typeof X!=="undefined"){W.lastQuery=null;W.setTextboxValue("");W.addItem(X);if(W.settings.closeAfterSelect){W.close()}else{if(!W.settings.hideSelected&&Z.type&&/mouse/.test(Z.type)){W.setActiveOption(W.getOption(X))}}}}},onItemSelect:function(W){var V=this;if(V.isLocked){return}if(V.settings.mode==="multi"){W.preventDefault();V.setActiveItem(W.currentTarget,W)}},load:function(W){var V=this;var X=V.$wrapper.addClass(V.settings.loadingClass);V.loading++;W.apply(V,[function(Y){V.loading=Math.max(V.loading-1,0);if(Y&&Y.length){V.addOption(Y);V.refreshOptions(V.isFocused&&!V.isInputHidden)}if(!V.loading){X.removeClass(V.settings.loadingClass)}V.trigger("load",Y)}])},setTextboxValue:function(V){var X=this.$control_input;var W=X.val()!==V;if(W){X.val(V).triggerHandler("update");this.lastValue=V}},getValue:function(){if(this.tagType===q&&this.$input.attr("multiple")){return this.items}else{return this.items.join(this.settings.delimiter)}},setValue:function(X,V){var W=V?[]:["change"];g(this,W,function(){this.clear(V);this.addItems(X,V)})},setActiveItem:function(ac,aa){var af=this;var Z;var Y,ad,V,X,ae,W;var ab;if(af.settings.mode==="single"){return}ac=B(ac);if(!ac.length){B(af.$activeItems).removeClass("active");af.$activeItems=[];if(af.isFocused){af.showInput()}return}Z=aa&&aa.type.toLowerCase();if(Z==="mousedown"&&af.isShiftDown&&af.$activeItems.length){ab=af.$control.children(".active:last");V=Array.prototype.indexOf.apply(af.$control[0].childNodes,[ab[0]]);X=Array.prototype.indexOf.apply(af.$control[0].childNodes,[ac[0]]);if(V>X){W=V;V=X;X=W}for(Y=V;Y<=X;Y++){ae=af.$control[0].childNodes[Y];if(af.$activeItems.indexOf(ae)===-1){B(ae).addClass("active");af.$activeItems.push(ae)}}aa.preventDefault()}else{if((Z==="mousedown"&&af.isCtrlDown)||(Z==="keydown"&&this.isShiftDown)){if(ac.hasClass("active")){ad=af.$activeItems.indexOf(ac[0]);af.$activeItems.splice(ad,1);ac.removeClass("active")}else{af.$activeItems.push(ac.addClass("active")[0])}}else{B(af.$activeItems).removeClass("active");af.$activeItems=[ac.addClass("active")[0]]}}af.hideInput();if(!this.isFocused){af.focus()}},setActiveOption:function(V,ab,X){var W,ac,aa;var Z,Y;var ad=this;if(ad.$activeOption){ad.$activeOption.removeClass("active")}ad.$activeOption=null;V=B(V);if(!V.length){return}ad.$activeOption=V.addClass("active");if(ab||!U(ab)){W=ad.$dropdown_content.height();ac=ad.$activeOption.outerHeight(true);ab=ad.$dropdown_content.scrollTop()||0;aa=ad.$activeOption.offset().top-ad.$dropdown_content.offset().top+ab;Z=aa;Y=aa-W+ac;if(aa+ac>W+ab){ad.$dropdown_content.stop().animate({scrollTop:Y},X?ad.settings.scrollDuration:0)}else{if(aa<ab){ad.$dropdown_content.stop().animate({scrollTop:Z},X?ad.settings.scrollDuration:0)}}}},selectAll:function(){var V=this;if(V.settings.mode==="single"){return}V.$activeItems=Array.prototype.slice.apply(V.$control.children(":not(input)").addClass("active"));if(V.$activeItems.length){V.hideInput();V.close()}V.focus()},hideInput:function(){var V=this;V.setTextboxValue("");V.$control_input.css({opacity:0,position:"absolute",left:V.rtl?10000:-10000});V.isInputHidden=true},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=false},focus:function(){var V=this;if(V.isDisabled){return}V.ignoreFocus=true;V.$control_input[0].focus();window.setTimeout(function(){V.ignoreFocus=false;V.onFocus()},0)},blur:function(V){this.$control_input[0].blur();this.onBlur(null,V)},getScoreFunction:function(V){return this.sifter.getScoreFunction(V,this.getSearchOptions())},getSearchOptions:function(){var W=this.settings;var V=W.sortField;if(typeof V==="string"){V=[{field:V}]}return{fields:W.searchField,conjunction:W.searchConjunction,sort:V}},search:function(Z){var Y,aa,V,ad,X;var ab=this;var W=ab.settings;var ac=this.getSearchOptions();if(W.score){X=ab.settings.score.apply(this,[Z]);if(typeof X!=="function"){throw new Error('Selectize "score" setting must be a function that returns a function')}}if(Z!==ab.lastQuery){ab.lastQuery=Z;ad=ab.sifter.search(Z,B.extend(ac,{score:X}));ab.currentResults=ad}else{ad=B.extend(true,{},ab.currentResults)}if(W.hideSelected){for(Y=ad.items.length-1;Y>=0;Y--){if(ab.items.indexOf(E(ad.items[Y].id))!==-1){ad.items.splice(Y,1)}}}return ad},refreshOptions:function(af){var am,al,ak,ai,ap,V,ab,an,X,aj,Z,ao,aa;var Y,ae,ag;if(typeof af==="undefined"){af=true}var ad=this;var W=B.trim(ad.$control_input.val());var ah=ad.search(W);var ac=ad.$dropdown_content;var aq=ad.$activeOption&&E(ad.$activeOption.attr("data-value"));ai=ah.items.length;if(typeof ad.settings.maxOptions==="number"){ai=Math.min(ai,ad.settings.maxOptions)}ap={};V=[];for(am=0;am<ai;am++){ab=ad.options[ah.items[am].id];an=ad.render("option",ab);X=ab[ad.settings.optgroupField]||"";aj=B.isArray(X)?X:[X];for(al=0,ak=aj&&aj.length;al<ak;al++){X=aj[al];if(!ad.optgroups.hasOwnProperty(X)){X=""}if(!ap.hasOwnProperty(X)){ap[X]=document.createDocumentFragment();V.push(X)}ap[X].appendChild(an)}}if(this.settings.lockOptgroupOrder){V.sort(function(at,ar){var au=ad.optgroups[at].$order||0;var av=ad.optgroups[ar].$order||0;return au-av})}Z=document.createDocumentFragment();for(am=0,ai=V.length;am<ai;am++){X=V[am];if(ad.optgroups.hasOwnProperty(X)&&ap[X].childNodes.length){ao=document.createDocumentFragment();ao.appendChild(ad.render("optgroup_header",ad.optgroups[X]));ao.appendChild(ap[X]);Z.appendChild(ad.render("optgroup",B.extend({},ad.optgroups[X],{html:K(ao),dom:ao})))}else{Z.appendChild(ap[X])}}ac.html(Z);if(ad.settings.highlight&&ah.query.length&&ah.tokens.length){ac.removeHighlight();for(am=0,ai=ah.tokens.length;am<ai;am++){S(ac,ah.tokens[am].regex)}}if(!ad.settings.hideSelected){for(am=0,ai=ad.items.length;am<ai;am++){ad.getOption(ad.items[am]).addClass("selected")}}aa=ad.canCreate(W);if(aa){ac.prepend(ad.render("option_create",{input:W}));ag=B(ac[0].childNodes[0])}ad.hasOptions=ah.items.length>0||aa;if(ad.hasOptions){if(ah.items.length>0){ae=aq&&ad.getOption(aq);if(ae&&ae.length){Y=ae}else{if(ad.settings.mode==="single"&&ad.items.length){Y=ad.getOption(ad.items[0])}}if(!Y||!Y.length){if(ag&&!ad.settings.addPrecedence){Y=ad.getAdjacentOption(ag,1)}else{Y=ac.find("[data-selectable]:first")}}}else{Y=ag}ad.setActiveOption(Y);if(af&&!ad.isOpen){ad.open()}}else{ad.setActiveOption(null);if(af&&ad.isOpen){ad.close()}}},addOption:function(Y){var W,Z,X,V=this;if(B.isArray(Y)){for(W=0,Z=Y.length;W<Z;W++){V.addOption(Y[W])}return}if(X=V.registerOption(Y)){V.userOptions[X]=true;V.lastQuery=null;V.trigger("option_add",X,Y)}},registerOption:function(W){var V=E(W[this.settings.valueField]);if(typeof V==="undefined"||V===null||this.options.hasOwnProperty(V)){return false}W.$order=W.$order||++this.order;this.options[V]=W;return V},registerOptionGroup:function(W){var V=E(W[this.settings.optgroupValueField]);if(!V){return false}W.$order=W.$order||++this.order;this.optgroups[V]=W;return V},addOptionGroup:function(W,V){V[this.settings.optgroupValueField]=W;if(W=this.registerOptionGroup(V)){this.trigger("optgroup_add",W,V)}},removeOptionGroup:function(V){if(this.optgroups.hasOwnProperty(V)){delete this.optgroups[V];this.renderCache={};this.trigger("optgroup_remove",V)}},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(ac,aa){var ae=this;var ad,V;var X,Y,ab,W,Z;ac=E(ac);X=E(aa[ae.settings.valueField]);if(ac===null){return}if(!ae.options.hasOwnProperty(ac)){return}if(typeof X!=="string"){throw new Error("Value must be set in option data")}Z=ae.options[ac].$order;if(X!==ac){delete ae.options[ac];Y=ae.items.indexOf(ac);if(Y!==-1){ae.items.splice(Y,1,X)}}aa.$order=aa.$order||Z;ae.options[X]=aa;ab=ae.renderCache.item;W=ae.renderCache.option;if(ab){delete ab[ac];delete ab[X]}if(W){delete W[ac];delete W[X]}if(ae.items.indexOf(X)!==-1){ad=ae.getItem(ac);V=B(ae.render("item",aa));if(ad.hasClass("active")){V.addClass("active")}ad.replaceWith(V)}ae.lastQuery=null;if(ae.isOpen){ae.refreshOptions(false)}},removeOption:function(Z,X){var W=this;Z=E(Z);var V=W.renderCache.item;var Y=W.renderCache.option;if(V){delete V[Z]}if(Y){delete Y[Z]}delete W.userOptions[Z];delete W.options[Z];W.lastQuery=null;W.trigger("option_remove",Z);W.removeItem(Z,X)},clearOptions:function(){var V=this;V.loadedSearches={};V.userOptions={};V.renderCache={};V.options=V.sifter.items={};V.lastQuery=null;V.trigger("option_clear");V.clear()},getOption:function(V){return this.getElementWithValue(V,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(Y,X){var V=this.$dropdown.find("[data-selectable]");var W=V.index(Y)+X;return W>=0&&W<V.length?V.eq(W):B()},getElementWithValue:function(X,W){X=E(X);if(typeof X!=="undefined"&&X!==null){for(var V=0,Y=W.length;V<Y;V++){if(W[V].getAttribute("data-value")===X){return B(W[V])}}}return B()},getItem:function(V){return this.getElementWithValue(V,this.$control.children())},addItems:function(X,W){var V=B.isArray(X)?X:[X];for(var Y=0,Z=V.length;Y<Z;Y++){this.isPending=(Y<Z-1);this.addItem(V[Y],W)}},addItem:function(X,V){var W=V?[]:["change"];g(this,W,function(){var af,Z,ad;var ag=this;var Y=ag.settings.mode;var ac,ab,ae,aa;X=E(X);if(ag.items.indexOf(X)!==-1){if(Y==="single"){ag.close()}return}if(!ag.options.hasOwnProperty(X)){return}if(Y==="single"){ag.clear(V)}if(Y==="multi"&&ag.isFull()){return}af=B(ag.render("item",ag.options[X]));aa=ag.isFull();ag.items.splice(ag.caretPos,0,X);ag.insertAtCaret(af);if(!ag.isPending||(!aa&&ag.isFull())){ag.refreshState()}if(ag.isSetup){ad=ag.$dropdown_content.find("[data-selectable]");if(!ag.isPending){Z=ag.getOption(X);ae=ag.getAdjacentOption(Z,1).attr("data-value");ag.refreshOptions(ag.isFocused&&Y!=="single");if(ae){ag.setActiveOption(ag.getOption(ae))}}if(!ad.length||ag.isFull()){ag.close()}else{ag.positionDropdown()}ag.updatePlaceholder();ag.trigger("item_add",X,af);ag.updateOriginalInput({silent:V})}})},removeItem:function(aa,Y){var X=this;var W,Z,V;W=(aa instanceof B)?aa:X.getItem(aa);aa=E(W.attr("data-value"));Z=X.items.indexOf(aa);if(Z!==-1){W.remove();if(W.hasClass("active")){V=X.$activeItems.indexOf(W[0]);X.$activeItems.splice(V,1)}X.items.splice(Z,1);X.lastQuery=null;if(!X.settings.persist&&X.userOptions.hasOwnProperty(aa)){X.removeOption(aa,Y)}if(Z<X.caretPos){X.setCaret(X.caretPos-1)}X.refreshState();X.updatePlaceholder();X.updateOriginalInput({silent:Y});X.positionDropdown();X.trigger("item_remove",aa,W)}},createItem:function(Y,aa){var X=this;var ab=X.caretPos;Y=Y||B.trim(X.$control_input.val()||"");var ac=arguments[arguments.length-1];if(typeof ac!=="function"){ac=function(){}}if(typeof aa!=="boolean"){aa=true}if(!X.canCreate(Y)){ac();return false}X.lock();var V=(typeof X.settings.create==="function")?this.settings.create:function(ad){var ae={};ae[X.settings.labelField]=ad;ae[X.settings.valueField]=ad;return ae};var Z=x(function(ae){X.unlock();if(!ae||typeof ae!=="object"){return ac()}var ad=E(ae[X.settings.valueField]);if(typeof ad!=="string"){return ac()}X.setTextboxValue("");X.addOption(ae);X.setCaret(ab);X.addItem(ad);X.refreshOptions(aa&&X.settings.mode!=="single");ac(ae)});var W=V.apply(this,[Y,Z]);if(typeof W!=="undefined"){Z(W)}return true},refreshItems:function(){this.lastQuery=null;if(this.isSetup){this.addItem(this.items)}this.refreshState();this.updateOriginalInput()},refreshState:function(){this.refreshValidityState();this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired){return false}var V=!this.items.length;this.isInvalid=V;this.$control_input.prop("required",V);this.$input.prop("required",!V)},refreshClasses:function(){var V=this;var W=V.isFull();var X=V.isLocked;V.$wrapper.toggleClass("rtl",V.rtl);V.$control.toggleClass("focus",V.isFocused).toggleClass("disabled",V.isDisabled).toggleClass("required",V.isRequired).toggleClass("invalid",V.isInvalid).toggleClass("locked",X).toggleClass("full",W).toggleClass("not-full",!W).toggleClass("input-active",V.isFocused&&!V.isInputHidden).toggleClass("dropdown-active",V.isOpen).toggleClass("has-options",!B.isEmptyObject(V.options)).toggleClass("has-items",V.items.length>0);V.$control_input.data("grow",!W&&!X)},isFull:function(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(Z){var Y,aa,X,W,V=this;Z=Z||{};if(V.tagType===q){X=[];for(Y=0,aa=V.items.length;Y<aa;Y++){W=V.options[V.items[Y]][V.settings.labelField]||"";X.push('<option value="'+J(V.items[Y])+'" selected="selected">'+J(W)+"</option>")}if(!X.length&&!this.$input.attr("multiple")){X.push('<option value="" selected="selected"></option>')}V.$input.html(X.join(""))}else{V.$input.val(V.getValue());V.$input.attr("value",V.$input.val())}if(V.isSetup){if(!Z.silent){V.trigger("change",V.$input.val())}}},updatePlaceholder:function(){if(!this.settings.placeholder){return}var V=this.$control_input;if(this.items.length){V.removeAttr("placeholder")}else{V.attr("placeholder",this.settings.placeholder)}V.triggerHandler("update",{force:true})},open:function(){var V=this;if(V.isLocked||V.isOpen||(V.settings.mode==="multi"&&V.isFull())){return}V.focus();V.isOpen=true;V.refreshState();V.$dropdown.css({visibility:"hidden",display:"block"});V.positionDropdown();V.$dropdown.css({visibility:"visible"});V.trigger("dropdown_open",V.$dropdown)},close:function(){var V=this;var W=V.isOpen;if(V.settings.mode==="single"&&V.items.length){V.hideInput();V.$control_input.blur()}V.isOpen=false;V.$dropdown.hide();V.setActiveOption(null);V.refreshState();if(W){V.trigger("dropdown_close",V.$dropdown)}},positionDropdown:function(){var V=this.$control;var W=this.settings.dropdownParent==="body"?V.offset():V.position();W.top+=V.outerHeight(true);this.$dropdown.css({width:V.outerWidth(),top:W.top,left:W.left})},clear:function(W){var V=this;if(!V.items.length){return}V.$control.children(":not(input)").remove();V.items=[];V.lastQuery=null;V.setCaret(0);V.setActiveItem(null);V.updatePlaceholder();V.updateOriginalInput({silent:W});V.refreshState();V.showInput();V.trigger("clear")},insertAtCaret:function(V){var W=Math.min(this.caretPos,this.items.length);if(W===0){this.$control.prepend(V)}else{B(this.$control[0].childNodes[W]).before(V)}this.setCaret(W+1)},deleteSelection:function(Y){var W,V,ac,ad,ae,aa,Z,ab,X;var af=this;ac=(Y&&Y.keyCode===u)?-1:1;ad=r(af.$control_input[0]);if(af.$activeOption&&!af.settings.hideSelected){Z=af.getAdjacentOption(af.$activeOption,-1).attr("data-value")}ae=[];if(af.$activeItems.length){X=af.$control.children(".active:"+(ac>0?"last":"first"));aa=af.$control.children(":not(input)").index(X);if(ac>0){aa++}for(W=0,V=af.$activeItems.length;W<V;W++){ae.push(B(af.$activeItems[W]).attr("data-value"))}if(Y){Y.preventDefault();Y.stopPropagation()}}else{if((af.isFocused||af.settings.mode==="single")&&af.items.length){if(ac<0&&ad.start===0&&ad.length===0){ae.push(af.items[af.caretPos-1])}else{if(ac>0&&ad.start===af.$control_input.val().length){ae.push(af.items[af.caretPos])}}}}if(!ae.length||(typeof af.settings.onDelete==="function"&&af.settings.onDelete.apply(af,[ae])===false)){return false}if(typeof aa!=="undefined"){af.setCaret(aa)}while(ae.length){af.removeItem(ae.pop())}af.showInput();af.positionDropdown();af.refreshOptions(true);if(Z){ab=af.getOption(Z);if(ab.length){af.setActiveOption(ab)}}return true},advanceSelection:function(Z,W){var X,aa,ab,ac,Y,V;var ad=this;if(Z===0){return}if(ad.rtl){Z*=-1}X=Z>0?"last":"first";aa=r(ad.$control_input[0]);if(ad.isFocused&&!ad.isInputHidden){ac=ad.$control_input.val().length;Y=Z<0?aa.start===0&&aa.length===0:aa.start===ac;if(Y&&!ac){ad.advanceCaret(Z,W)}}else{V=ad.$control.children(".active:"+X);if(V.length){ab=ad.$control.children(":not(input)").index(V);ad.setActiveItem(null);ad.setCaret(Z>0?ab+1:ab)}}},advanceCaret:function(Z,Y){var V=this,X,W;if(Z===0){return}X=Z>0?"next":"prev";if(V.isShiftDown){W=V.$control_input[X]();if(W.length){V.hideInput();V.setActiveItem(W);Y&&Y.preventDefault()}}else{V.setCaret(V.caretPos+Z)}},setCaret:function(Y){var W=this;if(W.settings.mode==="single"){Y=W.items.length}else{Y=Math.max(0,Math.min(W.items.length,Y))}if(!W.isPending){var X,ab,Z,V,aa;V=W.$control.children(":not(input)");for(X=0,ab=V.length;X<ab;X++){aa=B(V[X]).detach();if(X<Y){W.$control_input.before(aa)}else{W.$control.append(aa)}}}W.caretPos=Y},lock:function(){this.close();this.isLocked=true;this.refreshState()},unlock:function(){this.isLocked=false;this.refreshState()},disable:function(){var V=this;V.$input.prop("disabled",true);V.$control_input.prop("disabled",true).prop("tabindex",-1);V.isDisabled=true;V.lock()},enable:function(){var V=this;V.$input.prop("disabled",false);V.$control_input.prop("disabled",false).prop("tabindex",V.tabIndex);V.isDisabled=false;V.unlock()},destroy:function(){var V=this;var X=V.eventNS;var W=V.revertSettings;V.trigger("destroy");V.off();V.$wrapper.remove();V.$dropdown.remove();V.$input.html("").append(W.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:W.tabindex}).show();V.$control_input.removeData("grow");V.$input.removeData("selectize");B(window).off(X);B(document).off(X);B(document.body).off(X);delete V.$input[0].selectize},render:function(ad,X){var ab,W,aa;var Y="";var V=false;var ac=this;var Z=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;if(ad==="option"||ad==="item"){ab=E(X[ac.settings.valueField]);V=!!ab}if(V){if(!U(ac.renderCache[ad])){ac.renderCache[ad]={}}if(ac.renderCache[ad].hasOwnProperty(ab)){return ac.renderCache[ad][ab]}}Y=B(ac.settings.render[ad].apply(this,[X,J]));if(ad==="option"||ad==="option_create"){Y.attr("data-selectable","")}else{if(ad==="optgroup"){W=X[ac.settings.optgroupValueField]||"";Y.attr("data-group",W)}}if(ad==="option"||ad==="item"){Y.attr("data-value",ab||"")}if(V){ac.renderCache[ad][ab]=Y[0]}return Y[0]},clearCache:function(V){var W=this;if(typeof V==="undefined"){W.renderCache={}}else{delete W.renderCache[V]}},canCreate:function(W){var V=this;if(!V.settings.create){return false}var X=V.settings.createFilter;return W.length&&(typeof X!=="function"||X.apply(V,[W]))&&(typeof X!=="string"||new RegExp(X).test(W))&&(!(X instanceof RegExp)||X.test(W))}});i.count=0;i.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:true,diacritics:true,create:false,createOnBlur:false,createFilter:null,highlight:true,openOnFocus:true,maxOptions:1000,maxItems:null,hideSelected:null,addPrecedence:false,selectOnTab:false,preload:false,allowEmptyOption:false,closeAfterSelect:false,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:false,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:true,render:{}};B.fn.selectize=function(ab){var X=B.fn.selectize.defaults;var W=B.extend({},X,ab);var Y=W.dataAttr;var ae=W.labelField;var af=W.valueField;var ad=W.optgroupField;var Z=W.optgroupLabelField;var aa=W.optgroupValueField;var V=function(an,al){var ai,am,ag,aj;var ah=an.attr(Y);if(!ah){var ak=B.trim(an.val()||"");if(!W.allowEmptyOption&&!ak.length){return}ag=ak.split(W.delimiter);for(ai=0,am=ag.length;ai<am;ai++){aj={};aj[ae]=ag[ai];aj[af]=ag[ai];al.options.push(aj)}al.items=ag}else{al.options=JSON.parse(ah);for(ai=0,am=al.options.length;ai<am;ai++){al.items.push(al.options[ai][af])}}};var ac=function(an,al){var am,ai,aj,aq,ak=0;var ar=al.options;var ap={};var ag=function(at){var au=Y&&at.attr(Y);if(typeof au==="string"&&au.length){return JSON.parse(au)}return null};var ao=function(ax,aw){ax=B(ax);var av=E(ax.val());if(!av&&!W.allowEmptyOption){return}if(ap.hasOwnProperty(av)){if(aw){var at=ap[av][ad];if(!at){ap[av][ad]=aw}else{if(!B.isArray(at)){ap[av][ad]=[at,aw]}else{at.push(aw)}}}return}var au=ag(ax)||{};au[ae]=au[ae]||ax.text();au[af]=au[af]||av;au[ad]=au[ad]||aw;ap[av]=au;ar.push(au);if(ax.is(":selected")){al.items.push(av)}};var ah=function(au){var aw,ay,ax,av,at;au=B(au);ax=au.attr("label");if(ax){av=ag(au)||{};av[Z]=ax;av[aa]=ax;al.optgroups.push(av)}at=B("option",au);for(aw=0,ay=at.length;aw<ay;aw++){ao(at[aw],ax)}};al.maxItems=an.attr("multiple")?null:1;aq=an.children();for(am=0,ai=aq.length;am<ai;am++){aj=aq[am].tagName.toLowerCase();if(aj==="optgroup"){ah(aq[am])}else{if(aj==="option"){ao(aq[am])}}}};return this.each(function(){if(this.selectize){return}var ag;var ak=B(this);var aj=this.tagName.toLowerCase();var ai=ak.attr("placeholder")||ak.attr("data-placeholder");if(!ai&&!W.allowEmptyOption){ai=ak.children('option[value=""]').text()}var ah={placeholder:ai,options:[],optgroups:[],items:[]};if(aj==="select"){ac(ak,ah)}else{V(ak,ah)}ag=new i(ak,B.extend(true,{},X,ah,ab))})};B.fn.selectize.defaults=i.defaults;B.fn.selectize.support={validity:I};i.define("drag_drop",function(W){if(!B.fn.sortable){throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".')}if(this.settings.mode!=="multi"){return}var V=this;V.lock=(function(){var X=V.lock;return function(){var Y=V.$control.data("sortable");if(Y){Y.disable()}return X.apply(V,arguments)}})();V.unlock=(function(){var X=V.unlock;return function(){var Y=V.$control.data("sortable");if(Y){Y.enable()}return X.apply(V,arguments)}})();V.setup=(function(){var X=V.setup;return function(){X.apply(this,arguments);var Y=V.$control.sortable({items:"[data-value]",forcePlaceholderSize:true,disabled:V.isLocked,start:function(aa,Z){Z.placeholder.css("width",Z.helper.css("width"));Y.css({overflow:"visible"})},stop:function(){Y.css({overflow:"hidden"});var aa=V.$activeItems?V.$activeItems.slice():null;var Z=[];Y.children("[data-value]").each(function(){Z.push(B(this).attr("data-value"))});V.setValue(Z);V.setActiveItem(aa)}})}})()});i.define("dropdown_header",function(W){var V=this;W=B.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(X){return('<div class="'+X.headerClass+'"><div class="'+X.titleRowClass+'"><span class="'+X.labelClass+'">'+X.title+'</span><a href="javascript:void(0)" class="'+X.closeClass+'">&times;</a></div></div>')}},W);V.setup=(function(){var X=V.setup;return function(){X.apply(V,arguments);V.$dropdown_header=B(W.html(W));V.$dropdown.prepend(V.$dropdown_header)}})()});i.define("optgroup_columns",function(X){var W=this;X=B.extend({equalizeWidth:true,equalizeHeight:true},X);this.getAdjacentOption=function(ac,ab){var Z=ac.closest("[data-group]").find("[data-selectable]");var aa=Z.index(ac)+ab;return aa>=0&&aa<Z.length?Z.eq(aa):B()};this.onKeyDown=(function(){var Z=W.onKeyDown;return function(ae){var ac,ad,aa,ab;if(this.isOpen&&(ae.keyCode===v||ae.keyCode===z)){W.ignoreHover=true;ab=this.$activeOption.closest("[data-group]");ac=ab.find("[data-selectable]").index(this.$activeOption);if(ae.keyCode===v){ab=ab.prev("[data-group]")}else{ab=ab.next("[data-group]")}aa=ab.find("[data-selectable]");ad=aa.eq(Math.min(aa.length-1,ac));if(ad.length){this.setActiveOption(ad)}return}return Z.apply(this,arguments)}})();var V=function(){var ab;var Z=V.width;var aa=document;if(typeof Z==="undefined"){ab=aa.createElement("div");ab.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>';ab=ab.firstChild;aa.body.appendChild(ab);Z=V.width=ab.offsetWidth-ab.clientWidth;aa.body.removeChild(ab)}return Z};var Y=function(){var aa,af,Z,ab,ae,ad,ac;ac=B("[data-group]",W.$dropdown_content);af=ac.length;if(!af||!W.$dropdown_content.width()){return}if(X.equalizeHeight){Z=0;for(aa=0;aa<af;aa++){Z=Math.max(Z,ac.eq(aa).height())}ac.css({height:Z})}if(X.equalizeWidth){ad=W.$dropdown_content.innerWidth()-V();ab=Math.round(ad/af);ac.css({width:ab});if(af>1){ae=ad-ab*(af-1);ac.eq(af-1).css({width:ae})}}};if(X.equalizeHeight||X.equalizeWidth){y.after(this,"positionDropdown",Y);y.after(this,"refreshOptions",Y)}});i.define("remove_button",function(V){V=B.extend({label:"&times;",title:"Remove",className:"remove",append:true},V);var W=function(ac,aa){aa.className="remove-single";var Z=ac;var ab='<a href="javascript:void(0)" class="'+aa.className+'" tabindex="-1" title="'+J(aa.title)+'">'+aa.label+"</a>";var Y=function(ad,ae){return ad+ae};ac.setup=(function(){var ad=Z.setup;return function(){if(aa.append){var ag=B(Z.$input.context).attr("id");var af=B("#"+ag);var ae=Z.settings.render.item;Z.settings.render.item=function(ah){return Y(ae.apply(ac,arguments),ab)}}ad.apply(ac,arguments);ac.$control.on("click","."+aa.className,function(ah){ah.preventDefault();if(Z.isLocked){return}Z.clear()})}})()};var X=function(ac,aa){var Z=ac;var ab='<a href="javascript:void(0)" class="'+aa.className+'" tabindex="-1" title="'+J(aa.title)+'">'+aa.label+"</a>";var Y=function(ad,ae){var af=ad.search(/(<\/[^>]+>\s*)$/);return ad.substring(0,af)+ae+ad.substring(af)};ac.setup=(function(){var ad=Z.setup;return function(){if(aa.append){var ae=Z.settings.render.item;Z.settings.render.item=function(af){return Y(ae.apply(ac,arguments),ab)}}ad.apply(ac,arguments);ac.$control.on("click","."+aa.className,function(ag){ag.preventDefault();if(Z.isLocked){return}var af=B(ag.currentTarget).parent();Z.setActiveItem(af);if(Z.deleteSelection()){Z.setCaret(Z.items.length)}})}})()};if(this.settings.mode==="single"){W(this,V);return}else{X(this,V)}});i.define("restore_on_backspace",function(W){var V=this;W.text=W.text||function(X){return X[this.settings.labelField]};this.onKeyDown=(function(){var X=V.onKeyDown;return function(aa){var Y,Z;if(aa.keyCode===u&&this.$control_input.val()===""&&!this.$activeItems.length){Y=this.caretPos-1;if(Y>=0&&Y<this.items.length){Z=this.options[this.items[Y]];if(this.deleteSelection(aa)){this.setTextboxValue(W.text.apply(this,[Z]));this.refreshOptions(true)}aa.preventDefault();return}}return X.apply(this,arguments)}})()});return i}))},function(b,a,d){var c,e;(function(f,g){if(true){!(c=(g),e=(typeof c==="function"?(c.call(a,d,a,b)):c),e!==undefined&&(b.exports=e))}else{if(typeof a==="object"){b.exports=g()}else{f.Sifter=g()}}}(this,function(){var m=function(o,p){this.items=o;this.settings=p||{diacritics:true}};m.prototype.tokenize=function(r){r=g(String(r||"").toLowerCase());if(!r||!r.length){return[]}var o,u,q,p;var s=[];var t=r.split(/ +/);for(o=0,u=t.length;o<u;o++){q=j(t[o]);if(this.settings.diacritics){for(p in n){if(n.hasOwnProperty(p)){q=q.replace(new RegExp(p,"g"),n[p])}}}s.push({string:t[o],regex:new RegExp(q,"i")})}return s};m.prototype.iterator=function(o,q){var p;if(h(o)){p=Array.prototype.forEach||function(t){for(var r=0,s=this.length;r<s;r++){t(this[r],r,this)}}}else{p=function(s){for(var r in this){if(this.hasOwnProperty(r)){s(this[r],r,this)}}}}p.apply(o,[q])};m.prototype.getScoreFunction=function(v,w){var u,q,s,t,p;u=this;v=u.prepareSearch(v,w);s=v.tokens;q=v.options.fields;t=s.length;p=v.options.nesting;var r=function(y,x){var z,A;if(!y){return 0}y=String(y||"");A=y.search(x.regex);if(A===-1){return 0}z=x.string.length/y.length;if(A===0){z+=0.5}return z};var o=(function(){var x=q.length;if(!x){return function(){return 0}}if(x===1){return function(y,z){return r(f(z,q[0],p),y)}}return function(z,B){for(var y=0,A=0;y<x;y++){A+=r(f(B,q[y],p),z)}return A/x}})();if(!t){return function(){return 0}}if(t===1){return function(x){return o(s[0],x)}}if(v.options.conjunction==="and"){return function(z){var A;for(var x=0,y=0;x<t;x++){A=o(s[x],z);if(A<=0){return 0}y+=A}return y/t}}else{return function(z){for(var x=0,y=0;x<t;x++){y+=o(s[x],z)}return y/t}}};m.prototype.getSortFunction=function(z,A){var u,o,y,w,v,q,x,s,p,r,t;y=this;z=y.prepareSearch(z,A);t=(!z.query&&A.sort_empty)||A.sort;p=function(C,B){if(C==="$score"){return B.score}return f(y.items[B.id],C,A.nesting)};v=[];if(t){for(u=0,o=t.length;u<o;u++){if(z.query||t[u].field!=="$score"){v.push(t[u])}}}if(z.query){r=true;for(u=0,o=v.length;u<o;u++){if(v[u].field==="$score"){r=false;break}}if(r){v.unshift({field:"$score",direction:"desc"})}}else{for(u=0,o=v.length;u<o;u++){if(v[u].field==="$score"){v.splice(u,1);break}}}s=[];for(u=0,o=v.length;u<o;u++){s.push(v[u].direction==="desc"?-1:1)}q=v.length;if(!q){return null}else{if(q===1){w=v[0].field;x=s[0];return function(C,B){return x*k(p(w,C),p(w,B))}}else{return function(E,C){var G,B,D,F,H;for(G=0;G<q;G++){H=v[G].field;B=s[G]*k(p(H,E),p(H,C));if(B){return B}}return 0}}}};m.prototype.prepareSearch=function(r,o){if(typeof r==="object"){return r}o=i({},o);var q=o.fields;var s=o.sort;var p=o.sort_empty;if(q&&!h(q)){o.fields=[q]}if(s&&!h(s)){o.sort=[s]}if(p&&!h(p)){o.sort_empty=[p]}return{options:o,query:String(r||"").toLowerCase(),tokens:this.tokenize(r),total:0,items:[]}};m.prototype.search=function(r,w){var u=this,t,p,v,q;var o;var s;v=this.prepareSearch(r,w);w=v.options;r=v.query;s=w.score||u.getScoreFunction(v);if(r.length){u.iterator(u.items,function(x,y){p=s(x);if(w.filter===false||p>0){v.items.push({score:p,id:y})}})}else{u.iterator(u.items,function(x,y){v.items.push({score:1,id:y})})}o=u.getSortFunction(v,w);if(o){v.items.sort(o)}v.total=v.items.length;if(typeof w.limit==="number"){v.items=v.items.slice(0,w.limit)}return v};var k=function(p,o){if(typeof p==="number"&&typeof o==="number"){return p>o?1:(p<o?-1:0)}p=l(String(p||""));o=l(String(o||""));if(p>o){return 1}if(o>p){return -1}return 0};var i=function(p,o){var s,t,q,r;for(s=1,t=arguments.length;s<t;s++){r=arguments[s];if(!r){continue}for(q in r){if(r.hasOwnProperty(q)){p[q]=r[q]}}}return p};var f=function(r,o,p){if(!r||!o){return}if(!p){return r[o]}var q=o.split(".");while(q.length&&(r=r[q.shift()])){}return r};var g=function(o){return(o+"").replace(/^\s+|\s+$|/g,"")};var j=function(o){return(o+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")};var h=Array.isArray||(typeof $!=="undefined"&&$.isArray)||function(o){return Object.prototype.toString.call(o)==="[object Array]"};var n={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"};var l=(function(){var r,u,o,q;var p="";var t={};for(o in n){if(n.hasOwnProperty(o)){q=n[o].substring(2,n[o].length-1);p+=q;for(r=0,u=q.length;r<u;r++){t[q.charAt(r)]=o}}}var s=new RegExp("["+p+"]","g");return function(v){return v.replace(s,function(w){return t[w]}).toLowerCase()}})();return m}))},function(b,a,d){var c,e;(function(f,g){if(true){!(c=(g),e=(typeof c==="function"?(c.call(a,d,a,b)):c),e!==undefined&&(b.exports=e))}else{if(typeof a==="object"){b.exports=g()}else{f.MicroPlugin=g()}}}(this,function(){var f={};f.mixin=function(h){h.plugins={};h.prototype.initializePlugins=function(k){var o,p,m;var l=this;var j=[];l.plugins={names:[],settings:{},requested:{},loaded:{}};if(g.isArray(k)){for(o=0,p=k.length;o<p;o++){if(typeof k[o]==="string"){j.push(k[o])}else{l.plugins.settings[k[o].name]=k[o].options;j.push(k[o].name)}}}else{if(k){for(m in k){if(k.hasOwnProperty(m)){l.plugins.settings[m]=k[m];j.push(m)}}}}while(j.length){l.require(j.shift())}};h.prototype.loadPlugin=function(k){var j=this;var i=j.plugins;var l=h.plugins[k];if(!h.plugins.hasOwnProperty(k)){throw new Error('Unable to find "'+k+'" plugin')}i.requested[k]=true;i.loaded[k]=l.fn.apply(j,[j.plugins.settings[k]||{}]);i.names.push(k)};h.prototype.require=function(k){var j=this;var i=j.plugins;if(!j.plugins.loaded.hasOwnProperty(k)){if(i.requested[k]){throw new Error('Plugin has circular dependency ("'+k+'")')}j.loadPlugin(k)}return i.loaded[k]};h.define=function(i,j){h.plugins[i]={name:i,fn:j}}};var g={isArray:Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"}};return f}))},function(b,a,d){var c;c=d(2);d(22);d(23);b.exports={init:function(f){var e;e=f.$target;c(".box-slider--carousel .box-slider__item").each(function(g,h){c(this).data("index",c(this).index());return c(this).width(c(this).width())});e.find(".js-slider").each(function(){var i,k,j,h,g;k=c(this);i=k.find(".box-slider__list");j=k.hasClass("box-slider--carousel");h=!!(k.closest(".box-slider-pager").length);g=true;if(h&&j){i.find(".box-slider__item").first().addClass("is-active")}if(i.find("> .box-slider__item").length<4&&j){g=false;k.find(".box-slider__prev").addClass("is-disabled");k.find(".box-slider__next").addClass("is-disabled")}if(g){i.cycle({carouselVisible:(function(){if(h){return 3}else{if(window.matchMedia("(min-width: 1000px)").matches){return 4}else{if(window.matchMedia("(min-width: 700px)").matches){return 3}else{return 1}}}})(),disabledClass:"is-disabled",fx:j?"carousel":"scrollHorz",prev:k.find(".box-slider__prev"),next:k.find(".box-slider__next"),pager:k.find(".box-slider__pager"),pagerActiveClass:"is-active",pagerTemplate:'<a href="#">{{slideNum}}</a>',slides:"> .box-slider__item",paused:k.data("timeout")?false:true,overlayTemplate:"",overlay:k.find(".box-slider__overlay"),log:false,timeout:k.data("timeout")?k.data("timeout"):0});return i.on("cycle-update-view",function(n,q,m,p){var o,l;o=c(p);l="";if(o.attr("data-title")){l=l+'<h2 class="box-slider__title">{{title}}</h2>'}if(o.attr("data-desc")){l=l+"<p>{{desc}}</p>"}return m.overlayTemplate=l})}});return e.find(".js-slider-pager").each(function(){var n,i,m,j,h,g,k,l;j=c(this).find(".js-slider");n=j.not(".box-slider--carousel").find(".box-slider__list");m=j.filter(".box-slider--carousel").find(".box-slider__list");k=true;if(m.find("> .box-slider__item").length<4){k=false}i=m.find(".box-slider__item");h=false;g=function(){return i.filter(".is-active")};l=function(o){i.removeClass("is-active");return i.filter(function(p,q){return c(q).data("index")===o}).addClass("is-active")};n.on("cycle-before",function(q,r,s,p,o){if(h){return h=false}else{l(r.nextSlide);if(o){return m.cycle("next")}else{return m.cycle("prev")}}});return i.on("click",function(o){var p;o.preventDefault();p=c(this);h=true;n.cycle("goto",c(this).data("index"));return l(p.data("index"))})})}}},function(b,a){
/*!
	* jQuery Cycle2; version: 2.1.6 build: 20141007
	* http://jquery.malsup.com/cycle2/
	* Copyright (c) 2014 M. Alsup; Dual licensed: MIT/GPL
	*/
(function(f){var c="2.1.6";f.fn.cycle=function(g){var h;if(this.length===0&&!f.isReady){h={s:this.selector,c:this.context};f.fn.cycle.log("requeuing slideshow (dom not ready)");f(function(){f(h.s,h.c).cycle(g)});return this}return this.each(function(){var m,l,i,o;var j=f(this);var k=f.fn.cycle.log;if(j.data("cycle.opts")){return}if(j.data("cycle-log")===false||(g&&g.log===false)||(l&&l.log===false)){k=f.noop}k("--c2 init--");m=j.data();for(var n in m){if(m.hasOwnProperty(n)&&/^cycle[A-Z]+/.test(n)){o=m[n];i=n.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,d);k(i+":",o,"("+typeof o+")");m[i]=o}}l=f.extend({},f.fn.cycle.defaults,m,g||{});l.timeoutId=0;l.paused=l.paused||false;l.container=j;l._maxZ=l.maxZ;l.API=f.extend({_container:j},f.fn.cycle.API);l.API.log=k;l.API.trigger=function(p,q){l.container.trigger(p,q);return l.API};j.data("cycle.opts",l);j.data("cycle.API",l.API);l.API.trigger("cycle-bootstrap",[l,l.API]);l.API.addInitialSlides();l.API.preInitSlideshow();if(l.slides.length){l.API.initSlideshow()}})};f.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var h=this.opts();var g=h.slides;h.slideCount=0;h.slides=f();g=g.jquery?g:h.container.find(g);if(h.random){g.sort(function(){return Math.random()-0.5})}h.API.add(g)},preInitSlideshow:function(){var h=this.opts();h.API.trigger("cycle-pre-initialize",[h]);var g=f.fn.cycle.transitions[h.fx];if(g&&f.isFunction(g.preInit)){g.preInit(h)}h._preInitialized=true},postInitSlideshow:function(){var h=this.opts();h.API.trigger("cycle-post-initialize",[h]);var g=f.fn.cycle.transitions[h.fx];if(g&&f.isFunction(g.postInit)){g.postInit(h)}},initSlideshow:function(){var i=this.opts();var g=i.container;var h;i.API.calcFirstSlide();if(i.container.css("position")=="static"){i.container.css("position","relative")}f(i.slides[i.currSlide]).css({opacity:1,display:"block",visibility:"visible"});i.API.stackSlides(i.slides[i.currSlide],i.slides[i.nextSlide],!i.reverse);if(i.pauseOnHover){if(i.pauseOnHover!==true){g=f(i.pauseOnHover)}g.hover(function(){i.API.pause(true)},function(){i.API.resume(true)})}if(i.timeout){h=i.API.getSlideOpts(i.currSlide);i.API.queueTransition(h,h.timeout+i.delay)}i._initialized=true;i.API.updateView(true);i.API.trigger("cycle-initialized",[i]);i.API.postInitSlideshow()},pause:function(g){var i=this.opts(),h=i.API.getSlideOpts(),j=i.hoverPaused||i.paused;if(g){i.hoverPaused=true}else{i.paused=true}if(!j){i.container.addClass("cycle-paused");i.API.trigger("cycle-paused",[i]).log("cycle-paused");if(h.timeout){clearTimeout(i.timeoutId);i.timeoutId=0;i._remainingTimeout-=(f.now()-i._lastQueue);if(i._remainingTimeout<0||isNaN(i._remainingTimeout)){i._remainingTimeout=undefined}}}},resume:function(i){var j=this.opts(),h=!j.hoverPaused&&!j.paused,g;if(i){j.hoverPaused=false}else{j.paused=false}if(!h){j.container.removeClass("cycle-paused");if(j.slides.filter(":animated").length===0){j.API.queueTransition(j.API.getSlideOpts(),j._remainingTimeout)}j.API.trigger("cycle-resumed",[j,j._remainingTimeout]).log("cycle-resumed")}},add:function(j,h){var k=this.opts();var i=k.slideCount;var l=false;var g;if(f.type(j)=="string"){j=f.trim(j)}f(j).each(function(n){var o;var m=f(this);if(h){k.container.prepend(m)}else{k.container.append(m)}k.slideCount++;o=k.API.buildSlideOpts(m);if(h){k.slides=f(m).add(k.slides)}else{k.slides=k.slides.add(m)}k.API.initSlide(o,m,--k._maxZ);m.data("cycle.opts",o);k.API.trigger("cycle-slide-added",[k,o,m])});k.API.updateView(true);l=k._preInitialized&&(i<2&&k.slideCount>=1);if(l){if(!k._initialized){k.API.initSlideshow()}else{if(k.timeout){g=k.slides.length;k.nextSlide=k.reverse?g-1:1;if(!k.timeoutId){k.API.queueTransition(k)}}}}},calcFirstSlide:function(){var h=this.opts();var g;g=parseInt(h.startingSlide||0,10);if(g>=h.slides.length||g<0){g=0}h.currSlide=g;if(h.reverse){h.nextSlide=g-1;if(h.nextSlide<0){h.nextSlide=h.slides.length-1}}else{h.nextSlide=g+1;if(h.nextSlide==h.slides.length){h.nextSlide=0}}},calcNextSlide:function(){var h=this.opts();var g;if(h.reverse){g=(h.nextSlide-1)<0;h.nextSlide=g?h.slideCount-1:h.nextSlide-1;h.currSlide=g?0:h.nextSlide+1}else{g=(h.nextSlide+1)==h.slides.length;h.nextSlide=g?0:h.nextSlide+1;h.currSlide=g?h.slides.length-1:h.nextSlide-1}},calcTx:function(j,h){var i=j;var g;if(i._tempFx){g=f.fn.cycle.transitions[i._tempFx]}else{if(h&&i.manualFx){g=f.fn.cycle.transitions[i.manualFx]}}if(!g){g=f.fn.cycle.transitions[i.fx]}i._tempFx=null;this.opts()._tempFx=null;if(!g){g=f.fn.cycle.transitions.fade;i.API.log('Transition "'+i.fx+'" not found.  Using fade.')}return g},prepareTx:function(i,h){var l=this.opts();var n,m,j,k,g;if(l.slideCount<2){l.timeoutId=0;return}if(i&&(!l.busy||l.manualTrump)){l.API.stopTransition();l.busy=false;clearTimeout(l.timeoutId);l.timeoutId=0}if(l.busy){return}if(l.timeoutId===0&&!i){return}m=l.slides[l.currSlide];j=l.slides[l.nextSlide];k=l.API.getSlideOpts(l.nextSlide);g=l.API.calcTx(k,i);l._tx=g;if(i&&k.manualSpeed!==undefined){k.speed=k.manualSpeed}if(l.nextSlide!=l.currSlide&&(i||(!l.paused&&!l.hoverPaused&&l.timeout))){l.API.trigger("cycle-before",[k,m,j,h]);if(g.before){g.before(k,m,j,h)}n=function(){l.busy=false;if(!l.container.data("cycle.opts")){return}if(g.after){g.after(k,m,j,h)}l.API.trigger("cycle-after",[k,m,j,h]);l.API.queueTransition(k);l.API.updateView(true)};l.busy=true;if(g.transition){g.transition(k,m,j,h,n)}else{l.API.doTransition(k,m,j,h,n)}l.API.calcNextSlide();l.API.updateView()}else{l.API.queueTransition(k)}},doTransition:function(k,l,h,i,n){var g=k;var o=f(l),j=f(h);var m=function(){j.animate(g.animIn||{opacity:1},g.speed,g.easeIn||g.easing,n)};j.css(g.cssBefore||{});o.animate(g.animOut||{},g.speed,g.easeOut||g.easing,function(){o.css(g.cssAfter||{});if(!g.sync){m()}});if(g.sync){m()}},queueTransition:function(i,g){var h=this.opts();var j=g!==undefined?g:i.timeout;if(h.nextSlide===0&&--h.loop===0){h.API.log("terminating; loop=0");h.timeout=0;if(j){setTimeout(function(){h.API.trigger("cycle-finished",[h])},j)}else{h.API.trigger("cycle-finished",[h])}h.nextSlide=h.currSlide;return}if(h.continueAuto!==undefined){if(h.continueAuto===false||(f.isFunction(h.continueAuto)&&h.continueAuto()===false)){h.API.log("terminating automatic transitions");h.timeout=0;if(h.timeoutId){clearTimeout(h.timeoutId)}return}}if(j){h._lastQueue=f.now();if(g===undefined){h._remainingTimeout=i.timeout}if(!h.paused&&!h.hoverPaused){h.timeoutId=setTimeout(function(){h.API.prepareTx(false,!h.reverse)},j)}}},stopTransition:function(){var g=this.opts();if(g.slides.filter(":animated").length){g.slides.stop(false,true);g.API.trigger("cycle-transition-stopped",[g])}if(g._tx&&g._tx.stopTransition){g._tx.stopTransition(g)}},advanceSlide:function(h){var g=this.opts();clearTimeout(g.timeoutId);g.timeoutId=0;g.nextSlide=g.currSlide+h;if(g.nextSlide<0){g.nextSlide=g.slides.length-1}else{if(g.nextSlide>=g.slides.length){g.nextSlide=0}}g.API.prepareTx(true,h>=0);return false},buildSlideOpts:function(h){var j=this.opts();var m,g;var i=h.data()||{};for(var l in i){if(i.hasOwnProperty(l)&&/^cycle[A-Z]+/.test(l)){m=i[l];g=l.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,d);j.API.log("["+(j.slideCount-1)+"]",g+":",m,"("+typeof m+")");i[g]=m}}i=f.extend({},f.fn.cycle.defaults,j,i);i.slideNum=j.slideCount;try{delete i.API;delete i.slideCount;delete i.currSlide;delete i.nextSlide;delete i.slides}catch(k){}return i},getSlideOpts:function(h){var j=this.opts();if(h===undefined){h=j.currSlide}var g=j.slides[h];var i=f(g).data("cycle.opts");return f.extend({},j,i)},initSlide:function(j,g,h){var i=this.opts();g.css(j.slideCss||{});if(h>0){g.css("zIndex",h)}if(isNaN(j.speed)){j.speed=f.fx.speeds[j.speed]||f.fx.speeds._default}if(!j.sync){j.speed=j.speed/2}g.addClass(i.slideClass)},updateView:function(g,l,h){var k=this.opts();if(!k._initialized){return}var j=k.API.getSlideOpts();var i=k.slides[k.currSlide];if(!g&&l!==true){k.API.trigger("cycle-update-view-before",[k,j,i]);if(k.updateView<0){return}}if(k.slideActiveClass){k.slides.removeClass(k.slideActiveClass).eq(k.currSlide).addClass(k.slideActiveClass)}if(g&&k.hideNonActive){k.slides.filter(":not(."+k.slideActiveClass+")").css("visibility","hidden")}if(k.updateView===0){setTimeout(function(){k.API.trigger("cycle-update-view",[k,j,i,g])},j.speed/(k.sync?2:1))}if(k.updateView!==0){k.API.trigger("cycle-update-view",[k,j,i,g])}if(g){k.API.trigger("cycle-update-view-after",[k,j,i])}},getComponent:function(h){var i=this.opts();var g=i[h];if(typeof g==="string"){return(/^\s*[\>|\+|~]/).test(g)?i.container.find(g):f(g)}if(g.jquery){return g}return f(g)},stackSlides:function(m,k,j){var l=this.opts();if(!m){m=l.slides[l.currSlide];k=l.slides[l.nextSlide];j=!l.reverse}f(m).css("zIndex",l.maxZ);var h;var n=l.maxZ-2;var g=l.slideCount;if(j){for(h=l.currSlide+1;h<g;h++){f(l.slides[h]).css("zIndex",n--)}for(h=0;h<l.currSlide;h++){f(l.slides[h]).css("zIndex",n--)}}else{for(h=l.currSlide-1;h>=0;h--){f(l.slides[h]).css("zIndex",n--)}for(h=g-1;h>l.currSlide;h--){f(l.slides[h]).css("zIndex",n--)}}f(k).css("zIndex",l.maxZ-1)},getSlideIndex:function(g){return this.opts().slides.index(g)}};f.fn.cycle.log=function e(){if(window.console&&console.log){console.log("[cycle2] "+Array.prototype.join.call(arguments," "))}};f.fn.cycle.version=function(){return"Cycle2: "+c};function d(g){return(g||"").toLowerCase()}f.fn.cycle.transitions={custom:{},none:{before:function(i,j,h,g){i.API.stackSlides(h,j,g);i.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(j,k,i,h){var g=j.API.getSlideOpts(j.nextSlide).slideCss||{};j.API.stackSlides(k,i,h);j.cssBefore=f.extend(g,{opacity:0,visibility:"visible",display:"block"});j.animIn={opacity:1};j.animOut={opacity:0}}},fadeout:{before:function(j,k,i,h){var g=j.API.getSlideOpts(j.nextSlide).slideCss||{};j.API.stackSlides(k,i,h);j.cssBefore=f.extend(g,{opacity:1,visibility:"visible",display:"block"});j.animOut={opacity:0}}},scrollHorz:{before:function(j,k,i,h){j.API.stackSlides(k,i,h);var g=j.container.css("overflow","hidden").width();j.cssBefore={left:h?g:-g,top:0,opacity:1,visibility:"visible",display:"block"};j.cssAfter={zIndex:j._maxZ-2,left:0};j.animIn={left:0};j.animOut={left:h?-g:g}}}};f.fn.cycle.defaults={allowWrap:true,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:true,loop:0,manualFx:undefined,manualSpeed:undefined,manualTrump:true,maxZ:100,pauseOnHover:false,reverse:false,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:true,timeout:4000,updateView:0};f(document).ready(function(){f(f.fn.cycle.defaults.autoSelector).cycle()})})(jQuery);
/*! Cycle2 autoheight plugin; Copyright (c) M.Alsup, 2012; version: 20130913 */
(function(f){f.extend(f.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null});f(document).on("cycle-initialized",function(n,m){var i=m.autoHeight;var j=f.type(i);var h=null;var k;if(j!=="string"&&j!=="number"){return}m.container.on("cycle-slide-added cycle-slide-removed",d);m.container.on("cycle-destroyed",e);if(i=="container"){m.container.on("cycle-before",g)}else{if(j==="string"&&/\d+\:\d+/.test(i)){k=i.match(/(\d+)\:(\d+)/);k=k[1]/k[2];m._autoHeightRatio=k}}if(j!=="number"){m._autoHeightOnResize=function(){clearTimeout(h);h=setTimeout(l,50)};f(window).on("resize orientationchange",m._autoHeightOnResize)}setTimeout(l,30);function l(){d(n,m)}});function d(k,j){var m,h,l;var i=j.autoHeight;if(i=="container"){h=f(j.slides[j.currSlide]).outerHeight();j.container.height(h)}else{if(j._autoHeightRatio){j.container.height(j.container.width()/j._autoHeightRatio)}else{if(i==="calc"||(f.type(i)=="number"&&i>=0)){if(i==="calc"){l=c(k,j)}else{if(i>=j.slides.length){l=0}else{l=i}}if(l==j._sentinelIndex){return}j._sentinelIndex=l;if(j._sentinel){j._sentinel.remove()}m=f(j.slides[l].cloneNode(true));m.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel");m.css({position:"static",visibility:"hidden",display:"block"}).prependTo(j.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active");m.find("*").css("visibility","hidden");j._sentinel=m}}}}function c(k,j){var i=0,h=-1;j.slides.each(function(l){var m=f(this).height();if(m>h){h=m;i=l}});return i}function g(n,m,k,i,j){var l=f(i).outerHeight();m.container.animate({height:l},m.autoHeightSpeed,m.autoHeightEasing)}function e(i,h){if(h._autoHeightOnResize){f(window).off("resize orientationchange",h._autoHeightOnResize);h._autoHeightOnResize=null}h.container.off("cycle-slide-added cycle-slide-removed",d);h.container.off("cycle-destroyed",e);h.container.off("cycle-before",g);if(h._sentinel){h._sentinel.remove();h._sentinel=null}}})(jQuery);
/*! caption plugin for Cycle2;  version: 20130306 */
(function(c){c.extend(c.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"});c(document).on("cycle-update-view",function(i,h,g,f){if(h.captionModule!=="caption"){return}var d;c.each(["caption","overlay"],function(){var e=this;var k=g[e+"Template"];var j=h.API.getComponent(e);if(j.length&&k){j.html(h.API.tmpl(k,g,h,f));j.show()}else{j.hide()}})});c(document).on("cycle-destroyed",function(g,f){var d;c.each(["caption","overlay"],function(){var e=this,h=f[e+"Template"];if(f[e]&&h){d=f.API.getComponent("caption");d.empty()}})})})(jQuery);
/*! command plugin for Cycle2;  version: 20140415 */
(function(d){var c=d.fn.cycle;d.fn.cycle=function(f){var i,h,g;var e=d.makeArray(arguments);if(d.type(f)=="number"){return this.cycle("goto",f)}if(d.type(f)=="string"){return this.each(function(){var j;i=f;g=d(this).data("cycle.opts");if(g===undefined){c.log('slideshow must be initialized before sending commands; "'+i+'" ignored');return}else{i=i=="goto"?"jump":i;h=g.API[i];if(d.isFunction(h)){j=d.makeArray(e);j.shift();return h.apply(g.API,j)}else{c.log("unknown command: ",i)}}})}else{return c.apply(this,arguments)}};d.extend(d.fn.cycle,c);d.extend(c.API,{next:function(){var f=this.opts();if(f.busy&&!f.manualTrump){return}var e=f.reverse?-1:1;if(f.allowWrap===false&&(f.currSlide+e)>=f.slideCount){return}f.API.advanceSlide(e);f.API.trigger("cycle-next",[f]).log("cycle-next")},prev:function(){var f=this.opts();if(f.busy&&!f.manualTrump){return}var e=f.reverse?1:-1;if(f.allowWrap===false&&(f.currSlide+e)<0){return}f.API.advanceSlide(e);f.API.trigger("cycle-prev",[f]).log("cycle-prev")},destroy:function(){this.stop();var f=this.opts();var e=d.isFunction(d._data)?d._data:d.noop;clearTimeout(f.timeoutId);f.timeoutId=0;f.API.stop();f.API.trigger("cycle-destroyed",[f]).log("cycle-destroyed");f.container.removeData();e(f.container[0],"parsedAttrs",false);if(!f.retainStylesOnDestroy){f.container.removeAttr("style");f.slides.removeAttr("style");f.slides.removeClass(f.slideActiveClass)}f.slides.each(function(){var g=d(this);g.removeData();g.removeClass(f.slideClass);e(this,"parsedAttrs",false)})},jump:function(f,i){var g;var h=this.opts();if(h.busy&&!h.manualTrump){return}var e=parseInt(f,10);if(isNaN(e)||e<0||e>=h.slides.length){h.API.log("goto: invalid slide index: "+e);return}if(e==h.currSlide){h.API.log("goto: skipping, already on slide",e);return}h.nextSlide=e;clearTimeout(h.timeoutId);h.timeoutId=0;h.API.log("goto: ",e," (zero-index)");g=h.currSlide<h.nextSlide;h._tempFx=i;h.API.prepareTx(true,g)},stop:function(){var f=this.opts();var e=f.container;clearTimeout(f.timeoutId);f.timeoutId=0;f.API.stopTransition();if(f.pauseOnHover){if(f.pauseOnHover!==true){e=d(f.pauseOnHover)}e.off("mouseenter mouseleave")}f.API.trigger("cycle-stopped",[f]).log("cycle-stopped")},reinit:function(){var e=this.opts();e.API.destroy();e.container.cycle()},remove:function(g){var l=this.opts();var e,f,k=[],j=1;for(var h=0;h<l.slides.length;h++){e=l.slides[h];if(h==g){f=e}else{k.push(e);d(e).data("cycle.opts").slideNum=j;j++}}if(f){l.slides=d(k);l.slideCount--;d(f).remove();if(g==l.currSlide){l.API.advanceSlide(1)}else{if(g<l.currSlide){l.currSlide--}else{l.currSlide++}}l.API.trigger("cycle-slide-removed",[l,g,f]).log("cycle-slide-removed");l.API.updateView()}}});d(document).on("click.cycle","[data-cycle-cmd]",function(h){h.preventDefault();var g=d(this);var i=g.data("cycle-cmd");var f=g.data("cycle-context")||".cycle-slideshow";d(f).cycle(i,g.data("cycle-arg"))})})(jQuery);
/*! hash plugin for Cycle2;  version: 20130905 */
(function(d){d(document).on("cycle-pre-initialize",function(g,f){c(f,true);f._onHashChange=function(){c(f,false)};d(window).on("hashchange",f._onHashChange)});d(document).on("cycle-update-view",function(h,g,f){if(f.hash&&("#"+f.hash)!=window.location.hash){g._hashFence=true;window.location.hash=f.hash}});d(document).on("cycle-destroyed",function(g,f){if(f._onHashChange){d(window).off("hashchange",f._onHashChange)}});function c(f,e){var g;if(f._hashFence){f._hashFence=false;return}g=window.location.hash.substring(1);f.slides.each(function(j){if(d(this).data("cycle-hash")==g){if(e===true){f.startingSlide=j}else{var h=f.currSlide<j;f.nextSlide=j;f.API.prepareTx(true,h)}return false}})}})(jQuery);
/*! loader plugin for Cycle2;  version: 20131121 */
(function(c){c.extend(c.fn.cycle.defaults,{loader:false});c(document).on("cycle-bootstrap",function(g,d){var h;if(!d.loader){return}h=d.API.add;d.API.add=f;function f(n,l){var k=[];if(c.type(n)=="string"){n=c.trim(n)}else{if(c.type(n)==="array"){for(var m=0;m<n.length;m++){n[m]=c(n[m])[0]}}}n=c(n);var j=n.length;if(!j){return}n.css("visibility","hidden").appendTo("body").each(function(s){var t=0;var q=c(this);var p=q.is("img")?q:q.find("img");q.data("index",s);p=p.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])');if(!p.length){--j;k.push(q);return}t=p.length;p.each(function(){if(this.complete){r()}else{c(this).load(function(){r()}).on("error",function(){if(--t===0){d.API.log("slide skipped; img not loaded:",this.src);if(--j===0&&d.loader=="wait"){h.apply(d.API,[k,l])}}})}});function r(){if(--t===0){--j;e(q)}}});if(j){d.container.addClass("cycle-loading")}function e(i){var p;if(d.loader=="wait"){k.push(i);if(j===0){k.sort(o);h.apply(d.API,[k,l]);d.container.removeClass("cycle-loading")}}else{p=c(d.slides[d.currSlide]);h.apply(d.API,[i,l]);p.show();d.container.removeClass("cycle-loading")}}function o(p,i){return p.data("index")-i.data("index")}}})})(jQuery);
/*! pager plugin for Cycle2;  version: 20140415 */
(function(e){e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:undefined,pagerTemplate:"<span>&bull;</span>"});e(document).on("cycle-bootstrap",function(h,g,f){f.buildPagerLink=c});e(document).on("cycle-slide-added",function(h,g,f,i){if(g.pager){g.API.buildPagerLink(g,f,i);g.API.page=d}});e(document).on("cycle-slide-removed",function(j,i,g,h){if(i.pager){var f=i.API.getComponent("pager");f.each(function(){var k=e(this);e(k.children()[g]).remove()})}});e(document).on("cycle-update-view",function(i,h,g){var f;if(h.pager){f=h.API.getComponent("pager");f.each(function(){e(this).children().removeClass(h.pagerActiveClass).eq(h.currSlide).addClass(h.pagerActiveClass)})}});e(document).on("cycle-destroyed",function(h,g){var f=g.API.getComponent("pager");if(f){f.children().off(g.pagerEvent);if(g.pagerTemplate){f.empty()}}});function c(i,h,f){var j;var g=i.API.getComponent("pager");g.each(function(){var k=e(this);if(h.pagerTemplate){var l=i.API.tmpl(h.pagerTemplate,h,i,f[0]);j=e(l).appendTo(k)}else{j=k.children().eq(i.slideCount-1)}j.on(i.pagerEvent,function(m){if(!i.pagerEventBubble){m.preventDefault()}i.API.page(k,m.currentTarget)})})}function d(f,k){var i=this.opts();if(i.busy&&!i.manualTrump){return}var g=f.children().index(k);var j=g;var h=i.currSlide<j;if(i.currSlide==j){return}i.nextSlide=j;i._tempFx=i.pagerFx;i.API.prepareTx(true,h);i.API.trigger("cycle-pager-activated",[i,f,k])}})(jQuery);
/*! prevnext plugin for Cycle2;  version: 20140408 */
(function(c){c.extend(c.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:false});c(document).on("cycle-initialized",function(h,f){f.API.getComponent("next").on(f.nextEvent,function(i){i.preventDefault();f.API.next()});f.API.getComponent("prev").on(f.prevEvent,function(i){i.preventDefault();f.API.prev()});if(f.swipe){var d=f.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle";var g=f.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";f.container.on(d,function(i){f._tempFx=f.swipeFx;f.API.next()});f.container.on(g,function(){f._tempFx=f.swipeFx;f.API.prev()})}});c(document).on("cycle-update-view",function(j,d,i,l){if(d.allowWrap){return}var m=d.disabledClass;var g=d.API.getComponent("next");var f=d.API.getComponent("prev");var k=d._prevBoundry||0;var h=(d._nextBoundry!==undefined)?d._nextBoundry:d.slideCount-1;if(d.currSlide==h){g.addClass(m).prop("disabled",true)}else{g.removeClass(m).prop("disabled",false)}if(d.currSlide===k){f.addClass(m).prop("disabled",true)}else{f.removeClass(m).prop("disabled",false)}});c(document).on("cycle-destroyed",function(f,d){d.API.getComponent("prev").off(d.nextEvent);d.API.getComponent("next").off(d.prevEvent);d.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})})(jQuery);
/*! progressive loader plugin for Cycle2;  version: 20130315 */
(function(c){c.extend(c.fn.cycle.defaults,{progressive:false});c(document).on("cycle-pre-initialize",function(j,d){if(!d.progressive){return}var h=d.API;var m=h.next;var k=h.prev;var n=h.prepareTx;var l=c.type(d.progressive);var f,g;if(l=="array"){f=d.progressive}else{if(c.isFunction(d.progressive)){f=d.progressive(d)}else{if(l=="string"){g=c(d.progressive);f=c.trim(g.html());if(!f){return}if(/^(\[)/.test(f)){try{f=c.parseJSON(f)}catch(i){h.log("error parsing progressive slides",i);return}}else{f=f.split(new RegExp(g.data("cycle-split")||"\n"));if(!f[f.length-1]){f.pop()}}}}}if(n){h.prepareTx=function(q,p){var o,e;if(q||f.length===0){n.apply(d.API,[q,p]);return}if(p&&d.currSlide==(d.slideCount-1)){e=f[0];f=f.slice(1);d.container.one("cycle-slide-added",function(s,r){setTimeout(function(){r.API.advanceSlide(1)},50)});d.API.add(e)}else{if(!p&&d.currSlide===0){o=f.length-1;e=f[o];f=f.slice(0,o);d.container.one("cycle-slide-added",function(s,r){setTimeout(function(){r.currSlide=1;r.API.advanceSlide(-1)},50)});d.API.add(e,true)}else{n.apply(d.API,[q,p])}}}}if(m){h.next=function(){var o=this.opts();if(f.length&&o.currSlide==(o.slideCount-1)){var e=f[0];f=f.slice(1);o.container.one("cycle-slide-added",function(q,p){m.apply(p.API);p.container.removeClass("cycle-loading")});o.container.addClass("cycle-loading");o.API.add(e)}else{m.apply(o.API)}}}if(k){h.prev=function(){var p=this.opts();if(f.length&&p.currSlide===0){var o=f.length-1;var e=f[o];f=f.slice(0,o);p.container.one("cycle-slide-added",function(r,q){q.currSlide=1;q.API.advanceSlide(-1);q.container.removeClass("cycle-loading")});p.container.addClass("cycle-loading");p.API.add(e,true)}else{k.apply(p.API)}}}})})(jQuery);
/*! tmpl plugin for Cycle2;  version: 20121227 */
(function(c){c.extend(c.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"});c.extend(c.fn.cycle.API,{tmpl:function(g,f){var e=new RegExp(f.tmplRegex||c.fn.cycle.defaults.tmplRegex,"g");var d=c.makeArray(arguments);d.shift();return g.replace(e,function(k,o){var l,h,n,p,m=o.split(".");for(l=0;l<d.length;l++){n=d[l];if(!n){continue}if(m.length>1){p=n;for(h=0;h<m.length;h++){n=p;p=p[m[h]]||o}}else{p=n[o]}if(c.isFunction(p)){return p.apply(n,d)}if(p!==undefined&&p!==null&&p!=o){return p}}return o})}})})(jQuery)},function(b,a){!function(c){c(document).on("cycle-bootstrap",function(e,d,f){"carousel"===d.fx&&(f.getSlideIndex=function(h){var g=this.opts()._carouselWrap.children(),i=g.index(h);return i%g.length},f.next=function(){var g=d.reverse?-1:1;d.allowWrap===!1&&d.currSlide+g>d.slideCount-d.carouselVisible||(d.API.advanceSlide(g),d.API.trigger("cycle-next",[d]).log("cycle-next"))})}),c.fn.cycle.transitions.carousel={preInit:function(d){d.hideNonActive=!1,d.container.on("cycle-destroyed",c.proxy(this.onDestroy,d.API)),d.API.stopTransition=this.stopTransition;for(var e=0;e<d.startingSlide;e++){d.container.append(d.slides[0])}},postInit:function(j){var q,p,o,n,m=j.carouselVertical;j.carouselVisible&&j.carouselVisible>j.slideCount&&(j.carouselVisible=j.slideCount-1);var l=j.carouselVisible||j.slides.length,k={display:m?"block":"inline-block",position:"static"};if(j.container.css({position:"relative",overflow:"hidden"}),j.slides.css(k),j._currSlide=j.currSlide,n=c('<div class="cycle-carousel-wrap"></div>').prependTo(j.container).css({margin:0,padding:0,top:0,left:0,position:"absolute"}).append(j.slides),j._carouselWrap=n,m||n.css("white-space","nowrap"),j.allowWrap!==!1){for(p=0;p<(void 0===j.carouselVisible?2:1);p++){for(q=0;q<j.slideCount;q++){n.append(j.slides[q].cloneNode(!0))}for(q=j.slideCount;q--;){n.prepend(j.slides[q].cloneNode(!0))}}n.find(".cycle-slide-active").removeClass("cycle-slide-active"),j.slides.eq(j.startingSlide).addClass("cycle-slide-active")}j.pager&&j.allowWrap===!1&&(o=j.slideCount-l,c(j.pager).children().filter(":gt("+o+")").hide()),j._nextBoundry=j.slideCount-j.carouselVisible,this.prepareDimensions(j)},prepareDimensions:function(i){var o,n,m,l,k=i.carouselVertical,j=i.carouselVisible||i.slides.length;if(i.carouselFluid&&i.carouselVisible?i._carouselResizeThrottle||this.fluidSlides(i):i.carouselVisible&&i.carouselSlideDimension?(o=j*i.carouselSlideDimension,i.container[k?"height":"width"](o)):i.carouselVisible&&(o=j*c(i.slides[0])[k?"outerHeight":"outerWidth"](!0),i.container[k?"height":"width"](o)),n=i.carouselOffset||0,i.allowWrap!==!1){if(i.carouselSlideDimension){n-=(i.slideCount+i.currSlide)*i.carouselSlideDimension}else{for(m=i._carouselWrap.children(),l=0;l<i.slideCount+i.currSlide;l++){n-=c(m[l])[k?"outerHeight":"outerWidth"](!0)}}}i._carouselWrap.css(k?"top":"left",n)},fluidSlides:function(i){function o(){clearTimeout(m),m=setTimeout(n,20)}function n(){i._carouselWrap.stop(!1,!0);var d=i.container.width()/i.carouselVisible;d=Math.ceil(d-k),i._carouselWrap.children().width(d),i._sentinel&&i._sentinel.width(d),j(i)}var m,l=i.slides.eq(0),k=l.outerWidth()-l.width(),j=this.prepareDimensions;c(window).on("resize",o),i._carouselResizeThrottle=o,n()},transition:function(y,x,w,v,u){var t,s={},r=y.nextSlide-y.currSlide,q=y.carouselVertical,p=y.speed;if(y.allowWrap===!1){v=r>0;var o=y._currSlide,n=y.slideCount-y.carouselVisible;r>0&&y.nextSlide>n&&o==n?r=0:r>0&&y.nextSlide>n?r=y.nextSlide-o-(y.nextSlide-n):0>r&&y.currSlide>n&&y.nextSlide>n?r=0:0>r&&y.currSlide>n?r+=y.currSlide-n:o=y.currSlide,t=this.getScroll(y,q,o,r),y.API.opts()._currSlide=y.nextSlide>n?n:y.nextSlide}else{v&&0===y.nextSlide?(t=this.getDim(y,y.currSlide,q),u=this.genCallback(y,v,q,u)):v||y.nextSlide!=y.slideCount-1?t=this.getScroll(y,q,y.currSlide,r):(t=this.getDim(y,y.currSlide,q),u=this.genCallback(y,v,q,u))}s[q?"top":"left"]=v?"-="+t:"+="+t,y.throttleSpeed&&(p=t/c(y.slides[0])[q?"height":"width"]()*y.speed),y._carouselWrap.animate(s,p,y.easing,u)},getDim:function(f,i,h){var g=c(f.slides[i]);return g[h?"outerHeight":"outerWidth"](!0)},getScroll:function(h,g,l,k){var j,i=0;if(k>0){for(j=l;l+k>j;j++){i+=this.getDim(h,j,g)}}else{for(j=l;j>l+k;j--){i+=this.getDim(h,j,g)}}return i},genCallback:function(f,i,h,g){return function(){var e=c(f.slides[f.nextSlide]).position(),d=0-e[h?"top":"left"]+(f.carouselOffset||0);f._carouselWrap.css(f.carouselVertical?"top":"left",d),g()}},stopTransition:function(){var d=this.opts();d.slides.stop(!1,!0),d._carouselWrap.stop(!1,!0)},onDestroy:function(){var d=this.opts();d._carouselResizeThrottle&&c(window).off("resize",d._carouselResizeThrottle),d.slides.prependTo(d.container),d._carouselWrap.remove()}}}(jQuery)},function(b,a,d){var c;c=d(2);d(25);b.exports={init:function(f){var e;e=f.$target;return e.find(".tooltip").tipso({position:"top-right",background:"#fff",color:"#444",useTitle:true,tooltipHover:true})}}},function(c,b,e){var d,a,f;
/*!
	 * tipso - A Lightweight Responsive jQuery Tooltip Plugin v1.0.8
	 * Copyright (c) 2014-2015 Bojan Petkovski
	 * http://tipso.object505.com
	 * Licensed under the MIT license
	 * http://object505.mit-license.org/
	 */
(function(g){if(true){!(a=[e(2)],d=(g),f=(typeof d==="function"?(d.apply(b,a)):d),f!==undefined&&(c.exports=f))}else{if(typeof b==="object"){c.exports=g(require("jquery"))}else{g(jQuery)}}}(function(l){var k="tipso",n={speed:400,background:"#55b555",titleBackground:"#333333",color:"#ffffff",titleColor:"#ffffff",titleContent:"",showArrow:true,position:"top",width:200,maxWidth:"",delay:200,hideDelay:0,animationIn:"",animationOut:"",offsetX:0,offsetY:0,arrowWidth:8,tooltipHover:false,content:null,ajaxContentUrl:null,ajaxContentBuffer:0,contentElementId:null,useTitle:false,templateEngineFunc:null,onBeforeShow:null,onShow:null,onHide:null};function j(s,p){this.element=s;this.$element=l(this.element);this.doc=l(document);this.win=l(window);this.settings=l.extend({},n,p);if(typeof(this.$element.data("tipso"))==="object"){l.extend(this.settings,this.$element.data("tipso"))}var u=Object.keys(this.$element.data());var o={};for(var r=0;r<u.length;r++){var q=u[r].replace(k,"");if(q===""){continue}q=q.charAt(0).toLowerCase()+q.slice(1);o[q]=this.$element.data(u[r]);for(var t in this.settings){if(t.toLowerCase()==q){this.settings[t]=o[q]}}}this._defaults=n;this._name=k;this._title=this.$element.attr("title");this.mode="hide";this.ieFade=!m;this.settings.preferedPosition=this.settings.position;this.init()}l.extend(j.prototype,{init:function(){var r=this,o=this.$element,s=this.doc;o.addClass("tipso_style").removeAttr("title");if(r.settings.tooltipHover){var p=null,q=null;o.on("mouseover."+k,function(){clearTimeout(p);clearTimeout(q);q=setTimeout(function(){r.show()},150)});o.on("mouseout."+k,function(){clearTimeout(p);clearTimeout(q);p=setTimeout(function(){r.hide()},200);r.tooltip().on("mouseover."+k,function(){r.mode="tooltipHover"}).on("mouseout."+k,function(){r.mode="show";clearTimeout(p);p=setTimeout(function(){r.hide()},200)})})}else{o.on("mouseover."+k,function(){r.show()});o.on("mouseout."+k,function(){r.hide()})}if(r.settings.ajaxContentUrl){r.ajaxContent=null}},tooltip:function(){if(!this.tipso_bubble){this.tipso_bubble=l('<div class="tipso_bubble"><div class="tipso_title"></div><div class="tipso_content"></div><div class="tipso_arrow"></div></div>')}return this.tipso_bubble},show:function(){var p=this.tooltip(),q=this,r=this.win;if(q.settings.showArrow===false){p.find(".tipso_arrow").hide()}else{p.find(".tipso_arrow").show()}if(q.mode==="hide"){if(l.isFunction(q.settings.onBeforeShow)){q.settings.onBeforeShow(q.$element,q.element,q)}if(q.settings.size){p.addClass(q.settings.size)}if(q.settings.width){p.css({background:q.settings.background,color:q.settings.color,width:q.settings.width}).hide()}else{if(q.settings.maxWidth){p.css({background:q.settings.background,color:q.settings.color,maxWidth:q.settings.maxWidth}).hide()}else{p.css({background:q.settings.background,color:q.settings.color,width:200}).hide()}}p.find(".tipso_title").css({background:q.settings.titleBackground,color:q.settings.titleColor});p.find(".tipso_content").html(q.content());p.find(".tipso_title").html(q.titleContent());g(q);r.on("resize."+k,function o(){q.settings.position=q.settings.preferedPosition;g(q)});window.clearTimeout(q.timeout);q.timeout=null;q.timeout=window.setTimeout(function(){if(q.ieFade||q.settings.animationIn===""||q.settings.animationOut===""){p.appendTo("body").stop(true,true).fadeIn(q.settings.speed,function(){q.mode="show";if(l.isFunction(q.settings.onShow)){q.settings.onShow(q.$element,q.element,q)}})}else{p.remove().appendTo("body").stop(true,true).removeClass("animated "+q.settings.animationOut).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+q.settings.animationIn).fadeIn(q.settings.speed,function(){l(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){l(this).removeClass("animated "+q.settings.animationIn)});q.mode="show";if(l.isFunction(q.settings.onShow)){q.settings.onShow(q.$element,q.element,q)}r.off("resize."+k,null,"tipsoResizeHandler")})}},q.settings.delay)}},hide:function(q){var r=this,s=this.win,o=this.tooltip(),p=r.settings.hideDelay;if(q){p=0;r.mode="show"}window.clearTimeout(r.timeout);r.timeout=null;r.timeout=window.setTimeout(function(){if(r.mode!=="tooltipHover"){if(r.ieFade||r.settings.animationIn===""||r.settings.animationOut===""){o.stop(true,true).fadeOut(r.settings.speed,function(){l(this).remove();if(l.isFunction(r.settings.onHide)&&r.mode==="show"){r.settings.onHide(r.$element,r.element,r)}r.mode="hide";s.off("resize."+k,null,"tipsoResizeHandler")})}else{o.stop(true,true).removeClass("animated "+r.settings.animationIn).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+r.settings.animationOut).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){l(this).removeClass("animated "+r.settings.animationOut).remove();if(l.isFunction(r.settings.onHide)&&r.mode==="show"){r.settings.onHide(r.$element,r.element,r)}r.mode="hide";s.off("resize."+k,null,"tipsoResizeHandler")})}}},p)},close:function(){this.hide(true)},destroy:function(){var o=this.$element,q=this.win,p=this.doc;o.off("."+k);q.off("resize."+k,null,"tipsoResizeHandler");o.removeData(k);o.removeClass("tipso_style").attr("title",this._title)},titleContent:function(){var p,o=this.$element,q=this;if(q.settings.titleContent){p=q.settings.titleContent}else{p=o.data("tipso-title")}return p},content:function(){var p,o=this.$element,q=this,r=this._title;if(q.settings.ajaxContentUrl){if(q._ajaxContent){p=q._ajaxContent}else{q._ajaxContent=p=l.ajax({type:"GET",url:q.settings.ajaxContentUrl,async:false}).responseText;if(q.settings.ajaxContentBuffer>0){setTimeout(function(){q._ajaxContent=null},q.settings.ajaxContentBuffer)}else{q._ajaxContent=null}}}else{if(q.settings.contentElementId){p=l("#"+q.settings.contentElementId).text()}else{if(q.settings.content){p=q.settings.content}else{if(q.settings.useTitle===true){p=r}else{if(typeof(o.data("tipso"))==="string"){p=o.data("tipso")}}}}}if(q.settings.templateEngineFunc!==null){p=q.settings.templateEngineFunc(p)}return p},update:function(o,p){var q=this;if(p){q.settings[o]=p}else{return q.settings[o]}}});function i(q){var r=q.clone();r.css("visibility","hidden");l("body").append(r);var o=r.outerHeight();var p=r.outerWidth();r.remove();return{width:p,height:o}}var m=(function(){var p=document.createElement("p").style,o=["ms","O","Moz","Webkit"];if(p.transition===""){return true}while(o.length){if(o.pop()+"Transition" in p){return true}}return false})();function h(o){o.removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner");o.find(".tipso_title").removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner")}function g(r){var q=r.tooltip(),o=r.$element,s=r,p=l(window),y=10,v,t,x;var z=s.settings.background;var u=s.titleContent();if(u!==undefined&&u!==""){z=s.settings.titleBackground}if(o.parent().outerWidth()>p.outerWidth()){p=o.parent()}switch(s.settings.position){case"top-right":t=o.offset().left+(o.outerWidth());v=o.offset().top-i(q).height-y;q.find(".tipso_arrow").css({marginLeft:-s.settings.arrowWidth,marginTop:"",});if(v<p.scrollTop()){v=o.offset().top+o.outerHeight()+y;q.find(".tipso_arrow").css({"border-bottom-color":z,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});h(q);q.addClass("bottom_right_corner");q.find(".tipso_title").addClass("bottom_right_corner");q.find(".tipso_arrow").css({"border-left-color":z,});q.removeClass("top-right top bottom left right");q.addClass("bottom")}else{q.find(".tipso_arrow").css({"border-top-color":s.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"});h(q);q.addClass("top_right_corner");q.find(".tipso_arrow").css({"border-left-color":s.settings.background,});q.removeClass("top bottom left right");q.addClass("top")}break;case"top-left":t=o.offset().left-(i(q).width);v=o.offset().top-i(q).height-y;q.find(".tipso_arrow").css({marginLeft:-s.settings.arrowWidth,marginTop:"",});if(v<p.scrollTop()){v=o.offset().top+o.outerHeight()+y;q.find(".tipso_arrow").css({"border-bottom-color":z,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});h(q);q.addClass("bottom_left_corner");q.find(".tipso_title").addClass("bottom_left_corner");q.find(".tipso_arrow").css({"border-right-color":z,});q.removeClass("top-right top bottom left right");q.addClass("bottom")}else{q.find(".tipso_arrow").css({"border-top-color":s.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"});h(q);q.addClass("top_left_corner");q.find(".tipso_arrow").css({"border-right-color":s.settings.background,});q.removeClass("top bottom left right");q.addClass("top")}break;case"bottom-right":t=o.offset().left+(o.outerWidth());v=o.offset().top+o.outerHeight()+y;q.find(".tipso_arrow").css({marginLeft:-s.settings.arrowWidth,marginTop:"",});if(v+i(q).height>p.scrollTop()+p.outerHeight()){v=o.offset().top-i(q).height-y;q.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":s.settings.background,"border-left-color":"transparent","border-right-color":"transparent"});h(q);q.addClass("top_right_corner");q.find(".tipso_title").addClass("top_left_corner");q.find(".tipso_arrow").css({"border-left-color":s.settings.background,});q.removeClass("top-right top bottom left right");q.addClass("top")}else{q.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":z,"border-left-color":"transparent","border-right-color":"transparent"});h(q);q.addClass("bottom_right_corner");q.find(".tipso_title").addClass("bottom_right_corner");q.find(".tipso_arrow").css({"border-left-color":z,});q.removeClass("top bottom left right");q.addClass("bottom")}break;case"bottom-left":t=o.offset().left-(i(q).width);v=o.offset().top+o.outerHeight()+y;q.find(".tipso_arrow").css({marginLeft:-s.settings.arrowWidth,marginTop:"",});if(v+i(q).height>p.scrollTop()+p.outerHeight()){v=o.offset().top-i(q).height-y;q.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":s.settings.background,"border-left-color":"transparent","border-right-color":"transparent"});h(q);q.addClass("top_left_corner");q.find(".tipso_title").addClass("top_left_corner");q.find(".tipso_arrow").css({"border-right-color":s.settings.background,});q.removeClass("top-right top bottom left right");q.addClass("top")}else{q.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":z,"border-left-color":"transparent","border-right-color":"transparent"});h(q);q.addClass("bottom_left_corner");q.find(".tipso_title").addClass("bottom_left_corner");q.find(".tipso_arrow").css({"border-right-color":z,});q.removeClass("top bottom left right");q.addClass("bottom")}break;case"top":t=o.offset().left+(o.outerWidth()/2)-(i(q).width/2);v=o.offset().top-i(q).height-y;q.find(".tipso_arrow").css({marginLeft:-s.settings.arrowWidth,marginTop:"",});if(v<p.scrollTop()){v=o.offset().top+o.outerHeight()+y;q.find(".tipso_arrow").css({"border-bottom-color":z,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});q.removeClass("top bottom left right");q.addClass("bottom")}else{q.find(".tipso_arrow").css({"border-top-color":s.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});q.removeClass("top bottom left right");q.addClass("top")}break;case"bottom":t=o.offset().left+(o.outerWidth()/2)-(i(q).width/2);v=o.offset().top+o.outerHeight()+y;q.find(".tipso_arrow").css({marginLeft:-s.settings.arrowWidth,marginTop:"",});if(v+i(q).height>p.scrollTop()+p.outerHeight()){v=o.offset().top-i(q).height-y;q.find(".tipso_arrow").css({"border-top-color":s.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});q.removeClass("top bottom left right");q.addClass("top")}else{q.find(".tipso_arrow").css({"border-bottom-color":z,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});q.removeClass("top bottom left right");q.addClass(s.settings.position)}break;case"left":t=o.offset().left-i(q).width-y;v=o.offset().top+(o.outerHeight()/2)-(i(q).height/2);q.find(".tipso_arrow").css({marginTop:-s.settings.arrowWidth,marginLeft:""});if(t<p.scrollLeft()){t=o.offset().left+o.outerWidth()+y;q.find(".tipso_arrow").css({"border-right-color":s.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"});q.removeClass("top bottom left right");q.addClass("right")}else{q.find(".tipso_arrow").css({"border-left-color":s.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"});q.removeClass("top bottom left right");q.addClass(s.settings.position)}break;case"right":t=o.offset().left+o.outerWidth()+y;v=o.offset().top+(o.outerHeight()/2)-(i(q).height/2);q.find(".tipso_arrow").css({marginTop:-s.settings.arrowWidth,marginLeft:""});if(t+y+s.settings.width>p.scrollLeft()+p.outerWidth()){t=o.offset().left-i(q).width-y;q.find(".tipso_arrow").css({"border-left-color":s.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"});q.removeClass("top bottom left right");q.addClass("left")}else{q.find(".tipso_arrow").css({"border-right-color":s.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"});q.removeClass("top bottom left right");q.addClass(s.settings.position)}break}if(s.settings.position==="top-right"){q.find(".tipso_arrow").css({"margin-left":-s.settings.width/2})}if(s.settings.position==="top-left"){var w=q.find(".tipso_arrow").eq(0);w.css({"margin-left":s.settings.width/2-2*s.settings.arrowWidth})}if(s.settings.position==="bottom-right"){var w=q.find(".tipso_arrow").eq(0);w.css({"margin-left":-s.settings.width/2,"margin-top":""})}if(s.settings.position==="bottom-left"){var w=q.find(".tipso_arrow").eq(0);w.css({"margin-left":s.settings.width/2-2*s.settings.arrowWidth,"margin-top":""})}if(t<p.scrollLeft()&&(s.settings.position==="bottom"||s.settings.position==="top")){q.find(".tipso_arrow").css({marginLeft:t-s.settings.arrowWidth});t=0}if(t+s.settings.width>p.outerWidth()&&(s.settings.position==="bottom"||s.settings.position==="top")){x=p.outerWidth()-(t+s.settings.width);q.find(".tipso_arrow").css({marginLeft:-x-s.settings.arrowWidth,marginTop:""});t=t+x}if(t<p.scrollLeft()&&(s.settings.position==="left"||s.settings.position==="right"||s.settings.position==="top-right"||s.settings.position==="top-left"||s.settings.position==="bottom-right"||s.settings.position==="bottom-left")){t=o.offset().left+(o.outerWidth()/2)-(i(q).width/2);q.find(".tipso_arrow").css({marginLeft:-s.settings.arrowWidth,marginTop:""});v=o.offset().top-i(q).height-y;if(v<p.scrollTop()){v=o.offset().top+o.outerHeight()+y;q.find(".tipso_arrow").css({"border-bottom-color":z,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});q.removeClass("top bottom left right");h(q);q.addClass("bottom")}else{q.find(".tipso_arrow").css({"border-top-color":s.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});q.removeClass("top bottom left right");h(q);q.addClass("top")}if(t+s.settings.width>p.outerWidth()){x=p.outerWidth()-(t+s.settings.width);q.find(".tipso_arrow").css({marginLeft:-x-s.settings.arrowWidth,marginTop:""});t=t+x}if(t<p.scrollLeft()){q.find(".tipso_arrow").css({marginLeft:t-s.settings.arrowWidth});t=0}}if(t+s.settings.width>p.outerWidth()&&(s.settings.position==="left"||s.settings.position==="right"||s.settings.position==="top-right"||s.settings.position==="top-left"||s.settings.position==="bottom-right"||s.settings.position==="bottom-right")){t=o.offset().left+(o.outerWidth()/2)-(i(q).width/2);q.find(".tipso_arrow").css({marginLeft:-s.settings.arrowWidth,marginTop:""});v=o.offset().top-i(q).height-y;if(v<p.scrollTop()){v=o.offset().top+o.outerHeight()+y;q.find(".tipso_arrow").css({"border-bottom-color":z,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});h(q);q.removeClass("top bottom left right");q.addClass("bottom")}else{q.find(".tipso_arrow").css({"border-top-color":s.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"});h(q);q.removeClass("top bottom left right");q.addClass("top")}if(t+s.settings.width>p.outerWidth()){x=p.outerWidth()-(t+s.settings.width);q.find(".tipso_arrow").css({marginLeft:-x-s.settings.arrowWidth,marginTop:""});t=t+x}if(t<p.scrollLeft()){q.find(".tipso_arrow").css({marginLeft:t-s.settings.arrowWidth});t=0}}q.css({left:t+s.settings.offsetX,top:v+s.settings.offsetY});if(v<p.scrollTop()&&(s.settings.position==="right"||s.settings.position==="left")){o.tipso("update","position","bottom");g(s)}if(v+i(q).height>p.scrollTop()+p.outerHeight()&&(s.settings.position==="right"||s.settings.position==="left")){o.tipso("update","position","top");g(s)}}l[k]=l.fn[k]=function(p){var o=arguments;if(p===undefined||typeof p==="object"){if(!(this instanceof l)){l.extend(n,p)}return this.each(function(){if(!l.data(this,"plugin_"+k)){l.data(this,"plugin_"+k,new j(this,p))}})}else{if(typeof p==="string"&&p[0]!=="_"&&p!=="init"){var q;this.each(function(){var r=l.data(this,"plugin_"+k);if(!r){r=l.data(this,"plugin_"+k,new j(this,p))}if(r instanceof j&&typeof r[p]==="function"){q=r[p].apply(r,Array.prototype.slice.call(o,1))}if(p==="destroy"){l.data(this,"plugin_"+k,null)}});return q!==undefined?q:this}}}}))},function(b,a,e){var d,c;d=e(2);c=e(27);b.exports={init:function(g){var f;f=g.$target;return f.find(".js-scroll-nav").each(function(){var n,w,h,k,r,s,p,q,v,u,o,i,t,l,j,m;n=d(this);w=n.parent();o=false;j=0;m=n.get(0).scrollWidth;q=false;k=function(y){var x;x="scroll-nav scroll-nav--"+y;if(q){x=x+" scroll-nav--background"}return"<a href='#' class='"+x+"'><span class='icon icon-chevron-"+y+"'></span></a>"};v=function(){return Math.abs(m-n.innerWidth())>2};u=function(){o=true;if(n.filter(".menu-secondary__list").length){q=true}h("right");n.css("marginBottom",-c());w.on("mousedown touchstart",".scroll-nav",function(x){x.preventDefault();if(d(this).hasClass("scroll-nav--right")){return i("right")}else{if(d(this).hasClass("scroll-nav--left")){return i("left")}}}).on("mouseup touchend",".scroll-nav",function(){return n.stop()}).on("click",".scroll-nav",function(x){return x.preventDefault()});return n.on("scroll",function(){return p()})};t=function(){m=n.get(0).scrollWidth;return p()};r=function(){o=false;j=0;l("left");l("right");n.css("marginBottom","");w.off("mousedown touchstart mouseup touchend",".scroll-nav");return n.off("scroll")};h=function(y){var x;x=w.find(".scroll-nav--"+y);if(!x.length){return n.after(k(y))}};l=function(y){var x;x=w.find(".scroll-nav--"+y);if(x.length){return x.remove()}};p=function(){j=n.scrollLeft();if(j>=5){h("left")}else{l("left")}if(((m-n.innerWidth())-j)<=5){return l("right")}else{return h("right")}};s=function(){if(v()){if(o){return t()}else{return u()}}else{if(o){return r()}}};i=function(A){var B,z,x,y;y=310/1000;z=0;B=0;if(A==="right"){x=m;B=m-n.innerWidth()}else{if(A==="left"){x=0;B=j}}z=B/y;return n.stop().animate({scrollLeft:x},z,"linear")};d(window).on("resize",s);if(v()){return u()}})}}},function(c,b,e){var d,a,f;
/*! scrollbarWidth.js v0.1.0 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */
(function(g,h){if(true){!(a=[],d=(h),f=(typeof d==="function"?(d.apply(b,a)):d),f!==undefined&&(c.exports=f))}else{if(typeof b==="object"){c.exports=h()}else{(g.jQuery||g).scrollbarWidth=h()}}}(this,function(){function g(){var h=document.body,k=document.createElement("div"),j=k.style,i;j.position="absolute";j.top=j.left="-9999px";j.width=j.height="100px";j.overflow="scroll";h.appendChild(k);i=k.offsetWidth-k.clientWidth;h.removeChild(k);return i}return g}))},function(b,a,d){var c;c=d(2);d(29);b.exports={init:function(f){var e;e=f.$target;e.find(".js-scrollbar--y").tinyscrollbar();return e.find(".js-scrollbar--x").tinyscrollbar({axis:"x"})}}},function(c,b,e){var d,a,f;(function(g){if(true){!(a=[e(2)],d=(g),f=(typeof d==="function"?(d.apply(b,a)):d),f!==undefined&&(c.exports=f))}else{if(typeof b==="object"){c.exports=g(require("jquery"))}else{g(jQuery)}}}(function(i){var h="tinyscrollbar",j={axis:"y",wheel:true,wheelSpeed:40,wheelLock:true,touchLock:true,trackSize:false,thumbSize:false,thumbSizeMin:20};function g(y,m){this.options=i.extend({},j,m);this._defaults=j;this._name=h;var w=this,l=y.find(".viewport"),B=y.find(".overview"),z=y.find(".scrollbar"),n=z.find(".track"),t=z.find(".thumb"),F=("ontouchstart" in document.documentElement),C="onwheel" in document.createElement("div")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",p=this.options.axis==="x",q=p?"width":"height",r=p?"left":"top",E=0;this.contentPosition=0;this.viewportSize=0;this.contentSize=0;this.contentRatio=0;this.trackSize=0;this.trackRatio=0;this.thumbSize=0;this.thumbPosition=0;this.hasContentToSroll=false;function G(){w.update();k();return w}this.update=function(H){var I=q.charAt(0).toUpperCase()+q.slice(1).toLowerCase();this.viewportSize=l[0]["offset"+I];this.contentSize=B[0]["scroll"+I];this.contentRatio=this.viewportSize/this.contentSize;this.trackSize=this.options.trackSize||this.viewportSize;this.thumbSize=Math.min(this.trackSize,Math.max(this.options.thumbSizeMin,(this.options.thumbSize||(this.trackSize*this.contentRatio))));this.trackRatio=(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize);this.hasContentToSroll=this.contentRatio<1;z.toggleClass("disable",!this.hasContentToSroll);switch(H){case"bottom":this.contentPosition=Math.max(this.contentSize-this.viewportSize,0);break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(H,10)||0}this.thumbPosition=this.contentPosition/this.trackRatio;D();return w};function D(){t.css(r,w.thumbPosition);B.css(r,-w.contentPosition);z.css(q,w.trackSize);n.css(q,w.trackSize);t.css(q,w.thumbSize)}function k(){if(F){l[0].ontouchstart=function(H){if(1===H.touches.length){H.stopPropagation();A(H.touches[0])}}}t.bind("mousedown",function(H){H.stopPropagation();A(H)});n.bind("mousedown",function(H){A(H,true)});i(window).resize(function(){w.update("relative")});if(w.options.wheel&&window.addEventListener){y[0].addEventListener(C,u,false)}else{if(w.options.wheel){y[0].onmousewheel=u}}}function v(){return w.contentPosition>0}function x(){return w.contentPosition<=(w.contentSize-w.viewportSize)-5}function A(I,H){if(w.hasContentToSroll){i("body").addClass("noSelect");E=H?t.offset()[r]:(p?I.pageX:I.pageY);if(F){document.ontouchmove=function(J){if(w.options.touchLock||v()&&x()){J.preventDefault()}J.touches[0][h+"Touch"]=1;s(J.touches[0])};document.ontouchend=o}i(document).bind("mousemove",s);i(document).bind("mouseup",o);t.bind("mouseup",o);n.bind("mouseup",o);s(I)}}function u(J){if(w.hasContentToSroll){var I=J||window.event,K=-(I.deltaY||I.detail||(-1/3*I.wheelDelta))/40,H=(I.deltaMode===1)?w.options.wheelSpeed:1;w.contentPosition-=K*H*w.options.wheelSpeed;w.contentPosition=Math.min((w.contentSize-w.viewportSize),Math.max(0,w.contentPosition));w.thumbPosition=w.contentPosition/w.trackRatio;y.trigger("move");t.css(r,w.thumbPosition);B.css(r,-w.contentPosition);if(w.options.wheelLock||v()&&x()){I=i.event.fix(I);I.preventDefault()}}J.stopPropagation()}function s(J){if(w.hasContentToSroll){var H=p?J.pageX:J.pageY,K=J[h+"Touch"]?(E-H):(H-E),I=Math.min((w.trackSize-w.thumbSize),Math.max(0,w.thumbPosition+K));w.contentPosition=I*w.trackRatio;y.trigger("move");t.css(r,I);B.css(r,-w.contentPosition)}}function o(){w.thumbPosition=parseInt(t.css(r),10)||0;i("body").removeClass("noSelect");i(document).unbind("mousemove",s);i(document).unbind("mouseup",o);t.unbind("mouseup",o);n.unbind("mouseup",o);document.ontouchmove=document.ontouchend=null}return G()}i.fn[h]=function(k){return this.each(function(){if(!i.data(this,"plugin_"+h)){i.data(this,"plugin_"+h,new g(i(this),k))}})}}))},function(b,a,d){var c;c=d(2);d(31);d(32);d(33);b.exports={init:function(g){var e,f;e=g.$target;f=c(window).width()>=700?[70,70,0,70]:[50,0,0,0];return e.find(".js-lightbox").fancybox({padding:0,margin:f,nextEffect:"none",prevEffect:"none",scrolling:"no",helpers:{thumbs:{width:130,height:73},overlay:{locked:true}},tpl:{closeBtn:'<a href="javascript:;" class="fancybox-close fancybox-margin" ><span class="vhide">Zavřít</span><span class="icon icon-close"></span></a>',next:'<a href="javascript:;" class="fancybox-nav fancybox-next"><span class="vhide">Další</span><span class="icon icon-angle-right"></span></a>',prev:'<a href="javascript:;" class="fancybox-nav fancybox-prev"><span class="vhide">Předchozí</span><span class="icon icon-angle-left"></span></a>'},afterLoad:function(){var j,i,h;j=c(this.element).data("gallery");i=c(this.element).data("fullscreen");if(j===false){return delete this.helpers.thumbs}else{c("html").addClass("fancybox-gallery");h={width:this.helpers.thumbs.width,height:this.helpers.thumbs.height};if((i==null)||i===true){return this.helpers.thumbs={width:160,height:90}}else{return this.helpers.thumbs=h}}},beforeShow:function(){var h,i,j;j=c(this.element).data("title");h=c(this.element).data("caption");i=c(this.element).data("fullscreen");if(j!=null){this.title="<p class='h5'>"+j+"</p>"}if(h!=null){this.title+="<p>"+h+"</p>"}if((i==null)||i===true){return c("html").addClass("fancybox-fullscreen")}},afterShow:function(){return c(document).swipe({swipe:function(i,k,l,j,h){switch(k){case"right":return c.fancybox.prev();case"left":return c.fancybox.next()}}})},afterClose:function(){c(document).swipe("destroy");c(".fancybox-fullscreen").removeClass("fancybox-fullscreen");return c(".fancybox-gallery").removeClass("fancybox-gallery")}})}}},function(b,a){
/*!
	 * fancyBox - jQuery Plugin
	 * version: 2.1.5 (Fri, 14 Jun 2013)
	 * requires jQuery v1.6 or later
	 *
	 * Examples at http://fancyapps.com/fancybox/
	 * License: www.fancyapps.com/fancybox/#license
	 *
	 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
	 *
	 */
(function(n,q,k,g){var r=k("html"),f=k(n),c=k(q),s=k.fancybox=function(){s.open.apply(this,arguments)},m=navigator.userAgent.match(/msie/i),e=null,h=q.createTouch!==g,l=function(t){return t&&t.hasOwnProperty&&t instanceof k},d=function(t){return t&&k.type(t)==="string"},o=function(t){return d(t)&&t.indexOf("%")>0},j=function(t){return(t&&!(t.style.overflow&&t.style.overflow==="hidden")&&((t.clientWidth&&t.scrollWidth>t.clientWidth)||(t.clientHeight&&t.scrollHeight>t.clientHeight)))},p=function(v,u){var t=parseInt(v,10)||0;if(u&&o(v)){t=s.getViewport()[u]/100*t}return Math.ceil(t)},i=function(t,u){return p(t,u)+"px"};k.extend(s,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!h,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(m?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:k.noop,beforeLoad:k.noop,afterLoad:k.noop,beforeShow:k.noop,afterShow:k.noop,beforeChange:k.noop,beforeClose:k.noop,afterClose:k.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(u,t){if(!u){return}if(!k.isPlainObject(t)){t={}}if(false===s.close(true)){return}if(!k.isArray(u)){u=l(u)?k(u).get():[u]}k.each(u,function(z,A){var y={},v,D,B,C,x,E,w;if(k.type(A)==="object"){if(A.nodeType){A=k(A)}if(l(A)){y={href:A.data("fancybox-href")||A.attr("href"),title:k("<div/>").text(A.data("fancybox-title")||A.attr("title")||"").html(),isDom:true,element:A};if(k.metadata){k.extend(true,y,A.metadata())}}else{y=A}}v=t.href||y.href||(d(A)?A:null);D=t.title!==g?t.title:y.title||"";B=t.content||y.content;C=B?"html":(t.type||y.type);if(!C&&y.isDom){C=A.data("fancybox-type");if(!C){x=A.prop("class").match(/fancybox\.(\w+)/);C=x?x[1]:null}}if(d(v)){if(!C){if(s.isImage(v)){C="image"}else{if(s.isSWF(v)){C="swf"}else{if(v.charAt(0)==="#"){C="inline"}else{if(d(A)){C="html";B=A}}}}}if(C==="ajax"){E=v.split(/\s+/,2);v=E.shift();w=E.shift()}}if(!B){if(C==="inline"){if(v){B=k(d(v)?v.replace(/.*(?=#[^\s]+$)/,""):v)}else{if(y.isDom){B=A}}}else{if(C==="html"){B=v}else{if(!C&&!v&&y.isDom){C="inline";B=A}}}}k.extend(y,{href:v,type:C,content:B,title:D,selector:w});u[z]=y});s.opts=k.extend(true,{},s.defaults,t);if(t.keys!==g){s.opts.keys=t.keys?k.extend({},s.defaults.keys,t.keys):false}s.group=u;return s._start(s.opts.index)},cancel:function(){var t=s.coming;if(t&&false===s.trigger("onCancel")){return}s.hideLoading();if(!t){return}if(s.ajaxLoad){s.ajaxLoad.abort()}s.ajaxLoad=null;if(s.imgPreload){s.imgPreload.onload=s.imgPreload.onerror=null}if(t.wrap){t.wrap.stop(true,true).trigger("onReset").remove()}s.coming=null;if(!s.current){s._afterZoomOut(t)}},close:function(t){s.cancel();if(false===s.trigger("beforeClose")){return}s.unbindEvents();if(!s.isActive){return}if(!s.isOpen||t===true){k(".fancybox-wrap").stop(true).trigger("onReset").remove();s._afterZoomOut()}else{s.isOpen=s.isOpened=false;s.isClosing=true;k(".fancybox-item, .fancybox-nav").remove();s.wrap.stop(true,true).removeClass("fancybox-opened");s.transitions[s.current.closeMethod]()}},play:function(v){var t=function(){clearTimeout(s.player.timer)},x=function(){t();if(s.current&&s.player.isActive){s.player.timer=setTimeout(s.next,s.current.playSpeed)}},u=function(){t();c.unbind(".player");s.player.isActive=false;s.trigger("onPlayEnd")},w=function(){if(s.current&&(s.current.loop||s.current.index<s.group.length-1)){s.player.isActive=true;c.bind({"onCancel.player beforeClose.player":u,"onUpdate.player":x,"beforeLoad.player":t});x();s.trigger("onPlayStart")}};if(v===true||(!s.player.isActive&&v!==false)){w()}else{u()}},next:function(u){var t=s.current;if(t){if(!d(u)){u=t.direction.next}s.jumpto(t.index+1,u,"next")}},prev:function(u){var t=s.current;if(t){if(!d(u)){u=t.direction.prev}s.jumpto(t.index-1,u,"prev")}},jumpto:function(u,w,t){var v=s.current;if(!v){return}u=p(u);s.direction=w||v.direction[(u>=v.index?"next":"prev")];s.router=t||"jumpto";if(v.loop){if(u<0){u=v.group.length+(u%v.group.length)}u=u%v.group.length}if(v.group[u]!==g){s.cancel();s._start(u)}},reposition:function(w,t){var v=s.current,u=v?v.wrap:null,x;if(u){x=s._getPosition(t);if(w&&w.type==="scroll"){delete x.position;u.stop(true,true).animate(x,200)}else{u.css(x);v.pos=k.extend({},v.dim,x)}}},update:function(v){var t=(v&&v.originalEvent&&v.originalEvent.type),u=!t||t==="orientationchange";if(u){clearTimeout(e);e=null}if(!s.isOpen||e){return}e=setTimeout(function(){var w=s.current;if(!w||s.isClosing){return}s.wrap.removeClass("fancybox-tmp");if(u||t==="load"||(t==="resize"&&w.autoResize)){s._setDimension()}if(!(t==="scroll"&&w.canShrink)){s.reposition(v)}s.trigger("onUpdate");e=null},(u&&!h?0:300))},toggle:function(t){if(s.isOpen){s.current.fitToView=k.type(t)==="boolean"?t:!s.current.fitToView;if(h){s.wrap.removeAttr("style").addClass("fancybox-tmp");s.trigger("onUpdate")}s.update()}},hideLoading:function(){c.unbind(".loading");k("#fancybox-loading").remove()},showLoading:function(){var u,t;s.hideLoading();u=k(s.opts.tpl.loading).click(s.cancel).appendTo("body");c.bind("keydown.loading",function(v){if((v.which||v.keyCode)===27){v.preventDefault();s.cancel()}});if(!s.defaults.fixed){t=s.getViewport();u.css({position:"absolute",top:(t.h*0.5)+t.y,left:(t.w*0.5)+t.x})}s.trigger("onLoading")},getViewport:function(){var t=(s.current&&s.current.locked)||false,u={x:f.scrollLeft(),y:f.scrollTop()};if(t&&t.length){u.w=t[0].clientWidth;u.h=t[0].clientHeight}else{u.w=h&&n.innerWidth?n.innerWidth:f.width();u.h=h&&n.innerHeight?n.innerHeight:f.height()}return u},unbindEvents:function(){if(s.wrap&&l(s.wrap)){s.wrap.unbind(".fb")}c.unbind(".fb");f.unbind(".fb")},bindEvents:function(){var u=s.current,t;if(!u){return}f.bind("orientationchange.fb"+(h?"":" resize.fb")+(u.autoCenter&&!u.locked?" scroll.fb":""),s.update);t=u.keys;if(t){c.bind("keydown.fb",function(x){var v=x.which||x.keyCode,w=x.target||x.srcElement;if(v===27&&s.coming){return false}if(!x.ctrlKey&&!x.altKey&&!x.shiftKey&&!x.metaKey&&!(w&&(w.type||k(w).is("[contenteditable]")))){k.each(t,function(y,z){if(u.group.length>1&&z[v]!==g){s[y](z[v]);x.preventDefault();return false}if(k.inArray(v,z)>-1){s[y]();x.preventDefault();return false}})}})}if(k.fn.mousewheel&&u.mouseWheel){s.wrap.bind("mousewheel.fb",function(A,B,w,v){var z=A.target||null,x=k(z),y=false;while(x.length){if(y||x.is(".fancybox-skin")||x.is(".fancybox-wrap")){break}y=j(x[0]);x=k(x).parent()}if(B!==0&&!y){if(s.group.length>1&&!u.canShrink){if(v>0||w>0){s.prev(v>0?"down":"left")}else{if(v<0||w<0){s.next(v<0?"up":"right")}}A.preventDefault()}}})}},trigger:function(u,w){var t,v=w||s.coming||s.current;if(v){if(k.isFunction(v[u])){t=v[u].apply(v,Array.prototype.slice.call(arguments,1))}if(t===false){return false}if(v.helpers){k.each(v.helpers,function(y,x){if(x&&s.helpers[y]&&k.isFunction(s.helpers[y][u])){s.helpers[y][u](k.extend(true,{},s.helpers[y].defaults,x),v)}})}}c.trigger(u)},isImage:function(t){return d(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return d(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(u){var v={},z,t,w,x,y;u=p(u);z=s.group[u]||null;if(!z){return false}v=k.extend(true,{},s.opts,z);x=v.margin;y=v.padding;if(k.type(x)==="number"){v.margin=[x,x,x,x]}if(k.type(y)==="number"){v.padding=[y,y,y,y]}if(v.modal){k.extend(true,v,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(v.autoSize){v.autoWidth=v.autoHeight=true}if(v.width==="auto"){v.autoWidth=true}if(v.height==="auto"){v.autoHeight=true}v.group=s.group;v.index=u;s.coming=v;if(false===s.trigger("beforeLoad")){s.coming=null;return}w=v.type;t=v.href;if(!w){s.coming=null;if(s.current&&s.router&&s.router!=="jumpto"){s.current.index=u;return s[s.router](s.direction)}return false}s.isActive=true;if(w==="image"||w==="swf"){v.autoHeight=v.autoWidth=false;v.scrolling="visible"}if(w==="image"){v.aspectRatio=true}if(w==="iframe"&&h){v.scrolling="scroll"}v.wrap=k(v.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+w+" fancybox-tmp "+v.wrapCSS).appendTo(v.parent||"body");k.extend(v,{skin:k(".fancybox-skin",v.wrap),outer:k(".fancybox-outer",v.wrap),inner:k(".fancybox-inner",v.wrap)});k.each(["Top","Right","Bottom","Left"],function(B,A){v.skin.css("padding"+A,i(v.padding[B]))});s.trigger("onReady");if(w==="inline"||w==="html"){if(!v.content||!v.content.length){return s._error("content")}}else{if(!t){return s._error("href")}}if(w==="image"){s._loadImage()}else{if(w==="ajax"){s._loadAjax()}else{if(w==="iframe"){s._loadIframe()}else{s._afterLoad()}}}},_error:function(t){k.extend(s.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:s.coming.tpl.error});s._afterLoad()},_loadImage:function(){var t=s.imgPreload=new Image();t.onload=function(){this.onload=this.onerror=null;s.coming.width=this.width/s.opts.pixelRatio;s.coming.height=this.height/s.opts.pixelRatio;s._afterLoad()};t.onerror=function(){this.onload=this.onerror=null;s._error("image")};t.src=s.coming.href;if(t.complete!==true){s.showLoading()}},_loadAjax:function(){var t=s.coming;s.showLoading();s.ajaxLoad=k.ajax(k.extend({},t.ajax,{url:t.href,error:function(u,v){if(s.coming&&v!=="abort"){s._error("ajax",u)}else{s.hideLoading()}},success:function(u,v){if(v==="success"){t.content=u;s._afterLoad()}}}))},_loadIframe:function(){var t=s.coming,u=k(t.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",h?"auto":t.iframe.scrolling).attr("src",t.href);k(t.wrap).bind("onReset",function(){try{k(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(v){}});if(t.iframe.preload){s.showLoading();u.one("load",function(){k(this).data("ready",1);if(!h){k(this).bind("load.fb",s.update)}k(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();s._afterLoad()})}t.content=u.appendTo(t.inner);if(!t.iframe.preload){s._afterLoad()}},_preloadImages:function(){var y=s.group,x=s.current,t=y.length,v=x.preload?Math.min(x.preload,t-1):0,w,u;for(u=1;u<=v;u+=1){w=y[(x.index+u)%t];if(w.type==="image"&&w.href){new Image().src=w.href}}},_afterLoad:function(){var u=s.coming,w=s.current,B="fancybox-placeholder",y,z,A,v,t,x;s.hideLoading();if(!u||s.isActive===false){return}if(false===s.trigger("afterLoad",u,w)){u.wrap.stop(true).trigger("onReset").remove();s.coming=null;return}if(w){s.trigger("beforeChange",w);w.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}s.unbindEvents();y=u;z=u.content;A=u.type;v=u.scrolling;k.extend(s,{wrap:y.wrap,skin:y.skin,outer:y.outer,inner:y.inner,current:y,previous:w});t=y.href;switch(A){case"inline":case"ajax":case"html":if(y.selector){z=k("<div>").html(z).find(y.selector)}else{if(l(z)){if(!z.data(B)){z.data(B,k('<div class="'+B+'"></div>').insertAfter(z).hide())}z=z.show().detach();y.wrap.bind("onReset",function(){if(k(this).find(z).length){z.hide().replaceAll(z.data(B)).data(B,false)}})}}break;case"image":z=y.tpl.image.replace(/\{href\}/g,t);break;case"swf":z='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+t+'"></param>';x="";k.each(y.swf,function(C,D){z+='<param name="'+C+'" value="'+D+'"></param>';x+=" "+C+'="'+D+'"'});z+='<embed src="'+t+'" type="application/x-shockwave-flash" width="100%" height="100%"'+x+"></embed></object>";break}if(!(l(z)&&z.parent().is(y.inner))){y.inner.append(z)}s.trigger("beforeShow");y.inner.css("overflow",v==="yes"?"scroll":(v==="no"?"hidden":v));s._setDimension();s.reposition();s.isOpen=false;s.coming=null;s.bindEvents();if(!s.isOpened){k(".fancybox-wrap").not(y.wrap).stop(true).trigger("onReset").remove()}else{if(w.prevMethod){s.transitions[w.prevMethod]()}}s.transitions[s.isOpened?y.nextMethod:y.openMethod]();s._preloadImages()},_setDimension:function(){var W=s.getViewport(),S=0,Y=false,aa=false,E=s.wrap,Q=s.skin,ab=s.inner,N=s.current,O=N.width,L=N.height,H=N.minWidth,A=N.minHeight,U=N.maxWidth,M=N.maxHeight,G=N.scrolling,y=N.scrollOutside?N.scrollbarWidth:0,K=N.margin,z=p(K[1]+K[3]),x=p(K[0]+K[2]),v,u,R,T,J,I,P,C,B,X,w,Z,t,D,F;E.add(Q).add(ab).width("auto").height("auto").removeClass("fancybox-tmp");v=p(Q.outerWidth(true)-Q.width());u=p(Q.outerHeight(true)-Q.height());R=z+v;T=x+u;J=o(O)?(W.w-R)*p(O)/100:O;I=o(L)?(W.h-T)*p(L)/100:L;if(N.type==="iframe"){D=N.content;if(N.autoHeight&&D&&D.data("ready")===1){try{if(D[0].contentWindow.document.location){ab.width(J).height(9999);F=D.contents().find("body");if(y){F.css("overflow-x","hidden")}I=F.outerHeight(true)}}catch(V){}}}else{if(N.autoWidth||N.autoHeight){ab.addClass("fancybox-tmp");if(!N.autoWidth){ab.width(J)}if(!N.autoHeight){ab.height(I)}if(N.autoWidth){J=ab.width()}if(N.autoHeight){I=ab.height()}ab.removeClass("fancybox-tmp")}}O=p(J);L=p(I);B=J/I;H=p(o(H)?p(H,"w")-R:H);U=p(o(U)?p(U,"w")-R:U);A=p(o(A)?p(A,"h")-T:A);M=p(o(M)?p(M,"h")-T:M);P=U;C=M;if(N.fitToView){U=Math.min(W.w-R,U);M=Math.min(W.h-T,M)}Z=W.w-z;t=W.h-x;if(N.aspectRatio){if(O>U){O=U;L=p(O/B)}if(L>M){L=M;O=p(L*B)}if(O<H){O=H;L=p(O/B)}if(L<A){L=A;O=p(L*B)}}else{O=Math.max(H,Math.min(O,U));if(N.autoHeight&&N.type!=="iframe"){ab.width(O);L=ab.height()}L=Math.max(A,Math.min(L,M))}if(N.fitToView){ab.width(O).height(L);E.width(O+v);X=E.width();w=E.height();if(N.aspectRatio){while((X>Z||w>t)&&O>H&&L>A){if(S++>19){break}L=Math.max(A,Math.min(M,L-10));O=p(L*B);if(O<H){O=H;L=p(O/B)}if(O>U){O=U;L=p(O/B)}ab.width(O).height(L);E.width(O+v);X=E.width();w=E.height()}}else{O=Math.max(H,Math.min(O,O-(X-Z)));L=Math.max(A,Math.min(L,L-(w-t)))}}if(y&&G==="auto"&&L<I&&(O+v+y)<Z){O+=y}ab.width(O).height(L);E.width(O+v);X=E.width();w=E.height();Y=(X>Z||w>t)&&O>H&&L>A;aa=N.aspectRatio?(O<P&&L<C&&O<J&&L<I):((O<P||L<C)&&(O<J||L<I));k.extend(N,{dim:{width:i(X),height:i(w)},origWidth:J,origHeight:I,canShrink:Y,canExpand:aa,wPadding:v,hPadding:u,wrapSpace:w-Q.outerHeight(true),skinSpace:Q.height()-L});if(!D&&N.autoHeight&&L>A&&L<M&&!aa){ab.height("auto")}},_getPosition:function(v){var z=s.current,u=s.getViewport(),x=z.margin,w=s.wrap.width()+x[1]+x[3],t=s.wrap.height()+x[0]+x[2],y={position:"absolute",top:x[0],left:x[3]};if(z.autoCenter&&z.fixed&&!v&&t<=u.h&&w<=u.w){y.position="fixed"}else{if(!z.locked){y.top+=u.y;y.left+=u.x}}y.top=i(Math.max(y.top,y.top+((u.h-t)*z.topRatio)));y.left=i(Math.max(y.left,y.left+((u.w-w)*z.leftRatio)));return y},_afterZoomIn:function(){var t=s.current;if(!t){return}s.isOpen=s.isOpened=true;s.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0);s.update();if(t.closeClick||(t.nextClick&&s.group.length>1)){s.inner.css("cursor","pointer").bind("click.fb",function(u){if(!k(u.target).is("a")&&!k(u.target).parent().is("a")){u.preventDefault();s[t.closeClick?"close":"next"]()}})}if(t.closeBtn){k(t.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(u){u.preventDefault();s.close()})}if(t.arrows&&s.group.length>1){if(t.loop||t.index>0){k(t.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev)}if(t.loop||t.index<s.group.length-1){k(t.tpl.next).appendTo(s.outer).bind("click.fb",s.next)}}s.trigger("afterShow");if(!t.loop&&t.index===t.group.length-1){s.play(false)}else{if(s.opts.autoPlay&&!s.player.isActive){s.opts.autoPlay=false;s.play(true)}}},_afterZoomOut:function(t){t=t||s.current;k(".fancybox-wrap").trigger("onReset").remove();k.extend(s,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});s.trigger("afterClose",t)}});s.transitions={getOrigPosition:function(){var w=s.current,u=w.element,z=w.orig,y={},t=50,A=50,x=w.hPadding,B=w.wPadding,v=s.getViewport();if(!z&&w.isDom&&u.is(":visible")){z=u.find("img:first");if(!z.length){z=u}}if(l(z)){y=z.offset();if(z.is("img")){t=z.outerWidth();A=z.outerHeight()}}else{y.top=v.y+(v.h-A)*w.topRatio;y.left=v.x+(v.w-t)*w.leftRatio}if(s.wrap.css("position")==="fixed"||w.locked){y.top-=v.y;y.left-=v.x}y={top:i(y.top-x*w.topRatio),left:i(y.left-B*w.leftRatio),width:i(t+B),height:i(A+x)};return y},step:function(u,v){var x,z,A,t=v.prop,w=s.current,y=w.wrapSpace,B=w.skinSpace;if(t==="width"||t==="height"){x=v.end===v.start?1:(u-v.start)/(v.end-v.start);if(s.isClosing){x=1-x}z=t==="width"?w.wPadding:w.hPadding;A=u-z;s.skin[t](p(t==="width"?A:A-(y*x)));s.inner[t](p(t==="width"?A:A-(y*x)-(B*x)))}},zoomIn:function(){var x=s.current,u=x.pos,v=x.openEffect,w=v==="elastic",t=k.extend({opacity:1},u);delete t.position;if(w){u=this.getOrigPosition();if(x.openOpacity){u.opacity=0.1}}else{if(v==="fade"){u.opacity=0.1}}s.wrap.css(u).animate(t,{duration:v==="none"?0:x.openSpeed,easing:x.openEasing,step:w?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var w=s.current,u=w.closeEffect,v=u==="elastic",t={opacity:0.1};if(v){t=this.getOrigPosition();if(w.closeOpacity){t.opacity=0.1}}s.wrap.animate(t,{duration:u==="none"?0:w.closeSpeed,easing:w.closeEasing,step:v?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var y=s.current,v=y.nextEffect,u=y.pos,t={opacity:1},x=s.direction,z=200,w;u.opacity=0.1;if(v==="elastic"){w=x==="down"||x==="up"?"top":"left";if(x==="down"||x==="right"){u[w]=i(p(u[w])-z);t[w]="+="+z+"px"}else{u[w]=i(p(u[w])+z);t[w]="-="+z+"px"}}if(v==="none"){s._afterZoomIn()}else{s.wrap.css(u).animate(t,{duration:y.nextSpeed,easing:y.nextEasing,complete:s._afterZoomIn})}},changeOut:function(){var v=s.previous,u=v.prevEffect,t={opacity:0.1},w=s.direction,x=200;if(u==="elastic"){t[w==="down"||w==="up"?"top":"left"]=(w==="up"||w==="left"?"-":"+")+"="+x+"px"}v.wrap.animate(t,{duration:u==="none"?0:v.prevSpeed,easing:v.prevEasing,complete:function(){k(this).trigger("onReset").remove()}})}};s.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!h,fixed:true},overlay:null,fixed:false,el:k("html"),create:function(u){var t;u=k.extend({},this.defaults,u);if(this.overlay){this.close()}t=s.coming?s.coming.parent:u.parent;this.overlay=k('<div class="fancybox-overlay"></div>').appendTo(t&&t.length?t:"body");this.fixed=false;if(u.fixed&&s.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(u){var t=this;u=k.extend({},this.defaults,u);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto")}else{this.create(u)}if(!this.fixed){f.bind("resize.overlay",k.proxy(this.update,this));this.update()}if(u.closeClick){this.overlay.bind("click.overlay",function(v){if(k(v.target).hasClass("fancybox-overlay")){if(s.isActive){s.close()}else{t.close()}return false}})}this.overlay.css(u.css).show()},close:function(){f.unbind("resize.overlay");if(this.el.hasClass("fancybox-lock")){k(".fancybox-margin").removeClass("fancybox-margin");this.el.removeClass("fancybox-lock");f.scrollTop(this.scrollV).scrollLeft(this.scrollH)}k(".fancybox-overlay").remove().hide();k.extend(this,{overlay:null,fixed:false})},update:function(){var u="100%",t;this.overlay.width(u).height("100%");if(m){t=Math.max(q.documentElement.offsetWidth,q.body.offsetWidth);if(c.width()>t){u=c.width()}}else{if(c.width()>f.width()){u=c.width()}}this.overlay.width(u).height(c.height())},onReady:function(u,v){var t=this.overlay;k(".fancybox-overlay").stop(true,true);if(!t){this.create(u)}if(u.locked&&this.fixed&&v.fixed){v.locked=this.overlay.append(v.wrap);v.fixed=false}if(u.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(t,u){if(u.locked&&!this.el.hasClass("fancybox-lock")){if(this.fixPosition!==false){k("*:not(object)").filter(function(){return(k(this).css("position")==="fixed"&&!k(this).hasClass("fancybox-overlay")&&!k(this).hasClass("fancybox-wrap"))}).addClass("fancybox-margin")}this.el.addClass("fancybox-margin");this.scrollV=f.scrollTop();this.scrollH=f.scrollLeft();this.el.addClass("fancybox-lock");f.scrollTop(this.scrollV).scrollLeft(this.scrollH)}this.open(t)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(t){if(this.overlay&&!s.coming){this.overlay.fadeOut(t.speedOut,k.proxy(this.close,this))}}};s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(u){var w=s.current,y=w.title,t=u.type,x,v;if(k.isFunction(y)){y=y.call(w.element,w)}if(!d(y)||k.trim(y)===""){return}x=k('<div class="fancybox-title fancybox-title-'+t+'-wrap">'+y+"</div>");switch(t){case"inside":v=s.skin;break;case"outside":v=s.wrap;break;case"over":v=s.inner;break;default:v=s.skin;x.appendTo("body");if(m){x.width(x.width())}x.wrapInner('<span class="child"></span>');s.current.margin[2]+=Math.abs(p(x.css("margin-bottom")));break}x[(u.position==="top"?"prependTo":"appendTo")](v)}};k.fn.fancybox=function(v){var u,w=k(this),t=this.selector||"",x=function(B){var A=k(this).blur(),y=u,z,C;if(!(B.ctrlKey||B.altKey||B.shiftKey||B.metaKey)&&!A.is(".fancybox-wrap")){z=v.groupAttr||"data-fancybox-group";C=A.attr(z);if(!C){z="rel";C=A.get(0)[z]}if(C&&C!==""&&C!=="nofollow"){A=t.length?k(t):w;A=A.filter("["+z+'="'+C+'"]');y=A.index(this)}v.index=y;if(s.open(A,v)!==false){B.preventDefault()}}};v=v||{};u=v.index||0;if(!t||v.live===false){w.unbind("click.fb-start").bind("click.fb-start",x)}else{c.undelegate(t,"click.fb-start").delegate(t+":not('.fancybox-item, .fancybox-nav')","click.fb-start",x)}this.filter("[data-fancybox-start=1]").trigger("click");return this};c.ready(function(){var u,t;if(k.scrollbarWidth===g){k.scrollbarWidth=function(){var w=k('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),x=w.children(),v=x.innerWidth()-x.height(99).innerWidth();w.remove();return v}}if(k.support.fixedPosition===g){k.support.fixedPosition=(function(){var w=k('<div style="position:fixed;top:20px;"></div>').appendTo("body"),v=(w[0].offsetTop===20||w[0].offsetTop===15);w.remove();return v}())}k.extend(s.defaults,{scrollbarWidth:k.scrollbarWidth(),fixed:k.support.fixedPosition,parent:k("body")});u=k(n).width();r.addClass("fancybox-lock-test");t=k(n).width();r.removeClass("fancybox-lock-test");k("<style type='text/css'>.fancybox-margin{margin-right:"+(t-u)+"px;}</style>").appendTo("head")})}(window,document,jQuery))},function(b,a){
/*!
	 * Thumbnail helper for fancyBox
	 * version: 1.0.7 (Mon, 01 Oct 2012)
	 * @requires fancyBox v2.0 or later
	 *
	 * Usage:
	 *     $(".fancybox").fancybox({
	 *         helpers : {
	 *             thumbs: {
	 *                 width  : 50,
	 *                 height : 50
	 *             }
	 *         }
	 *     });
	 *
	 */
(function(d){var c=d.fancybox;c.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(f){var e;if(f.element){e=d(f.element).find("img").attr("src")}if(!e&&f.type==="image"&&f.href){e=f.href}return e}},wrap:null,list:null,width:0,init:function(h,k){var g=this,i,e=h.width,j=h.height,f=h.source;i="";for(var l=0;l<k.group.length;l++){i+='<li><a style="width:'+e+"px;height:"+j+'px;" href="javascript:jQuery.fancybox.jumpto('+l+');"></a></li>'}this.wrap=d('<div id="fancybox-thumbs"></div>').addClass(h.position).appendTo("body");this.list=d("<ul>"+i+"</ul>").appendTo(this.wrap);d.each(k.group,function(n){var o=k.group[n],m=f(o);if(!m){return}d("<img />").on("load",function(){var t=this.width,p=this.height,s,q,r;if(!g.list||!t||!p){return}s=t/e;q=p/j;r=g.list.children().eq(n).find("a");if(s>=1&&q>=1){if(s>q){t=Math.floor(t/q);p=j}else{t=e;p=Math.floor(p/s)}}d(this).css({width:t,height:p,top:Math.floor(j/2-p/2),left:Math.floor(e/2-t/2)});r.width(e).height(j);d(this).hide().appendTo(r).fadeIn(300)}).attr("src",m).attr("title",o.title)});this.width=this.list.children().eq(0).outerWidth(true);this.list.width(this.width*(k.group.length+1)).css("left",Math.floor(d(window).width()*0.5-(k.index*this.width+this.width*0.5)))},beforeLoad:function(e,f){if(f.group.length<2){f.helpers.thumbs=false;return}f.margin[e.position==="top"?0:2]+=((e.height)+15)},afterShow:function(e,f){if(this.list){this.onUpdate(e,f)}else{this.init(e,f)}this.list.children().removeClass("active").eq(f.index).addClass("active")},onUpdate:function(e,f){if(this.list){this.list.stop(true).animate({left:Math.floor(d(window).width()*0.5-(f.index*this.width+this.width*0.5))},150)}},beforeClose:function(){if(this.wrap){this.wrap.remove()}this.wrap=null;this.list=null;this.width=0}}}(jQuery))},function(c,b,e){var d,a,f;
/*!
	 * @fileOverview TouchSwipe - jQuery Plugin
	 * @version 1.6.18
	 *
	 * @author Matt Bryson http://www.github.com/mattbryson
	 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
	 * @see http://labs.rampinteractive.co.uk/touchSwipe/
	 * @see http://plugins.jquery.com/project/touchSwipe
	 * @license
	 * Copyright (c) 2010-2015 Matt Bryson
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 *
	 */
(function(g){if("function"==="function"&&e(34)&&e(34).jQuery){!(a=[e(2)],d=(g),f=(typeof d==="function"?(d.apply(b,a)):d),f!==undefined&&(c.exports=f))}else{if(typeof c!=="undefined"&&c.exports){g(e(2))}else{g(jQuery)}}}(function(l){var E="1.6.18",v="left",u="right",k="up",D="down",i="in",G="out",s="none",y="auto",r="swipe",z="pinch",H="tap",p="doubletap",h="longtap",F="hold",K="horizontal",A="vertical",o="all",x=10,m="start",q="move",n="end",w="cancel",g="ontouchstart" in window,B=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!g,j=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!g,I="TouchSwipe";var t={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:".noSwipe",preventDefaultEvents:true};l.fn.swipe=function(N){var M=l(this),L=M.data(I);if(L&&typeof N==="string"){if(L[N]){return L[N].apply(L,Array.prototype.slice.call(arguments,1))}else{l.error("Method "+N+" does not exist on jQuery.swipe")}}else{if(L&&typeof N==="object"){L.option.apply(L,arguments)}else{if(!L&&(typeof N==="object"||!N)){return C.apply(this,arguments)}}}return M};l.fn.swipe.version=E;l.fn.swipe.defaults=t;l.fn.swipe.phases={PHASE_START:m,PHASE_MOVE:q,PHASE_END:n,PHASE_CANCEL:w};l.fn.swipe.directions={LEFT:v,RIGHT:u,UP:k,DOWN:D,IN:i,OUT:G};l.fn.swipe.pageScroll={NONE:s,HORIZONTAL:K,VERTICAL:A,AUTO:y};l.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:o};function C(L){if(L&&(L.allowPageScroll===undefined&&(L.swipe!==undefined||L.swipeStatus!==undefined))){L.allowPageScroll=s}if(L.click!==undefined&&L.tap===undefined){L.tap=L.click}if(!L){L={}}L=l.extend({},l.fn.swipe.defaults,L);return this.each(function(){var N=l(this);var M=N.data(I);if(!M){M=new J(this,L);N.data(I,M)}})}function J(bc,aA){var aA=l.extend({},aA);var aF=(g||j||!aA.fallbackToMouseEvents),Q=aF?(j?(B?"MSPointerDown":"pointerdown"):"touchstart"):"mousedown",aD=aF?(j?(B?"MSPointerMove":"pointermove"):"touchmove"):"mousemove",ab=aF?(j?(B?"MSPointerUp":"pointerup"):"touchend"):"mouseup",Z=aF?(j?"mouseleave":null):"mouseleave",aJ=(j?(B?"MSPointerCancel":"pointercancel"):"touchcancel");var am=0,aV=null,a9=null,ai=0,a8=0,a6=0,N=1,aw=0,aP=0,T=null;var aX=l(bc);var ag="start";var ad=0;var aW={};var aa=0,ba=0,bd=0,aE=0,U=0;var a3=null,al=null;try{aX.bind(Q,aT);aX.bind(aJ,bh)}catch(ap){l.error("events not supported "+Q+","+aJ+" on jQuery.swipe")}this.enable=function(){this.disable();aX.bind(Q,aT);aX.bind(aJ,bh);return aX};this.disable=function(){aQ();return aX};this.destroy=function(){aQ();aX.data(I,null);aX=null};this.option=function(bk,bj){if(typeof bk==="object"){aA=l.extend(aA,bk)}else{if(aA[bk]!==undefined){if(bj===undefined){return aA[bk]}else{aA[bk]=bj}}else{if(!bk){return aA}else{l.error("Option "+bk+" does not exist on jQuery.swipe.options")}}}return null};function aT(bl){if(aH()){return}if(l(bl.target).closest(aA.excludedElements,aX).length>0){return}var bm=bl.originalEvent?bl.originalEvent:bl;if(bm.pointerType&&bm.pointerType=="mouse"&&aA.fallbackToMouseEvents==false){return}var bk,bn=bm.touches,bj=bn?bn[0]:bm;ag=m;if(bn){ad=bn.length}else{if(aA.preventDefaultEvents!==false){bl.preventDefault()}}am=0;aV=null;a9=null;aP=null;ai=0;a8=0;a6=0;N=1;aw=0;T=ah();Y();ao(0,bj);if(!bn||(ad===aA.fingers||aA.fingers===o)||a4()){aa=ay();if(ad==2){ao(1,bn[1]);a8=a6=az(aW[0].start,aW[1].start)}if(aA.swipeStatus||aA.pinchStatus){bk=V(bm,ag)}}else{bk=false}if(bk===false){ag=w;V(bm,ag);return bk}else{if(aA.hold){al=setTimeout(l.proxy(function(){aX.trigger("hold",[bm.target]);if(aA.hold){bk=aA.hold.call(aX,bm,bm.target)}},this),aA.longTapThreshold)}au(true)}return null}function bb(bm){var bp=bm.originalEvent?bm.originalEvent:bm;if(ag===n||ag===w||ar()){return}var bl,bq=bp.touches,bk=bq?bq[0]:bp;var bn=aN(bk);ba=ay();if(bq){ad=bq.length}if(aA.hold){clearTimeout(al)}ag=q;if(ad==2){if(a8==0){ao(1,bq[1]);a8=a6=az(aW[0].start,aW[1].start)}else{aN(bq[1]);a6=az(aW[0].end,aW[1].end);aP=ax(aW[0].end,aW[1].end)}N=bf(a8,a6);aw=Math.abs(a8-a6)}if((ad===aA.fingers||aA.fingers===o)||!bq||a4()){aV=aR(bn.start,bn.end);a9=aR(bn.last,bn.end);aq(bm,a9);am=aY(bn.start,bn.end);ai=aS();aO(aV,am);bl=V(bp,ag);if(!aA.triggerOnTouchEnd||aA.triggerOnTouchLeave){var bj=true;if(aA.triggerOnTouchLeave){var bo=a5(this);bj=L(bn.end,bo)}if(!aA.triggerOnTouchEnd&&bj){ag=aI(q)}else{if(aA.triggerOnTouchLeave&&!bj){ag=aI(n)}}if(ag==w||ag==n){V(bp,ag)}}}else{ag=w;V(bp,ag)}if(bl===false){ag=w;V(bp,ag)}}function S(bj){var bk=bj.originalEvent?bj.originalEvent:bj,bl=bk.touches;if(bl){if(bl.length&&!ar()){M(bk);return true}else{if(bl.length&&ar()){return true}}}if(ar()){ad=aE}ba=ay();ai=aS();if(bi()||!at()){ag=w;V(bk,ag)}else{if(aA.triggerOnTouchEnd||(aA.triggerOnTouchEnd===false&&ag===q)){if(aA.preventDefaultEvents!==false){bj.preventDefault()}ag=n;V(bk,ag)}else{if(!aA.triggerOnTouchEnd&&be()){ag=n;aL(bk,ag,H)}else{if(ag===q){ag=w;V(bk,ag)}}}}au(false);return null}function bh(){ad=0;ba=0;aa=0;a8=0;a6=0;N=1;Y();au(false)}function R(bj){var bk=bj.originalEvent?bj.originalEvent:bj;if(aA.triggerOnTouchLeave){ag=aI(n);V(bk,ag)}}function aQ(){aX.unbind(Q,aT);aX.unbind(aJ,bh);aX.unbind(aD,bb);aX.unbind(ab,S);if(Z){aX.unbind(Z,R)}au(false)}function aI(bn){var bm=bn;var bl=aG();var bk=at();var bj=bi();if(!bl||bj){bm=w}else{if(bk&&bn==q&&(!aA.triggerOnTouchEnd||aA.triggerOnTouchLeave)){bm=n}else{if(!bk&&bn==n&&aA.triggerOnTouchLeave){bm=w}}}return bm}function V(bl,bj){var bk,bm=bl.touches;if(P()||ac()){bk=aL(bl,bj,r)}if((W()||a4())&&bk!==false){bk=aL(bl,bj,z)}if(aM()&&bk!==false){bk=aL(bl,bj,p)}else{if(av()&&bk!==false){bk=aL(bl,bj,h)}else{if(an()&&bk!==false){bk=aL(bl,bj,H)}}}if(bj===w){bh(bl)}if(bj===n){if(bm){if(!bm.length){bh(bl)}}else{bh(bl)}}return bk}function aL(bm,bj,bl){var bk;if(bl==r){aX.trigger("swipeStatus",[bj,aV||null,am||0,ai||0,ad,aW,a9]);if(aA.swipeStatus){bk=aA.swipeStatus.call(aX,bm,bj,aV||null,am||0,ai||0,ad,aW,a9);if(bk===false){return false}}if(bj==n&&a2()){clearTimeout(a3);clearTimeout(al);aX.trigger("swipe",[aV,am,ai,ad,aW,a9]);if(aA.swipe){bk=aA.swipe.call(aX,bm,aV,am,ai,ad,aW,a9);if(bk===false){return false}}switch(aV){case v:aX.trigger("swipeLeft",[aV,am,ai,ad,aW,a9]);if(aA.swipeLeft){bk=aA.swipeLeft.call(aX,bm,aV,am,ai,ad,aW,a9)}break;case u:aX.trigger("swipeRight",[aV,am,ai,ad,aW,a9]);if(aA.swipeRight){bk=aA.swipeRight.call(aX,bm,aV,am,ai,ad,aW,a9)}break;case k:aX.trigger("swipeUp",[aV,am,ai,ad,aW,a9]);if(aA.swipeUp){bk=aA.swipeUp.call(aX,bm,aV,am,ai,ad,aW,a9)}break;case D:aX.trigger("swipeDown",[aV,am,ai,ad,aW,a9]);if(aA.swipeDown){bk=aA.swipeDown.call(aX,bm,aV,am,ai,ad,aW,a9)}break}}}if(bl==z){aX.trigger("pinchStatus",[bj,aP||null,aw||0,ai||0,ad,N,aW]);if(aA.pinchStatus){bk=aA.pinchStatus.call(aX,bm,bj,aP||null,aw||0,ai||0,ad,N,aW);if(bk===false){return false}}if(bj==n&&bg()){switch(aP){case i:aX.trigger("pinchIn",[aP||null,aw||0,ai||0,ad,N,aW]);if(aA.pinchIn){bk=aA.pinchIn.call(aX,bm,aP||null,aw||0,ai||0,ad,N,aW)}break;case G:aX.trigger("pinchOut",[aP||null,aw||0,ai||0,ad,N,aW]);if(aA.pinchOut){bk=aA.pinchOut.call(aX,bm,aP||null,aw||0,ai||0,ad,N,aW)}break}}}if(bl==H){if(bj===w||bj===n){clearTimeout(a3);clearTimeout(al);if(af()&&!O()){U=ay();a3=setTimeout(l.proxy(function(){U=null;aX.trigger("tap",[bm.target]);if(aA.tap){bk=aA.tap.call(aX,bm,bm.target)}},this),aA.doubleTapThreshold)}else{U=null;aX.trigger("tap",[bm.target]);if(aA.tap){bk=aA.tap.call(aX,bm,bm.target)}}}}else{if(bl==p){if(bj===w||bj===n){clearTimeout(a3);clearTimeout(al);U=null;aX.trigger("doubletap",[bm.target]);if(aA.doubleTap){bk=aA.doubleTap.call(aX,bm,bm.target)}}}else{if(bl==h){if(bj===w||bj===n){clearTimeout(a3);U=null;aX.trigger("longtap",[bm.target]);if(aA.longTap){bk=aA.longTap.call(aX,bm,bm.target)}}}}}return bk}function at(){var bj=true;if(aA.threshold!==null){bj=am>=aA.threshold}return bj}function bi(){var bj=false;if(aA.cancelThreshold!==null&&aV!==null){bj=(aZ(aV)-am)>=aA.cancelThreshold}return bj}function ak(){if(aA.pinchThreshold!==null){return aw>=aA.pinchThreshold}return true}function aG(){var bj;if(aA.maxTimeThreshold){if(ai>=aA.maxTimeThreshold){bj=false}else{bj=true}}else{bj=true}return bj}function aq(bj,bk){if(aA.preventDefaultEvents===false){return}if(aA.allowPageScroll===s){bj.preventDefault()}else{var bl=aA.allowPageScroll===y;switch(bk){case v:if((aA.swipeLeft&&bl)||(!bl&&aA.allowPageScroll!=K)){bj.preventDefault()}break;case u:if((aA.swipeRight&&bl)||(!bl&&aA.allowPageScroll!=K)){bj.preventDefault()}break;case k:if((aA.swipeUp&&bl)||(!bl&&aA.allowPageScroll!=A)){bj.preventDefault()}break;case D:if((aA.swipeDown&&bl)||(!bl&&aA.allowPageScroll!=A)){bj.preventDefault()}break;case s:break}}}function bg(){var bk=aU();var bj=ae();var bl=ak();return bk&&bj&&bl}function a4(){return !!(aA.pinchStatus||aA.pinchIn||aA.pinchOut)}function W(){return !!(bg()&&a4())}function a2(){var bm=aG();var bo=at();var bl=aU();var bj=ae();var bk=bi();var bn=!bk&&bj&&bl&&bo&&bm;return bn}function ac(){return !!(aA.swipe||aA.swipeStatus||aA.swipeLeft||aA.swipeRight||aA.swipeUp||aA.swipeDown)}function P(){return !!(a2()&&ac())}function aU(){return((ad===aA.fingers||aA.fingers===o)||!g)}function ae(){return aW[0].end.x!==0}function be(){return !!(aA.tap)}function af(){return !!(aA.doubleTap)}function a1(){return !!(aA.longTap)}function X(){if(U==null){return false}var bj=ay();return(af()&&((bj-U)<=aA.doubleTapThreshold))}function O(){return X()}function aC(){return((ad===1||!g)&&(isNaN(am)||am<aA.threshold))}function a7(){return((ai>aA.longTapThreshold)&&(am<x))}function an(){return !!(aC()&&be())}function aM(){return !!(X()&&af())}function av(){return !!(a7()&&a1())}function M(bj){bd=ay();aE=bj.touches.length+1}function Y(){bd=0;aE=0}function ar(){var bj=false;if(bd){var bk=ay()-bd;if(bk<=aA.fingerReleaseThreshold){bj=true}}return bj}function aH(){return !!(aX.data(I+"_intouch")===true)}function au(bj){if(!aX){return}if(bj===true){aX.bind(aD,bb);aX.bind(ab,S);if(Z){aX.bind(Z,R)}}else{aX.unbind(aD,bb,false);aX.unbind(ab,S,false);if(Z){aX.unbind(Z,R,false)}}aX.data(I+"_intouch",bj===true)}function ao(bl,bj){var bk={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};bk.start.x=bk.last.x=bk.end.x=bj.pageX||bj.clientX;bk.start.y=bk.last.y=bk.end.y=bj.pageY||bj.clientY;aW[bl]=bk;return bk}function aN(bj){var bl=bj.identifier!==undefined?bj.identifier:0;var bk=aj(bl);if(bk===null){bk=ao(bl,bj)}bk.last.x=bk.end.x;bk.last.y=bk.end.y;bk.end.x=bj.pageX||bj.clientX;bk.end.y=bj.pageY||bj.clientY;return bk}function aj(bj){return aW[bj]||null}function aO(bj,bk){if(bj==s){return}bk=Math.max(bk,aZ(bj));T[bj].distance=bk}function aZ(bj){if(T[bj]){return T[bj].distance}return undefined}function ah(){var bj={};bj[v]=aB(v);bj[u]=aB(u);bj[k]=aB(k);bj[D]=aB(D);return bj}function aB(bj){return{direction:bj,distance:0}}function aS(){return ba-aa}function az(bm,bl){var bk=Math.abs(bm.x-bl.x);var bj=Math.abs(bm.y-bl.y);return Math.round(Math.sqrt(bk*bk+bj*bj))}function bf(bj,bk){var bl=(bk/bj)*1;return bl.toFixed(2)}function ax(){if(N<1){return G}else{return i}}function aY(bk,bj){return Math.round(Math.sqrt(Math.pow(bj.x-bk.x,2)+Math.pow(bj.y-bk.y,2)))}function aK(bm,bk){var bj=bm.x-bk.x;var bo=bk.y-bm.y;var bl=Math.atan2(bo,bj);var bn=Math.round(bl*180/Math.PI);if(bn<0){bn=360-Math.abs(bn)}return bn}function aR(bk,bj){if(a0(bk,bj)){return s}var bl=aK(bk,bj);if((bl<=45)&&(bl>=0)){return v}else{if((bl<=360)&&(bl>=315)){return v}else{if((bl>=135)&&(bl<=225)){return u}else{if((bl>45)&&(bl<135)){return D}else{return k}}}}}function ay(){var bj=new Date();return bj.getTime()}function a5(bj){bj=l(bj);var bl=bj.offset();var bk={left:bl.left,right:bl.left+bj.outerWidth(),top:bl.top,bottom:bl.top+bj.outerHeight()};return bk}function L(bj,bk){return(bj.x>bk.left&&bj.x<bk.right&&bj.y>bk.top&&bj.y<bk.bottom)}function a0(bj,bk){return(bj.x==bk.x&&bj.y==bk.y)}}}))},function(b,a){(function(c){b.exports=c}.call(a,{}))}]);