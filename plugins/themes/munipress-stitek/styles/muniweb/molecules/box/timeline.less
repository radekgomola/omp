@bxtime: ~'.box-timeline';

.box-timeline{
	margin: 0 0 @mMargin;
	&__list{
		.reset-ul();
		overflow: hidden;
		position: relative;
		&:before{
			content: '';
			position: absolute;
			left: 9px;
			top: 0;
			bottom: 0;
			width: 1px;
			background: @border;
		}
		+ *{
			margin-top: @mMarginSmall;
		}
	}
	&__item{
		.reset-ul-li();
		margin-top: @mMarginSmall;
		&:first-child,
		&:last-child{
			& @{bxtime}__point{
				&:before{
					content: '';
					position: absolute;
					left: 50%;
					width: 2px;
					height: 5000px;
					margin-left: -1px;
					background: #fff;
				}
			}
		}
		&:first-child{
			& @{bxtime}__point{
				&:before{
					bottom: 100%;
					margin-bottom: 1px;
				}
			}
		}
		&:last-child{
			& @{bxtime}__point{
				&:before{
					top: 100%;
					margin-top: 1px;
				}
			}
		}
		&--end{
			& @{bxtime}__point{
				background: #fff;
				border: 1px solid @border;
				width: 13px;
				height: 13px;
				left: 3px;
				top: 7px;
			}
		}
	}
	&__inner{
		display: block;
		color: @color;
		text-decoration: none;
		padding: 0 0 0 30px;
		position: relative;
		&[href]{
			& @{bxtime}__title{
				color: @link;
			}
			.no-touch &:hover{
				& @{bxtime}__title{
					color: @linkHover;
				}
			}
		}
	}
	&__point{
		position: absolute;
		left: 0;
		top: 4px;
		background: @primary;
		width: 19px;
		height: 19px;
		border-radius: 10px;
	}
	&__title{
		display: block;
		font-size: 18px;
		color: @dark;
		font-family: @fontSecondary;
		.transition(color .2s);
	}
	&__date{
		display: block;
		font-size: 14px;
	}
	&__title-date{
		font-size: 16px;
		color: @light;
		margin: 0 0 15px 25px;
		padding-top: 20px;
		font-family: @fontSecondary;
		font-weight: bold;
		&--big{
			font-size: 24px;
		}
	}
	&__box{
		border: 1px solid @border;
		background: #fff;
		padding: 15px 15px 0;
		position: relative;
		margin-left: 10px;
		&:before,
		&:after{
			content: '';
			position: absolute;
			right: 100%;
			top: 30px;
			border-width: 10px 10px 10px 0;
			border-style: dashed solid;
			border-color: transparent @border;
		}
		&:after{
			margin-right: -1px;
			border-color: transparent #fff;
		}
		&__title{
			font-size: 18px;
			margin-top: 0;
		}
		&__img {
			position: absolute;
			top: -1px;
			bottom: -1px;
			right: -1px;
			overflow: hidden;
			margin-bottom: 0;
			img {
				position: absolute;
				top: 50%;
				left: 50%;
				max-width: none;
				min-width: 100%;
				min-height: 100%;
				width: auto;
				height: auto;
				.transform(translate(-50%, -50%));
			}
		}
		& @{bxtime}__point{
			top: 31px;
			left: -41px;
		}
		&--bg {
			background: @primary;
			color: @whiteInvertable;
			&:after {
				border-color: transparent @primary;
			}
			& @{bxtime}__box {
				&__title {
					color: @whiteInvertable;
				}
			}
		}
	}

	&--center{
		text-align: center;
		& @{bxtime}__list{
			font-size: 18px;
			font-family: @fontSecondary;
			font-weight: bold;
			&:before{
				left: 50%;
			}
			+ *{
				margin-top: @mMargin;
			}
		}
		& @{bxtime}__item{
			margin-top: @mMargin;
			&--end{
				font-weight: normal;
				& @{bxtime}__title,
				& @{bxtime}__date{
					color: @color;
				}
				& @{bxtime}__point{
					top: 8px;
					margin-left: -6px;
				}
			}
		}
		& @{bxtime}__inner{
			padding: 0 50% 0 0;
			text-align: right;
			&[href]{
				color: @link;
				& @{bxtime}__title,
				& @{bxtime}__date,
				.no-touch &:hover & @{bxtime}__title{
					color: inherit;
					.transition(none);
				}
				.no-touch &:hover{
					color: @dark;
				}
			}
		}
		& @{bxtime}__point{
			top: 11px;
			left: 50%;
			margin-left: -9px;
		}
		& @{bxtime}__title,
		& @{bxtime}__date{
			font-size: 100%;
			color: @dark;
		}
		& @{bxtime}__title{
			padding-right: 25px;
		}
		& @{bxtime}__date{
			position: absolute;
			left: 50%;
			top: 0;
			width: 50%;
			padding-left: 25px;
			text-align: left;
		}

	}

	&--boxes{
		& @{bxtime}__list{
			margin: -10px -10px -10px 0;
			padding: 10px 10px 10px 0;
		}
		& @{bxtime}__inner{
			&[href]{
				&:before {
					content: '';
					position: absolute;
					left: 57px;
					top: 37px;
					width: 28px;
					height: 28px;
					.transform(rotate(45deg));
					.transition(box-shadow .2s);
				}
				& @{bxtime}__box{
					.transition(box-shadow .2s);
					&__title{
						color: @link;
						.transition(color .2s);
					}
					&--bg {
						& @{bxtime}__box {
							&__title {
								color: #fff;
							}
						}
					}
				}
				.no-touch &:hover{
					color: @color;
					&:before {
						box-shadow: 0 0 10px fade(#000, 20%);
					}
					& @{bxtime}__box{
						box-shadow: 0 0 10px fade(#000, 20%);
						&__title{
							color: @dark;
						}
						&--bg {
							& @{bxtime}__box {
								&__title {
									color: #fff;
								}
							}
						}
					}
				}
			}
		}
	}

	&--half{
		max-width: 542px;
	}

	&--two-third{
		max-width: 800px;
	}

	@media (max-width: (@tablet - 1)) {
		&__box {
			&__img {
				display: none;
			}
		}
	}

	@media(min-width: @tablet){
		&__inner{
			padding-left: 50px;
		}
		&__title-date{
			margin-left: 50px;
		}
		&__box{
			padding: 20px 30px 10px;
			margin-left: 20px;
			&:before,
			&:after{
				border-width: 20px 20px 20px 0;
			}
			&__title{
				font-size: 24px;
			}
			&__img {
				width: 220px;
			}
			& @{bxtime}__point{
				top: 41px;
				left: -71px;
			}
			&--img {
				padding-right: 250px;
			}
		}

		&--center{
			& @{bxtime}__list{
				font-size: 24px;
			}
			& @{bxtime}__item{
				&--end{
					font-size: 18px;
				}
			}
			& @{bxtime}__title{
				padding-right: 40px;
			}
			& @{bxtime}__date{
				padding-left: 40px;
			}

		}
	}

	@media (min-width: @desktop) {
		&__box {
			&__img {
				width: 370px;
			}
			&--img {
				padding-right: 400px;
			}
		}
	}
}
