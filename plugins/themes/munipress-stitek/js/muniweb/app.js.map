{"version":3,"sources":["webpack:///webpack/bootstrap ae9fb007a162c483824c","webpack:///./src/js/app.coffee","webpack:///./src/js/components/tr-clickable.coffee","webpack:///external \"jQuery\"","webpack:///./src/js/components/share.coffee","webpack:///./src/js/components/links.coffee","webpack:///./src/js/components/deaf.coffee","webpack:///./src/js/components/menuSide.coffee","webpack:///./src/js/components/accordion.coffee","webpack:///./src/js/components/btnDropdown.coffee","webpack:///./src/js/components/eventActions.coffee","webpack:///./src/js/components/header.coffee","webpack:///./src/js/lib/headroom.js","webpack:///./src/js/components/headerMenu.coffee","webpack:///./src/js/components/tabs.coffee","webpack:///./src/js/components/secondarySubmenu.coffee","webpack:///./src/js/components/matchHeight.coffee","webpack:///./bower_components/matchHeight/dist/jquery.matchHeight.js","webpack:///./src/js/components/selectize.coffee","webpack:///./~/selectize/dist/js/selectize.js","webpack:///./~/sifter/sifter.js","webpack:///./~/microplugin/src/microplugin.js","webpack:///./src/js/components/cycle.coffee","webpack:///./bower_components/jquery-cycle2/build/jquery.cycle2.js","webpack:///./bower_components/jquery-cycle2/build/plugin/jquery.cycle2.carousel.min.js","webpack:///./src/js/components/tooltip.coffee","webpack:///./bower_components/tipso/src/tipso.js","webpack:///./src/js/components/scrollNav.coffee","webpack:///./bower_components/scrollbarWidth/scrollbarWidth.js","webpack:///./src/js/components/scrollbar.coffee","webpack:///./bower_components/tinyscrollbar/lib/jquery.tinyscrollbar.js","webpack:///./src/js/components/lightbox.coffee","webpack:///./bower_components/fancybox/source/jquery.fancybox.js","webpack:///./bower_components/fancybox/source/helpers/jquery.fancybox-thumbs.js","webpack:///./bower_components/jquery-touchswipe/jquery.touchSwipe.js","webpack:///(webpack)/buildin/amd-options.js"],"names":[],"mappings":"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AAC,OAAN,CAAc,sBAAd,CACC,CAAC,GADF,CACM,YADN,EACoB,CADpB,CAEC,CAAC,GAFF,CAEM,YAFN,EAEoB,KAAK,CAAC,OAAN,CAAc,uBAAd,CAAsC,CAAC,WAAvC,EAFpB;KAPoD,CA1EtD;GAzBK,CAAN;;;;;;;;ACJD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA6B;AAC7B;AACA;;AAEA,gBAAe,sBAAsB;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,WAAW;AACxB,cAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,iBAAgB,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,iBAAgB,IAAI;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,iBAAgB,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,KAAK;AACrB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,KAAK;AACrB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+CAA8C;AAC9C;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC;;;;;;;ACrYD;;AAAA,KAAI,oBAAQ,CAAR;;AAEJ,OAAM,CAAC,OAAP,GACC;GAAA,MAAM,SAAC,OAAD;AA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CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gCAA+B;AAC/B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL,EAAC;;;;;;;ACnYD;;AAAA,KAAI,oBAAQ,CAAR;;AAEJ,qBAAQ,EAAR;;AAEA,OAAM,CAAC,OAAP,GACC;GAAA,MAAM,SAAC,OAAD;AACL;KAAC,UAAW;KAEZ,OAAO,CAAC,IAAR,CAAa,YAAb,CAA0B,CAAC,SAA3B,CACC;OAAA,uBAAuB,KAAvB;OACA,UAAU,SAAC,KAAD;AACT;SAAA,WAAW;SAEX,IAAG,QAAQ,CAAC,IAAT,CAAc,KAAd,CAAH;kBACC,MAAM,CAAC,QAAQ,CAAC,IAAhB,GAAuB,MADxB;;OAHS,CADV;MADD;YASA,OAAO,CAAC,IAAR,CAAa,aAAb,CAA2B,CAAC,IAA5B,CAAiC;AAChC;OAAA,WAAW,EAAE,IAAF;OACX,OAAO,QAAQ,CAAC,IAAT,CAAc,SAAd;OAEP,mBAAmB;SAClB;WACC,MAAM,WADP;WAEC,IAAI,UAFL;UADkB,EAKlB;WACC,MAAM,kBADP;WAEC,IAAI,MAFL;UALkB;;cAWnB,QAAQ,CAAC,SAAT,CACC;SAAA,uBAAuB,KAAvB;SACA,SAAS,CAAC,sBAAD,CADT;SAEA,UAAU,CAFV;SAGA,YAAY,OAHZ;SAIA,YAAY,MAJZ;SAKA,aAAa,CAAC,MAAD,CALb;SAMA,eAAe,OANf;SAOA,oBAAoB,IAPpB;SAQA,oBAAoB,MARpB;SASA,SAAS,IATT;SAUA,SAAS,EAVT;SAWA,WAAc,sBAAH,GAAwB,IAAI,CAAC,SAA7B,GAA4C,gBAXvD;SAYA,QAAQ,IAZR;SAaA,SAAS,KAbT;SAcA,QACC;WAAA,eAAe,SAAC,IAAD,EAAO,MAAP;AACd,oBAAO,0CAA0C,OAAO,IAAI,CAAC,KAAZ,CAA1C,GAA+D;WADxD,CAAf;WAEA,UAAU,SAAC,IAAD,EAAO,MAAP;AACT,oBAAO,yBAAyB,CAAI,IAAI,CAAC,EAAL,KAAW,UAAd,GAA8B,oBAA9B,GAAwD,EAAzD,CAAzB,GAAwF,IAAxF,GAA+F,IAAI,CAAC,IAApG,GAA2G;WADzG,CAFV;WAIA,iBAAiB,SAAC,IAAD,EAAO,MAAP;AAChB,oBAAO,kCAAkC,OAAO,IAAI,CAAC,IAAZ,CAAlC,GAAsD;WAD7C,CAJjB;WAMA,QAAQ,SAAC,IAAD,EAAO,MAAP;AACP,oBAAO,UAAU,OAAO,IAAI,CAAC,IAAZ,CAAV,GAA8B;WAD9B,CANR;UAfD;SAuBA,MAAM,SAAC,KAAD,EAAQ,QAAR;kBACL,CAAC,CAAC,IAAF,CACC;aAAA,KAAK,IAAI,CAAC,GAAL,GAAW,GAAX,GAAiB,mBAAmB,KAAnB,CAAtB;aACA,MAAM,KADN;aAEA,SAAS,SAAC,IAAD;sBACR,SAAS,IAAI,CAAC,KAAL,CAAW,IAAX,CAAT;aADQ,CAFT;YADD;SADK,CAvBN;SA8BA,UAAU,SAAC,KAAD;kBACT,QAAS,GAAE,CAAC,IAAI,CAAC,MAAjB;SADS,CA9BV;QADD;KAfgC,CAAjC;GAZK,CAAN;;;;;;;;ACLD;AACA;AACA;AACA;AACA,mEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,oBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,mBAAkB,gCAAgC;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA,kBAAiB,kBAAkB;AACnC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;AACA,yBAAwB;AACxB,wBAAuB;AACvB,wBAAuB;AACvB,0BAAyB;AACzB;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,SAAS;AACrB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,SAAS;AACrB,aAAY,IAAI;AAChB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,sCAAqC,OAAO;AAC5C;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;;AAExB;AACA;;AAEA,yBAAwB;AACxB,yBAAwB;AACxB,yBAAwB;AACxB;AACA,yBAAwB;AACxB;AACA,IAAG;;AAEH;AACA,2CAA0C,gCAAgC;;AAE1E;AACA;AACA,iDAAgD,OAAO;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAAkD,OAAO;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,GAAE;AACF;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iFAAgF;AAChF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gEAA+D,kDAAkD,EAAE;AACnH,qEAAoE,mDAAmD,EAAE;AACzH,uEAAsE,iDAAiD,EAAE;AACzH;;AAEA;AACA,6BAA4B,gDAAgD,EAAE;AAC9E,6BAA4B,4CAA4C;AACxE,KAAI;;AAEJ;AACA,8BAA6B,qBAAqB,EAAE;AACpD,6BAA4B,8CAA8C,EAAE;AAC5E,6BAA4B,4CAA4C,EAAE;AAC1E,6BAA4B,+CAA+C,EAAE;AAC7E,6BAA4B,uCAAuC,EAAE;AACrE,6BAA4B,2CAA2C,EAAE;AACzE,6BAA4B,yBAAyB,4CAA4C,EAAE;AACnG,6BAA4B,4CAA4C;AACxE,KAAI;;AAEJ;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,yFAAwF;AACxF;AACA;;AAEA,sCAAqC;AACrC,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mDAAkD;;AAElD;AACA,4CAA2C,OAAO;AAClD;AACA;AACA,MAAK;AACL;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kCAAkC;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,MAAM;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA4C,yBAAyB;AACrE,MAAK;AACL,6CAA4C,sBAAsB;AAClE;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA4B,kEAAkE;AAC9F;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,6BAA4B,0CAA0C;AACtE;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAa,YAAY;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB,kBAAiB;AACjB,iBAAgB;AAChB,iBAAgB;AAChB;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA0D,sBAAsB;AAChF;AACA,KAAI;AACJ,+BAA8B;AAC9B;;AAEA;AACA;AACA,sCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA,mDAAkD,OAAO;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,wCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAAyD;AACzD;AACA;AACA,OAAM;AACN,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,2CAA0C,OAAO;AACjD;AACA;AACA;;AAEA;AACA;AACA,uCAAsC,OAAO;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA,6DAA4D,aAAa;AACzE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,2CAA0C,aAAa;AACvD,KAAI;AACJ;AACA,0CAAyC,cAAc;AACvD;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,aAAa;AAC1B;AACA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,IAAI;AACjB,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;;AAEA;AACA,qCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA,qCAAoC,OAAO;AAC3C;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA;AACA,gCAA+B,eAAe;AAC9C;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+BAA8B,eAAe;AAC7C;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,cAAa,SAAS;AACtB,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAsC,OAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA,qCAAoC,YAAY;AAChD,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,uCAAuC;AAC9D;AACA,wBAAuB,sBAAsB;AAC7C;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAA+B;AAC/B;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,eAAe;AAC5C;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yBAAwB,SAAS;;AAEjC,8CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,IAAI;AACjB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,IAAI;AACjB,cAAa,OAAO;AACpB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,cAAa,IAAI;AACjB;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,OAAO;AAC5C;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,kCAAkC;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,8DAA6D;AAC7D,qDAAoD;AACpD,+CAA8C;AAC9C,oDAAmD;AACnD,2DAA0D;AAC1D,oDAAmD;AACnD,+CAA8C;AAC9C,0DAAyD;AACzD,oDAAmD;AACnD,+CAA8C;AAC9C,uDAAsD;AACtD,iDAAgD;AAChD,+CAA8C;AAC9C,wDAAuD;AACvD,wDAAuD;AACvD,kDAAiD;AACjD,qDAAoD;AACpD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC,OAAO;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,qDAAoD,OAAO;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC,OAAO;AAC3C;AACA;AACA;;AAEA;;AAEA;AACA,qCAAoC,OAAO;AAC3C;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA,sDAAqD;AACrD,IAAG;AACH;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,oBAAoB;AACxC,OAAM;AACN;AACA,qBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;;AAEH,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA4C,YAAY,kBAAkB,WAAW,UAAU,cAAc,wBAAwB,aAAa;AAClJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA,qBAAoB,mBAAmB;AACvC;;AAEA;AACA;AACA;AACA,qBAAoB,aAAa;AACjC;AACA;AACA,gCAA+B,kBAAkB;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,GAAE;;AAEF;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA,KAAI;;AAEJ;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAO;;AAEP;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;;AAGF;AACA,EAAC,G;;;;;;ACxnGD;AACA;AACA;AACA;AACA,mEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,aAAa;AACzB,aAAY,OAAO;AACnB;AACA;AACA;AACA,gCAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gCAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,aAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA,qCAAoC,OAAO;AAC3C;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,eAAc;AACd;AACA;AACA;AACA;AACA,wBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,uBAAsB,UAAU;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,6BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAiC,OAAO;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,mCAAmC;AACvD;AACA,IAAG;AACH,kCAAiC,OAAO;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,gBAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;;AAEA,sBAAqB;;AAErB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB,eAAc;AACd,gBAAe;AACf,iBAAgB;AAChB,gBAAe;AACf;AACA;AACA;AACA,kBAAiB;AACjB,gBAAe;AACf,iBAAgB;AAChB,gBAAe;AACf,gBAAe;AACf;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAwB,yBAAyB;AACjD;AACA,KAAI;AACJ,IAAG;AACH;AACA,wBAAuB,qBAAqB;AAC5C,KAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+CAA8C;AAC9C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,OAAO;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;;;AAGF;AACA;;AAEA;AACA,EAAC;;;;;;;;AChfD;AACA;AACA;AACA;AACA,mEAAkE;A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CAAmB,MAAnB,EAHD;YAJD;;OADgC,CAAjC;cAYA,WAAW,CAAC,EAAZ,CAAe,OAAf,EAAwB,SAAC,KAAD;AACvB;SAAA,KAAK,CAAC,cAAN;SAEA,QAAQ,EAAE,IAAF;SAER,UAAU;SAEV,aAAa,CAAC,KAAd,CAAoB,MAApB,EAA4B,EAAE,IAAF,CAAO,CAAC,IAAR,CAAa,OAAb,CAA5B;gBACA,eAAe,KAAK,CAAC,IAAN,CAAW,OAAX,CAAf;OARuB,CAAxB;KApCqC,CAAtC;GAvEK,CAAN;;;;;;;;ACND;AACA,iBAAgB;AAChB;AACA,+BAA8B;AAC9B;;AAEA;AACA,EAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB;;AAEnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA2B,0CAA0C;;AAErE;AACA,4CAA2C;AAC3C;AACA;;AAEA,gCAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,2BAA0B;;AAE1B;AACA;;AAEA;AACA,qCAAoC,4BAA4B;AAChE;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BAA2B,wBAAwB,EAAE;AACrD,4BAA2B,yBAAyB;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA,qC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA,sC;AACA;AACA;;;AAGA;AACA;AACA,wBAAuB,kEAAkE;AACzF;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gFAA+E;;AAE/E;AACA;AACA;;AAEA;AACA;AACA,wBAAuB;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC,YAAY;AACrD;;AAEA,sCAAqC;AACrC,wCAAuC;AACvC,yCAAwC;AACxC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yD;AACA,gE;AACA,kBAAiB;AACjB;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B;AAC3B,MAAK;;AAEL;AACA;AACA,4CAA2C;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAAyC,SAAS;AAClD;AACA,yBAAwB,oBAAoB;AAC5C;AACA;AACA;AACA,0CAAyC,QAAQ;AACjD;AACA,+BAA8B,oBAAoB;AAClD;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAiC,6BAA6B;;AAE9D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,+BAA8B;AAC9B;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,6CAA4C,sDAAsD;AAClG,4BAA2B;AAC3B,6BAA4B;AAC5B;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,6CAA4C,sDAAsD;AAClG,6BAA4B;AAC5B;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,+BAA8B;AAC9B,8BAA6B;AAC7B,4BAA2B;AAC3B,6BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wCAAwC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED,EAAC;;AAED,8BAA6B,6BAA6B;AAC1D;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC,E;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAe;AACf;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA,E;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,8BAA6B,YAAY;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA,0BAAyB,UAAU,KAAK,YAAY;AACpD;AACA,+BAA8B,OAAO,aAAa,MAAM;AACxD;AACA,EAAC,E;;AAED;AACA;AACA;AACA;AACA;AACA,yB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,EAAC;;AAED,EAAC;;AAED,+BAA8B;AAC9B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA8E;AAC9E;AACA;AACA;AACA,oDAAmD,aAAa;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA,qBAAoB;;AAEpB;AACA,gEAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,uBAAsB,wBAAwB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD,EAAC;;AAED,4BAA2B;AAC3B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA,EAAC;;AAED,8BAA6B;AAC7B;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB,mBAAmB;AAC5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,yDAAwD;AACxD;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED,EAAC;;AAED,6BAA4B;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC,EAAC;;AAED;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;AACA;;AAEA;AACA,iDAAgD;AAChD;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED,gCAA+B;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA,EAAC;;AAED,EAAC;;AAED,0CAAyC;AACzC;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB;AACnB;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,0C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED,EAAC;;AAED,4BAA2B;AAC3B;AACA;;AAEA;AACA,mBAAkB,WAAW;AAC7B,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA,8BAA6B,kBAAkB;AAC/C;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC,E;;AAED,EAAC;;;;;;;AC1gDD,sBAAqB,6BAA6B;AAClD,cAAa,aAAa,iDAAiD,gDAAgD,wDAAwD,kBAAkB,mBAAmB,qBAAqB,0IAA0I,EAAE,mCAAmC,oBAAoB,4HAA4H,YAAY,kBAAkB,oCAAoC,sBAAsB,iCAAiC,sFAAsF,4CAA4C,oDAAoD,oBAAoB,sCAAsC,sHAAsH,oDAAoD,wFAAwF,QAAQ,mCAAmC,KAAK,QAAQ,eAAe,wCAAwC,mBAAmB,IAAI,sCAAsC,4HAA4H,wKAAwK,+BAA+B,sEAAsE,0aAA0a,0CAA0C,2BAA2B,iDAAiD,sCAAsC,yBAAyB,aAAa,mCAAmC,aAAa,4BAA4B,4CAA4C,4FAA4F,2EAA2E,yDAAyD,gCAAgC,UAAU,0DAA0D,qBAAqB,MAAM,oDAAoD,sPAAsP,qNAAqN,8IAA8I,wBAAwB,qBAAqB,2CAA2C,6BAA6B,UAAU,eAAe,MAAM,0BAA0B,aAAa,MAAM,0BAA0B,SAAS,+BAA+B,kBAAkB,sFAAsF,4DAA4D,2BAA2B,kBAAkB,iDAAiD,sBAAsB,kBAAkB,wIAAwI,S;;;;;;ACDjlI;;AAAA,KAAI,oBAAQ,CAAR;;AAEJ,qBAAQ,EAAR;;AAGA,OAAM,CAAC,OAAP,GACC;GAAA,MAAM,SAAC,OAAD;AACL;KAAC,UAAW;YAEZ,OAAO,CAAC,IAAR,CAAa,UAAb,CAAwB,CAAC,KAAzB,CACC;OAAA,UAAU,WAAV;OACA,YAAY,MADZ;OAEA,OAAO,MAFP;OAGA,UAAU,IAHV;OAIA,cAAc,IAJd;MADD;GAHK,CAAN;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf,cAAa;AACb;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,2B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAU;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;;AAEV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;A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AhB;WACJ,SAAS;WACT,WAAW,WAFP;;SAIL,WAAW,WAAW;gBAEtB,KAAK,CAAC,IAAN,EAAY,CAAC,OAAb,CACC;WAAA,YAAY,MAAZ;UADD,EAEE,QAFF,EAEY,QAFZ;OAdM;OAkBP,EAAE,MAAF,CACC,CAAC,EADF,CACK,QADL,EACe,YADf;OAGA,IAAG,cAAH;gBACC,OADD;;KA3HmC,CAApC;GAHK,CAAN;;;;;;;;ACLD;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;AClCD;;AAAA,KAAI,oBAAQ,CAAR;;AAEJ,qBAAQ,EAAR;;AAEA,OAAM,CAAC,OAAP,GACC;GAAA,MAAM,SAAC,OAAD;AACL;KAAC,UAAW;KAEZ,OAAO,CAAC,IAAR,CAAa,kBAAb,CAAgC,CAAC,aAAjC;YACA,OAAO,CAAC,IAAR,CAAa,kBAAb,CAAgC,CAAC,aAAjC,CACC;OAAA,MAAM,GAAN;MADD;GAJK,CAAN;;;;;;;;ACLD,kGAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAc,OAAO;AACrB,iBAAgB,OAAO;AACvB,iBAAgB,QAAQ;AACxB,iBAAgB,QAAQ;AACxB,iBAAgB,QAAQ;AACxB,iBA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A;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB;AAChB,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA,KAAI;;AAEJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mDAAkD,KAAK;AACvD,4CAA2C,IAAI,uBAAuB,IAAI;AAC1E;AACA,yFAAwF;AACxF,sFAAqF;AACrF,0FAAyF;AACzF;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,gBAAe;AACf,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA,mBAAkB;AAClB,mBAAkB;;AAElB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,QAAO;AACP;;AAEA,QAAO;AACP;;AAEA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kFAAiF;;AAEjF,QAAO;AACP;AACA;;AAEA,OAAM;AACN;;AAEA,OAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,KAAI;;AAEJ;AACA,8BAA6B;;AAE7B;AACA;AACA,0CAAyC;AACzC;;AAEA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH,yCAAwC;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAI;AACJ;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA,0BAAyB;AACzB,gCAA+B;AAC/B,iCAAgC;AAChC;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,MAAK;AACL;;AAEA,+BAA8B;AAC9B;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAiD;AACjD;AACA,OAAM;AACN;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,8BAA6B;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA,KAAI;;AAEJ;;AAEA,gCAA+B;AAC/B;AACA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;;AAEA;AACA;;AAEA,KAAI;AACJ;;AAEA,KAAI;AACJ;;AAEA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;;AAEA,mCAAkC;AAClC;AACA;AACA;AACA;;AAEA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,6CAA4C,KAAK;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;;AAEJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAc,UAAU;AACxB;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA,6CAA4C,MAAM;AAClD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAM;;AAEN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,KAAI;AACJ;AACA;;AAEA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,OAAM;AACN;;AAEA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAI;AACJ;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAI;AACJ;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;;AAEA;AACA,gBAAe;AACf,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,0BAAyB,YAAY;;AAErC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA,iBAAgB;;AAEhB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;;AAEH;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB;;AAErB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA,sBAAqB;;AAErB;AACA;;AAEA,KAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA2C,YAAY;AACvD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+CAA8C,SAAS;AACvD;;AAEA;;AAEA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;;AAEA;;AAEA;;AAEA,8CAA6C,kCAAkC;AAC/E,GAAE;;AAEF,EAAC;;;;;;;ACj+DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAkB,sBAAsB;AACxC,uDAAsD,6BAA6B,qDAAqD;AACxI;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM;;AAEN;;AAEA;;AAEA,MAAK;AACL;AACA;AACA,KAAI;;AAEJ;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;ACpKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yOAAwO,iBAAiB;AACzP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB,gBAAe,SAAS,kDAAkD;AAC1E,gBAAe,SAAS,sEAAsE;AAC9F,gBAAe,SAAS,wEAAwE;AAChG,gBAAe,SAAS,kEAAkE;AAC1F,gBAAe,SAAS,sEAAsE;AAC9F,gBAAe,SAAS,2EAA2E;AACnG,gBAAe,SAAS,8DAA8D;AACtF,gBAAe,SAAS,gEAAgE;AACxF,gBAAe,SAAS,yEAAyE;AACjG,gBAAe,SAAS;AACxB,gBAAe,SAAS,wJAAwJ;AAChL,gBAAe,SAAS,2JAA2J;AACnL,iHAAgH;AAChH,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,gBAAe,iBAAiB,qHAAqH,4BAA4B;AACjL;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,qGAAoG,EAAE;AACtG;AACA;AACA,cAAa,QAAQ;AACrB,cAAa,OAAO,2DAA2D;AAC/E;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,4DAA2D;AAC3D,iEAAgE;AAChE,gDAA+C,yBAAyB,GAAG;AAC3E,sCAAqC,yBAAyB,GAAG;AACjE,+CAA8C;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;;AAEA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO,uDAAuD;AAC7E;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO,uDAAuD;AAC7E,gBAAe,OAAO,gEAAgE;AACtF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO,4CAA4C;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA,sBAAqB,QAAQ;;AAE7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,gBAAe,IAAI;AACnB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,+BAA8B,+BAA+B,KAAK;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B,iDAAgD;;AA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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ae9fb007a162c483824c","window.jQuery ?= $\r\n\r\nwindow.App =\r\n\tdoComponents: (components, method, payload) ->\r\n\t\tfor component in components\r\n\t\t\tcomponent[method]?(\r\n\t\t\t\t$target: payload.$target\r\n\t\t\t\toptions: @options\r\n\t\t\t)\r\n\r\n\t\treturn this\r\n\r\n\trun: (options) ->\r\n\t\t# set options\r\n\t\t@options = options\r\n\r\n\t\t# for one usage or delegated events\r\n\t\t@globalComponents = [\r\n\t\t\trequire('./components/tr-clickable')\r\n\t\t\trequire('./components/share')\r\n\t\t\trequire('./components/links')\r\n\t\t\trequire('./components/deaf')\r\n\t\t\trequire('./components/menuSide')\r\n\t\t\trequire('./components/accordion')\r\n\t\t\trequire('./components/btnDropdown')\r\n\t\t\trequire('./components/eventActions')\r\n\t\t\trequire('./components/header')\r\n\t\t\trequire('./components/headerMenu')\r\n\t\t\trequire('./components/tabs')\r\n\t\t\trequire('./components/secondarySubmenu')\r\n\t\t]\r\n\r\n\t\t# components\r\n\t\t@components = [\r\n\t\t\trequire('./components/matchHeight')\r\n\t\t\trequire('./components/selectize')\r\n\t\t\trequire('./components/cycle')\r\n\t\t\trequire('./components/tooltip')\r\n\t\t\trequire('./components/scrollNav')\r\n\t\t\trequire('./components/scrollbar')\r\n\t\t\trequire('./components/lightbox')\r\n\t\t\t# require('./components/map')\r\n\r\n\t\t]\r\n\r\n\t\t# init na dokument\r\n\t\t@doComponents(@globalComponents, 'init',\r\n\t\t\t$target: $(document)\r\n\t\t)\r\n\t\t@doComponents(@components, 'init',\r\n\t\t\t$target: $(document)\r\n\t\t)\r\n\r\n\t\t$(document)\r\n\t\t\t.on('ajax-init', (event) =>\r\n\t\t\t\t@doComponents(@components, 'init',\r\n\t\t\t\t\t$target: $(event.target)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\r\n\t\treturn\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app.coffee","$ = require('jquery')\r\n\r\nmodule.exports =\r\n\tinit: ->\r\n\t\t$(document)\r\n\t\t\t.on('click', '.tr-clickable', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\twindow.location = $(this).find('a').first().attr('href')\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/tr-clickable.coffee","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 2\n// module chunks = 0","$ = require('jquery')\r\n\r\nmodule.exports =\r\n\tinit: ->\r\n\t\t$(document)\r\n\t\t\t.on('click', '.share__btn', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$(this).closest('.share').toggleClass('is-open')\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/share.coffee","$ = require('jquery')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t$(document)\r\n\t\t\t# link slide\r\n\t\t\t.on('click', '.link-slide', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$this = $(@)\r\n\t\t\t\tid = $this.attr('href')\r\n\t\t\t\t$element = $(id)\r\n\r\n\t\t\t\tif $element.hasClass('box-accordion__box')\r\n\t\t\t\t\tif !$element.closest('.box-accordion__item').hasClass('is-open')\r\n\t\t\t\t\t\t$('.box-accordion__title__link[href=' + id + ']').trigger('click')\r\n\r\n\t\t\t\telse if $element.hasClass('box-tabs__fragment')\r\n\t\t\t\t\tif !$element.hasClass('is-active')\r\n\t\t\t\t\t\t$('.box-tabs .js-tab-links[href=' + id + ']').trigger('click')\r\n\r\n\t\t\t\t$('body, html').animate(\r\n\t\t\t\t\tscrollTop: $element.offset().top\r\n\t\t\t\t500)\r\n\r\n\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/links.coffee","$ = require('jquery')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t$(document)\r\n\t\t\t# deaf\r\n\t\t\t.on('click', '.box-deaf__toggle', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\t$(@).parents('.box-deaf').toggleClass('is-open')\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/deaf.coffee","$ = require('jquery')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t$(document)\r\n\t\t\t# side menu\r\n\t\t\t.on('click', '.menu-side__toggle', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$(this).closest('.menu-side__item').toggleClass('is-open')\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/menuSide.coffee","$ = require('jquery')\r\n\r\nexports.init = (options) ->\r\n\trealclick = true\r\n\r\n\t$(document)\r\n\t\t# box accordion\r\n\t\t.on('click', '.box-accordion__title__link', (e) ->\r\n\t\t\te.preventDefault()\r\n\r\n\t\t\t$this = $(@)\r\n\t\t\t$closest = $this.closest('.box-accordion')\r\n\t\t\t$item = $this.closest('.box-accordion__item')\r\n\t\t\t$itemBox = $item.find('.box-accordion__box')\r\n\t\t\t$itemOther = $item.siblings('.box-accordion__item')\r\n\t\t\tid = '#' + $itemBox.attr('id')\r\n\r\n\t\t\tif $item.hasClass('is-open') and realclick\r\n\t\t\t\t# history\r\n\t\t\t\tif $closest.hasClass('with-history') and realclick\r\n\t\t\t\t\thistory.pushState(null, null, window.location.pathname)\r\n\r\n\t\t\t\t$itemBox.slideUp(->\r\n\t\t\t\t\t$item.removeClass('is-open')\r\n\t\t\t\t)\r\n\t\t\telse\r\n\t\t\t\t$itemOther.find('.box-accordion__box').slideUp(->\r\n\t\t\t\t\t$itemOther.removeClass('is-open')\r\n\t\t\t\t)\r\n\r\n\t\t\t\t$itemBox.slideDown(->\r\n\t\t\t\t\t$item.addClass('is-open')\r\n\r\n\t\t\t\t\tif $item.offset().top < $(window).scrollTop()\r\n\t\t\t\t\t\t$('body, html').animate(\r\n\t\t\t\t\t\t\tscrollTop: $item.offset().top\r\n\t\t\t\t\t\t250)\r\n\r\n\t\t\t\t\t# history\r\n\t\t\t\t\tif $closest.hasClass('with-history') and realclick\r\n\t\t\t\t\t\thistory.pushState(null, null, id);\r\n\t\t\t\t)\r\n\t\t)\r\n\r\n\r\n\t# # hash change\r\n\t$(window).on('hashchange', ->\r\n\t\tid = ''\r\n\t\trealclick = false\r\n\r\n\t\tif location.hash != ''\r\n\t\t\t$('.box-accordion.with-history .box-accordion__title__link[href=' + location.hash + ']').click()\r\n\t\t# else\r\n\t\t# \t$('.box-accordion__box').slideUp(->\r\n\t\t# \t\t$('.box-accordion__item').removeClass('is-open')\r\n\t\t# \t)\r\n\r\n\t\trealclick = true\r\n\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/accordion.coffee","$ = require('jquery')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t$(document)\r\n\t\t\t# btn group\r\n\t\t\t.on('click', '.btn-dropdown .btn', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$(this).closest('.btn-dropdown').toggleClass('is-open')\r\n\t\t\t\t$(this).blur()\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/btnDropdown.coffee","$ = require('jquery')\r\n\r\nmodule.exports =\r\n\tinit: ->\r\n\t\t$(document)\r\n\t\t\t# footer menu\r\n\t\t\t.on('click', '.footer__menu__title__toggle', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$(this).closest('.footer__menu__toggle').toggleClass('is-open')\r\n\t\t\t)\r\n\t\t\t# toggle jsHide\r\n\t\t\t.on('click', '.js-toggle-jsHide', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\t$($(@).attr('href')).toggleClass('jsHide')\r\n\t\t\t)\r\n\t\t\t.on('click', '.box-code__title__close', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\t$(@).closest('.box-code').addClass('jsHide')\r\n\t\t\t)\r\n\t\t\t# tooltip\r\n\t\t\t.on('click', '.tooltip', (event) ->\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/eventActions.coffee","$ = require('jquery')\r\nrequire('../lib/headroom')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\tisTouch = $('html').hasClass('touch')\r\n\r\n\t\t# sticky\r\n\t\t$header = $('.header-fixed-wrap');\r\n\t\t$document = $(document)\r\n\r\n\t\tif $header.length\r\n\t\t\t$(window).on('scroll', ->\r\n\t\t\t\tif $document.scrollTop() > 60\r\n\t\t\t\t\t$header.addClass('is-fixed')\r\n\t\t\t\telse\r\n\t\t\t\t\t$header.removeClass('is-fixed')\r\n\t\t\t)\r\n\r\n\t\t\theader = document.querySelector('.header')\r\n\t\t\theadroom = new Headroom document.querySelector('.header'),\r\n\t\t\t\ttolerance: 10\r\n\t\t\t\toffset: 200\r\n\r\n\t\t\theadroom.init()\r\n\r\n\t\t# toggles\r\n\t\t$(document)\r\n\t\t\t# responzive search\r\n\t\t\t.on('click', '.header__search__label', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$(this).closest('.header__search').toggleClass('is-open')\r\n\t\t\t\t\t.find('.inp-text').focus()\r\n\t\t\t)\r\n\t\t\t# keyboard\r\n\t\t\t.on('focus', '.header__menu-main .header__menu__primary__link, .header__menu-main .header__menu__secondary__link', (e) ->\r\n\t\t\t\tunless isTouch\r\n\t\t\t\t\t$this = $(@)\r\n\t\t\t\t\t$closest = $this.closest('.header__menu__primary__item')\r\n\r\n\t\t\t\t\t$('.header__menu__primary__item').not( $closest ).removeClass('is-hover')\r\n\t\t\t\t\t$closest.addClass('is-hover')\r\n\t\t\t\t\t$(this).closest('.header__menu').removeClass('is-open')\r\n\t\t\t)\r\n\t\t\t.on('focusout', '.header__menu-main .header__menu__primary__link, .header__menu-main .header__menu__subbox a, .header__menu-main .header__menu__submenu__link', (e) ->\r\n\t\t\t\tunless isTouch\r\n\t\t\t\t\tunless $( e.relatedTarget ).closest('.header__menu-main').length\r\n\t\t\t\t\t\t$this = $(@)\r\n\t\t\t\t\t\t$closest = $this.closest('.header__menu__primary__item')\r\n\r\n\t\t\t\t\t\t$closest.removeClass('is-hover')\r\n\r\n\t\t\t)\r\n\t\t\t# touch double click\r\n\t\t\t.on('click', '.header__menu-main .header__menu__primary__item .header__menu__primary__link', (e) ->\r\n\t\t\t\tif isTouch\r\n\t\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t\t$this = $(@)\r\n\t\t\t\t\t$closest = $this.closest('.header__menu__primary__item')\r\n\r\n\t\t\t\t\t$('.header__menu__primary__item').not( $closest ).removeClass('is-hover')\r\n\r\n\t\t\t\t\tif $closest.hasClass('is-hover')\r\n\t\t\t\t\t\twindow.location = $this.attr('href')\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t$closest.addClass('is-hover')\r\n\t\t\t)\r\n\t\t\t# responzive menu\r\n\t\t\t.on('click', '.header__menu__title', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$(this).closest('.header__menu').toggleClass('is-open')\r\n\t\t\t\t$('.header__menu__primary__item').removeClass('is-hover')\r\n\t\t\t)\r\n\t\t\t.on('click touchstart', (e) ->\r\n\t\t\t\tunless $(e.target).closest('.header__menu-toggle, .header__menu__title').length\r\n\t\t\t\t\t$('.header__menu').removeClass('is-open')\r\n\t\t\t\tif isTouch && not $(e.target).closest('.header__menu-main').length\r\n\t\t\t\t\t$('.header__menu__primary__item').removeClass('is-hover')\r\n\t\t\t)\r\n\t\t\t# submenu & subbox open\r\n\t\t\t.on('click', '.header__menu__primary__toggle', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$closest = $(this).closest('.header__menu__primary__item')\r\n\t\t\t\t$closest.toggleClass('is-open')\r\n\r\n\t\t\t\tif $closest.hasClass('with-subbox') # only subbox\r\n\t\t\t\t\t$(this).closest('.header__menu-toggle')\r\n\t\t\t\t\t\t.css('min-height', $closest.find('.header__menu__subbox').outerHeight() )\r\n\t\t\t)\r\n\t\t\t# subbox close\r\n\t\t\t.on('click', '.header__menu__subbox__close', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$(this).closest('.header__menu__primary__item').removeClass('is-open')\r\n\t\t\t\t$(this).closest('.header__menu-toggle').css('min-height', 0)\r\n\t\t\t)\r\n\t\t\t# subbox items\r\n\t\t\t.on('click', '.header__menu__subbox__title__toggle', (e) ->\r\n\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t$this = $(this)\r\n\r\n\t\t\t\t$this.closest('.header__menu__subbox__toggle').toggleClass('is-open')\r\n\r\n\t\t\t\t$this.closest('.header__menu-toggle')\r\n\t\t\t\t\t.css('min-height', 0)\r\n\t\t\t\t\t.css('min-height', $this.closest('.header__menu__subbox').outerHeight() )\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/header.coffee","/*!\r\n * headroom.js v0.7.0 - Give your page some headroom. Hide your header until you need it\r\n * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/headroom.js\r\n * License: MIT\r\n */\r\n\r\n(function(window, document) {\r\n\r\n  'use strict';\r\n\r\n  /* exported features */\r\n\r\n  var features = {\r\n    bind : !!(function(){}.bind),\r\n    classList : 'classList' in document.documentElement,\r\n    rAF : !!(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame)\r\n  };\r\n  window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\r\n\r\n  /**\r\n   * Handles debouncing of events via requestAnimationFrame\r\n   * @see http://www.html5rocks.com/en/tutorials/speed/animations/\r\n   * @param {Function} callback The callback to handle whichever event\r\n   */\r\n  function Debouncer (callback) {\r\n    this.callback = callback;\r\n    this.ticking = false;\r\n  }\r\n  Debouncer.prototype = {\r\n    constructor : Debouncer,\r\n\r\n    /**\r\n     * dispatches the event to the supplied callback\r\n     * @private\r\n     */\r\n    update : function() {\r\n      this.callback && this.callback();\r\n      this.ticking = false;\r\n    },\r\n\r\n    /**\r\n     * ensures events don't get stacked\r\n     * @private\r\n     */\r\n    requestTick : function() {\r\n      if(!this.ticking) {\r\n        requestAnimationFrame(this.rafCallback || (this.rafCallback = this.update.bind(this)));\r\n        this.ticking = true;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Attach this as the event listeners\r\n     */\r\n    handleEvent : function() {\r\n      this.requestTick();\r\n    }\r\n  };\r\n  /**\r\n   * Check if object is part of the DOM\r\n   * @constructor\r\n   * @param {Object} obj element to check\r\n   */\r\n  function isDOMElement(obj) {\r\n    return obj && typeof window !== 'undefined' && (obj === window || obj.nodeType);\r\n  }\r\n\r\n  /**\r\n   * Helper function for extending objects\r\n   */\r\n  function extend (object /*, objectN ... */) {\r\n    if(arguments.length <= 0) {\r\n      throw new Error('Missing arguments in extend function');\r\n    }\r\n\r\n    var result = object || {},\r\n        key,\r\n        i;\r\n\r\n    for (i = 1; i < arguments.length; i++) {\r\n      var replacement = arguments[i] || {};\r\n\r\n      for (key in replacement) {\r\n        // Recurse into object except if the object is a DOM element\r\n        if(typeof result[key] === 'object' && ! isDOMElement(result[key])) {\r\n          result[key] = extend(result[key], replacement[key]);\r\n        }\r\n        else {\r\n          result[key] = result[key] || replacement[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Helper function for normalizing tolerance option to object format\r\n   */\r\n  function normalizeTolerance (t) {\r\n    return t === Object(t) ? t : { down : t, up : t };\r\n  }\r\n\r\n  /**\r\n   * UI enhancement for fixed headers.\r\n   * Hides header when scrolling down\r\n   * Shows header when scrolling up\r\n   * @constructor\r\n   * @param {DOMElement} elem the header element\r\n   * @param {Object} options options for the widget\r\n   */\r\n  function Headroom (elem, options) {\r\n    options = extend(options, Headroom.options);\r\n\r\n    this.lastKnownScrollY = 0;\r\n    this.elem             = elem;\r\n    this.debouncer        = new Debouncer(this.update.bind(this));\r\n    this.tolerance        = normalizeTolerance(options.tolerance);\r\n    this.classes          = options.classes;\r\n    this.offset           = options.offset;\r\n    this.scroller         = options.scroller;\r\n    this.initialised      = false;\r\n    this.onPin            = options.onPin;\r\n    this.onUnpin          = options.onUnpin;\r\n    this.onTop            = options.onTop;\r\n    this.onNotTop         = options.onNotTop;\r\n  }\r\n  Headroom.prototype = {\r\n    constructor : Headroom,\r\n\r\n    /**\r\n     * Initialises the widget\r\n     */\r\n    init : function() {\r\n      if(!Headroom.cutsTheMustard) {\r\n        return;\r\n      }\r\n\r\n      this.elem.classList.add(this.classes.initial);\r\n\r\n      // defer event registration to handle browser\r\n      // potentially restoring previous scroll position\r\n      setTimeout(this.attachEvent.bind(this), 100);\r\n\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Unattaches events and removes any classes that were added\r\n     */\r\n    destroy : function() {\r\n      var classes = this.classes;\r\n\r\n      this.initialised = false;\r\n      this.elem.classList.remove(classes.unpinned, classes.pinned, classes.top, classes.initial);\r\n      this.scroller.removeEventListener('scroll', this.debouncer, false);\r\n    },\r\n\r\n    /**\r\n     * Attaches the scroll event\r\n     * @private\r\n     */\r\n    attachEvent : function() {\r\n      if(!this.initialised){\r\n        this.lastKnownScrollY = this.getScrollY();\r\n        this.initialised = true;\r\n        this.scroller.addEventListener('scroll', this.debouncer, false);\r\n\r\n        this.debouncer.handleEvent();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Unpins the header if it's currently pinned\r\n     */\r\n    unpin : function() {\r\n      var classList = this.elem.classList,\r\n        classes = this.classes;\r\n\r\n      if(classList.contains(classes.pinned) || !classList.contains(classes.unpinned)) {\r\n        classList.add(classes.unpinned);\r\n        classList.remove(classes.pinned);\r\n        this.onUnpin && this.onUnpin.call(this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Pins the header if it's currently unpinned\r\n     */\r\n    pin : function() {\r\n      var classList = this.elem.classList,\r\n        classes = this.classes;\r\n\r\n      if(classList.contains(classes.unpinned)) {\r\n        classList.remove(classes.unpinned);\r\n        classList.add(classes.pinned);\r\n        this.onPin && this.onPin.call(this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Handles the top states\r\n     */\r\n    top : function() {\r\n      var classList = this.elem.classList,\r\n        classes = this.classes;\r\n\r\n      if(!classList.contains(classes.top)) {\r\n        classList.add(classes.top);\r\n        classList.remove(classes.notTop);\r\n        this.onTop && this.onTop.call(this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Handles the not top state\r\n     */\r\n    notTop : function() {\r\n      var classList = this.elem.classList,\r\n        classes = this.classes;\r\n\r\n      if(!classList.contains(classes.notTop)) {\r\n        classList.add(classes.notTop);\r\n        classList.remove(classes.top);\r\n        this.onNotTop && this.onNotTop.call(this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Gets the Y scroll position\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window.scrollY\r\n     * @return {Number} pixels the page has scrolled along the Y-axis\r\n     */\r\n    getScrollY : function() {\r\n      return (this.scroller.pageYOffset !== undefined)\r\n        ? this.scroller.pageYOffset\r\n        : (this.scroller.scrollTop !== undefined)\r\n          ? this.scroller.scrollTop\r\n          : (document.documentElement || document.body.parentNode || document.body).scrollTop;\r\n    },\r\n\r\n    /**\r\n     * Gets the height of the viewport\r\n     * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript\r\n     * @return {int} the height of the viewport in pixels\r\n     */\r\n    getViewportHeight : function () {\r\n      return window.innerHeight\r\n        || document.documentElement.clientHeight\r\n        || document.body.clientHeight;\r\n    },\r\n\r\n    /**\r\n     * Gets the height of the document\r\n     * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/\r\n     * @return {int} the height of the document in pixels\r\n     */\r\n    getDocumentHeight : function () {\r\n      var body = document.body,\r\n        documentElement = document.documentElement;\r\n\r\n      return Math.max(\r\n        body.scrollHeight, documentElement.scrollHeight,\r\n        body.offsetHeight, documentElement.offsetHeight,\r\n        body.clientHeight, documentElement.clientHeight\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Gets the height of the DOM element\r\n     * @param  {Object}  elm the element to calculate the height of which\r\n     * @return {int}     the height of the element in pixels\r\n     */\r\n    getElementHeight : function (elm) {\r\n      return Math.max(\r\n        elm.scrollHeight,\r\n        elm.offsetHeight,\r\n        elm.clientHeight\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Gets the height of the scroller element\r\n     * @return {int} the height of the scroller element in pixels\r\n     */\r\n    getScrollerHeight : function () {\r\n      return (this.scroller === window || this.scroller === document.body)\r\n        ? this.getDocumentHeight()\r\n        : this.getElementHeight(this.scroller);\r\n    },\r\n\r\n    /**\r\n     * determines if the scroll position is outside of document boundaries\r\n     * @param  {int}  currentScrollY the current y scroll position\r\n     * @return {bool} true if out of bounds, false otherwise\r\n     */\r\n    isOutOfBounds : function (currentScrollY) {\r\n      var pastTop  = currentScrollY < 0,\r\n        pastBottom = currentScrollY + this.getViewportHeight() > this.getScrollerHeight();\r\n\r\n      return pastTop || pastBottom;\r\n    },\r\n\r\n    /**\r\n     * determines if the tolerance has been exceeded\r\n     * @param  {int} currentScrollY the current scroll y position\r\n     * @return {bool} true if tolerance exceeded, false otherwise\r\n     */\r\n    toleranceExceeded : function (currentScrollY, direction) {\r\n      return Math.abs(currentScrollY-this.lastKnownScrollY) >= this.tolerance[direction];\r\n    },\r\n\r\n    /**\r\n     * determine if it is appropriate to unpin\r\n     * @param  {int} currentScrollY the current y scroll position\r\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\r\n     * @return {bool} true if should unpin, false otherwise\r\n     */\r\n    shouldUnpin : function (currentScrollY, toleranceExceeded) {\r\n      var scrollingDown = currentScrollY > this.lastKnownScrollY,\r\n        pastOffset = currentScrollY >= this.offset;\r\n\r\n      return scrollingDown && pastOffset && toleranceExceeded;\r\n    },\r\n\r\n    /**\r\n     * determine if it is appropriate to pin\r\n     * @param  {int} currentScrollY the current y scroll position\r\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\r\n     * @return {bool} true if should pin, false otherwise\r\n     */\r\n    shouldPin : function (currentScrollY, toleranceExceeded) {\r\n      var scrollingUp  = currentScrollY < this.lastKnownScrollY,\r\n        pastOffset = currentScrollY <= this.offset;\r\n\r\n      return (scrollingUp && toleranceExceeded) || pastOffset;\r\n    },\r\n\r\n    /**\r\n     * Handles updating the state of the widget\r\n     */\r\n    update : function() {\r\n      var currentScrollY  = this.getScrollY(),\r\n        scrollDirection = currentScrollY > this.lastKnownScrollY ? 'down' : 'up',\r\n        toleranceExceeded = this.toleranceExceeded(currentScrollY, scrollDirection);\r\n\r\n      if(this.isOutOfBounds(currentScrollY)) { // Ignore bouncy scrolling in OSX\r\n        return;\r\n      }\r\n\r\n      if (currentScrollY <= this.offset ) {\r\n        this.top();\r\n      } else {\r\n        this.notTop();\r\n      }\r\n\r\n      if(this.shouldUnpin(currentScrollY, toleranceExceeded)) {\r\n        this.unpin();\r\n      }\r\n      else if(this.shouldPin(currentScrollY, toleranceExceeded)) {\r\n        this.pin();\r\n      }\r\n\r\n      this.lastKnownScrollY = currentScrollY;\r\n    }\r\n  };\r\n  /**\r\n   * Default options\r\n   * @type {Object}\r\n   */\r\n  Headroom.options = {\r\n    tolerance : {\r\n      up : 0,\r\n      down : 0\r\n    },\r\n    offset : 0,\r\n    scroller: window,\r\n    classes : {\r\n      pinned : 'headroom--pinned',\r\n      unpinned : 'headroom--unpinned',\r\n      top : 'headroom--top',\r\n      notTop : 'headroom--not-top',\r\n      initial : 'headroom'\r\n    }\r\n  };\r\n  Headroom.cutsTheMustard = typeof features !== 'undefined' && features.rAF && features.bind && features.classList;\r\n\r\n  window.Headroom = Headroom;\r\n\r\n}(window, document));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/lib/headroom.js\n// module id = 11\n// module chunks = 0","$ = require('jquery')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\r\n\t\tisTouch = $('html').hasClass('touch')\r\n\t\t$window = $(window)\r\n\t\t$document = $(document)\r\n\r\n\t\t$('.header__menu').each(->\r\n\t\t\t$holder = $(this)\r\n\t\t\t$title = $holder.find('> .header__menu__title')\r\n\t\t\t$main = $holder.find('> .header__menu-main')\r\n\t\t\t$toggle = $holder.find('> .header__menu-toggle')\r\n\r\n\t\t\t# mobile menu\r\n\t\t\t$toggle.html($main.html())\r\n\r\n\t\t\t$items = $main.find('> ul > li')\r\n\t\t\t$mobileItems = $toggle.find('> ul > li')\r\n\t\t\ttitleWidth = 100\r\n\t\t\titemsWidths = null\r\n\t\t\titemsWidthsSums = null\r\n\r\n\t\t\tprepare = ->\r\n\t\t\t\titemsWidths = $items.map(() -> return $(this).outerWidth(true)).get()\r\n\t\t\t\titemsWidthsSums = itemsWidths.reduce((acc, cur, index, arr) ->\r\n\t\t\t\t\tsum = if index > 0 then acc[index - 1] else 0\r\n\t\t\t\t\tacc.push(sum + cur)\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t, [])\r\n\r\n\t\t\t\treturn\r\n\r\n\t\t\tgetIndexGreaterThen = (val, arr) ->\r\n\t\t\t\treturn arr.filter((cur) ->\r\n\t\t\t\t\treturn (cur < val)\r\n\t\t\t\t).length\r\n\r\n\t\t\tcalc = ->\r\n\t\t\t\tif $(window).width() < 700\r\n\t\t\t\t\tindex = 0\r\n\t\t\t\t\tisToggleMenu = true\r\n\t\t\t\telse\r\n\t\t\t\t\tcurrentWidth = $main.outerWidth()\r\n\t\t\t\t\tindex = getIndexGreaterThen(currentWidth, itemsWidthsSums)\r\n\t\t\t\t\tisToggleMenu = (index < $items.length)\r\n\r\n\t\t\t\t\tif isToggleMenu\r\n\t\t\t\t\t\tindex = getIndexGreaterThen(currentWidth - titleWidth, itemsWidthsSums)\r\n\r\n\t\t\t\t$holder.toggleClass('has-toggle', isToggleMenu)\r\n\t\t\t\tunless isToggleMenu\r\n\t\t\t\t\t$holder.removeClass('is-open')\r\n\r\n\t\t\t\t$items.slice(0, index).css('display', '')\r\n\t\t\t\t$items.slice(index).css('display', 'none')\r\n\r\n\t\t\t\t$mobileItems.slice(0, index).css('display', 'none')\r\n\t\t\t\t$mobileItems.slice(index).css('display', '')\r\n\r\n\t\t\tprepare()\r\n\t\t\tcalc()\r\n\r\n\t\t\t$window\r\n\t\t\t\t.on('load', ->\r\n\t\t\t\t\tprepare()\r\n\t\t\t\t\tcalc()\r\n\t\t\t\t)\r\n\t\t\t\t.on('resize', ->\r\n\t\t\t\t\tcalc()\r\n\t\t\t\t)\r\n\r\n\t\t\t$holder.css('visibility', 'visible')\r\n\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/headerMenu.coffee","$ = require('jquery')\r\n\r\nexports.init = (options) ->\r\n\trealclick = true\r\n\r\n\t$(document)\r\n\t\t.on('click', '.js-tab-links', (event) ->\r\n\t\t\tevent.preventDefault()\r\n\r\n\t\t\t# variables\r\n\t\t\t$link = $(this)\r\n\t\t\treturn if $link.is('.is-active') or $link.is('.is-disabled')\r\n\r\n\t\t\tid = $link.attr('href')\r\n\r\n\t\t\t$tab = $(id)\r\n\t\t\t$tabsWrap = $tab.closest('.box-tabs')\r\n\t\t\t$otherLinks = $tabsWrap.find('.js-tab-links')\r\n\t\t\t$tabsOther = $tab.siblings('.box-tabs__fragment')\r\n\r\n\t\t\t# classes\r\n\t\t\t$tab.addClass('is-active')\r\n\t\t\t$tabsOther.removeClass('is-active')\r\n\r\n\t\t\t$otherLinks.removeClass('is-active')\r\n\t\t\t$link.addClass('is-active')\r\n\r\n\t\t\t# history\r\n\t\t\tif $tabsWrap.hasClass('with-history') and realclick\r\n\t\t\t\thistory.pushState(null, null, id);\r\n\r\n\t\t\t# ajax\r\n\t\t\tif $link.hasClass('is-ajax') and not $link.data('ajaxed')\r\n\t\t\t\t$.ajax(\r\n\t\t\t\t\turl: $link.data('ajax')\r\n\t\t\t\t)\r\n\t\t\t\t.done( (response) ->\r\n\t\t\t\t\t$tab.find('.box-tabs__content').html(response)\r\n\t\t\t\t\t$link.data('ajaxed', true)\r\n\t\t\t\t)\r\n\t\t)\r\n\t\t.on('click', '.box-tabs__responsive-link', (event) ->\r\n\t\t\tevent.preventDefault()\r\n\r\n\t\t\t# variables\r\n\t\t\t$this = $(@)\r\n\t\t\t$tabsWrap = $this.closest('.box-tabs')\r\n\t\t\t$tab = $this.closest('.box-tabs__fragment')\r\n\t\t\t$links = $tabsWrap.find('.js-tab-links')\r\n\t\t\t$target = $links.filter('[href=\"#' + $tab.attr('id') + '\"]')\r\n\r\n\t\t\tif $target.hasClass('is-active')\r\n\t\t\t\t$target.add($tab).removeClass('is-active')\r\n\t\t\telse\r\n\t\t\t\t$target.trigger('click')\r\n\t\t\t\tif $tab.offset().top < $(window).scrollTop()\r\n\t\t\t\t\t$('body, html').animate(\r\n\t\t\t\t\t\tscrollTop: $tab.offset().top\r\n\t\t\t\t\t250)\r\n\t\t)\r\n\r\n\t# hash change\r\n\t$(window).on('hashchange', ->\r\n\t\tid = ''\r\n\t\trealclick = false\r\n\r\n\t\tif location.hash != ''\r\n\t\t\t$('.box-tabs .js-tab-links[href=' + location.hash + ']').click();\r\n\t\telse\r\n\t\t\t$('.box-tabs .box-tabs__menu__item:first-child .js-tab-links').click()\r\n\r\n\t\trealclick = true\r\n\t).trigger('hashchange')\r\n\r\n\t$('.box-tabs').each(->\r\n\t\tif $(@).hasClass('mobile-hide') &&$(window).width() < 700\r\n\t\t\t$(@).find('.is-active').removeClass('is-active')\r\n\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/tabs.coffee","$ = require('jquery')\r\n\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\tisTouch = $('html').hasClass('touch')\r\n\r\n\t\tif $target.find('.menu-secondary__link').length\r\n\t\t\tif isTouch\r\n\t\t\t\t$(document)\r\n\t\t\t\t\t.on('touchend', (e) ->\r\n\t\t\t\t\t\tif not $(e.target).closest('.menu-secondary__submenu').length\r\n\t\t\t\t\t\t\t$('.menu-secondary__submenu.is-open').removeClass('is-open')\r\n\t\t\t\t\t\t\t$('.menu-secondary__link.is-hover').removeClass('is-hover')\r\n\t\t\t\t\t\t\t$('.menu-secondary__wrap').next('.menu-secondary__submenu').remove()\r\n\r\n\t\t\t\t\t\tif $(e.target).closest('.menu-secondary__link').length\r\n\t\t\t\t\t\t\t$link = $(e.target).closest('.menu-secondary__link')\r\n\r\n\t\t\t\t\t\t\tif $link.next('.menu-secondary__submenu').length\r\n\t\t\t\t\t\t\t\t$link.addClass('is-hover')\r\n\r\n\t\t\t\t\t\t\t\t$('.menu-secondary__link').not($link).removeClass('is-prevented')\r\n\r\n\t\t\t\t\t\t\t\tif $link.hasClass('is-prevented')\r\n\t\t\t\t\t\t\t\t\t$link.removeClass('is-prevented')\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t$link.addClass('is-prevented')\r\n\t\t\t\t\t\t\t\t\t$submenu = $link.next('.menu-secondary__submenu')\r\n\t\t\t\t\t\t\t\t\t$submenu.parents('.menu-secondary__wrap').after($submenu.clone().addClass('is-open'))\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t$('.menu-secondary__link.is-prevented').removeClass('is-prevented')\r\n\t\t\t\t\t)\r\n\t\t\telse\r\n\t\t\t\t$(document)\r\n\t\t\t\t\t.on('mouseover', (e) ->\r\n\t\t\t\t\t\t$('.menu-secondary__submenu.is-open').removeClass('is-open')\r\n\t\t\t\t\t\t$('.menu-secondary__link.is-hover').removeClass('is-hover')\r\n\r\n\t\t\t\t\t\tif $(e.target).closest('.menu-secondary__link').length\r\n\t\t\t\t\t\t\t$target = $(e.target).closest('.menu-secondary__link').addClass('is-hover')\r\n\t\t\t\t\t\t\toffset = $target.position().left\r\n\r\n\t\t\t\t\t\t\t$target.next('.menu-secondary__submenu').addClass('is-open').css('left', offset)\r\n\t\t\t\t\t\telse if $(e.target).closest('.menu-secondary__submenu').length\r\n\t\t\t\t\t\t\t$submenu = $(e.target).closest('.menu-secondary__submenu')\r\n\t\t\t\t\t\t\t$link = $submenu.prev('.menu-secondary__link')\r\n\r\n\t\t\t\t\t\t\t$submenu.addClass('is-open')\r\n\t\t\t\t\t\t\t$link.addClass('is-hover')\r\n\t\t\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/secondarySubmenu.coffee","$ = require('jquery')\r\n\r\nrequire('matchHeight')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\toption =\r\n\t\t\tbyRow: true\r\n\t\t\tproperty: 'min-height'\r\n\t\t\ttarget: null\r\n\t\t\tremove: false\r\n\r\n\t\t$target.find('.box-grid__inner').matchHeight(option)\r\n\r\n\t\t$target.find('.box-product__content').matchHeight(option)\r\n\t\t$target.find('.box-article-grid__content').matchHeight(option)\r\n\r\n\t\t$target.find('.box-event').not('.box-event--side').find('.box-event__content').matchHeight(option)\r\n\r\n\t\t$target.find('.crossroad-std').each(->\r\n\t\t\t$(this).find('.box-category, .box-article-grid:not(.grid__cell .grid__cell>.box-article-grid)').matchHeight()\r\n\t\t)\r\n\r\n\t\t$target.find('.grid__cell .grid__cell>.box-article-grid').matchHeight()\r\n\r\n\t\t# homepage nested grid custom match height\r\n\t\t$.fn.matchHeight._beforeUpdate = (event, groups)->\r\n\t\t\t$gridTopLevel = $target.find('.js-equal-nested-grid>.grid')\r\n\t\t\t$gridTopLevel.find('.box-article-grid').height('auto')\r\n\r\n\t\t$.fn.matchHeight._afterUpdate = (event, groups)->\r\n\t\t\tif ($(window).width() < 700)\r\n\t\t\t\treturn\r\n\r\n\t\t\t$gridTopLevel = $target.find('.js-equal-nested-grid>.grid')\r\n\t\t\t$gridNextLevel = if $gridTopLevel.length then $gridTopLevel.find('.grid') else null\r\n\r\n\t\t\tif $gridNextLevel and $gridNextLevel.length\r\n\t\t\t\t$gridCell = $gridNextLevel.closest('.grid__cell')\r\n\t\t\t\t$articleCell = $gridCell.siblings()\r\n\t\t\t\t$gridTopLevel.find('.box-article-grid')\r\n\r\n\t\t\t\tif $articleCell.height() < $gridCell.height()\r\n\t\t\t\t\t$articleCell.find('.box-article-grid').height($gridCell.height())\r\n\t\t\t\telse if $articleCell.height() > $gridCell.height()\r\n\t\t\t\t\tdelta = $articleCell.height() - $gridCell.height()\r\n\t\t\t\t\t$articles = $gridCell.find('.box-article-grid')\r\n\t\t\t\t\trowsCount = Math.ceil($articles.length / Math.floor($gridCell.width() / $articles.width()))\r\n\t\t\t\t\tmodulo = delta % rowsCount\r\n\r\n\t\t\t\t\taddHeight = Math.floor(delta / rowsCount)\r\n\t\t\t\t\t$articles.each((i)->\r\n\t\t\t\t\t\tif modulo > 0 and i < modulo\r\n\t\t\t\t\t\t\t$(@).outerHeight($(@).outerHeight() + addHeight + 1)\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t$(@).outerHeight($(@).outerHeight() + addHeight)\r\n\t\t\t\t\t)\r\n\r\n\t\t\t$target.find('.crossroad-std').each(->\r\n\t\t\t\t$(this).find('.box-article-grid:not(.grid__cell .grid__cell>.box-article-grid)').each(->\r\n\t\t\t\t\t$box = $(@)\r\n\t\t\t\t\t$content = $box.find('.box-article-grid__content')\r\n\r\n\t\t\t\t\tif $box.is('.box-article-grid--noimg')\r\n\t\t\t\t\t\t$content.height('auto')\r\n\r\n\t\t\t\t\tif $box.is('.box-article-grid') and $box.is('.box-article-grid--noimg') and not $box.is('.box-article-grid--noborder') and $content.outerHeight() < $box.height()\r\n\t\t\t\t\t\t$content.outerHeight($box.height())\r\n\t\t\t\t)\r\n\t\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/matchHeight.coffee","/**\r\n* jquery-match-height 0.7.2 by @liabru\r\n* http://brm.io/jquery-match-height/\r\n* License: MIT\r\n*/\r\n\r\n;(function(factory) { // eslint-disable-line no-extra-semi\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD\r\n        define(['jquery'], factory);\r\n    } else if (typeof module !== 'undefined' && module.exports) {\r\n        // CommonJS\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        // Global\r\n        factory(jQuery);\r\n    }\r\n})(function($) {\r\n    /*\r\n    *  internal\r\n    */\r\n\r\n    var _previousResizeWidth = -1,\r\n        _updateTimeout = -1;\r\n\r\n    /*\r\n    *  _parse\r\n    *  value parse utility function\r\n    */\r\n\r\n    var _parse = function(value) {\r\n        // parse value and convert NaN to 0\r\n        return parseFloat(value) || 0;\r\n    };\r\n\r\n    /*\r\n    *  _rows\r\n    *  utility function returns array of jQuery selections representing each row\r\n    *  (as displayed after float wrapping applied by browser)\r\n    */\r\n\r\n    var _rows = function(elements) {\r\n        var tolerance = 1,\r\n            $elements = $(elements),\r\n            lastTop = null,\r\n            rows = [];\r\n\r\n        // group elements by their top position\r\n        $elements.each(function(){\r\n            var $that = $(this),\r\n                top = $that.offset().top - _parse($that.css('margin-top')),\r\n                lastRow = rows.length > 0 ? rows[rows.length - 1] : null;\r\n\r\n            if (lastRow === null) {\r\n                // first item on the row, so just push it\r\n                rows.push($that);\r\n            } else {\r\n                // if the row top is the same, add to the row group\r\n                if (Math.floor(Math.abs(lastTop - top)) <= tolerance) {\r\n                    rows[rows.length - 1] = lastRow.add($that);\r\n                } else {\r\n                    // otherwise start a new row group\r\n                    rows.push($that);\r\n                }\r\n            }\r\n\r\n            // keep track of the last row top\r\n            lastTop = top;\r\n        });\r\n\r\n        return rows;\r\n    };\r\n\r\n    /*\r\n    *  _parseOptions\r\n    *  handle plugin options\r\n    */\r\n\r\n    var _parseOptions = function(options) {\r\n        var opts = {\r\n            byRow: true,\r\n            property: 'height',\r\n            target: null,\r\n            remove: false\r\n        };\r\n\r\n        if (typeof options === 'object') {\r\n            return $.extend(opts, options);\r\n        }\r\n\r\n        if (typeof options === 'boolean') {\r\n            opts.byRow = options;\r\n        } else if (options === 'remove') {\r\n            opts.remove = true;\r\n        }\r\n\r\n        return opts;\r\n    };\r\n\r\n    /*\r\n    *  matchHeight\r\n    *  plugin definition\r\n    */\r\n\r\n    var matchHeight = $.fn.matchHeight = function(options) {\r\n        var opts = _parseOptions(options);\r\n\r\n        // handle remove\r\n        if (opts.remove) {\r\n            var that = this;\r\n\r\n            // remove fixed height from all selected elements\r\n            this.css(opts.property, '');\r\n\r\n            // remove selected elements from all groups\r\n            $.each(matchHeight._groups, function(key, group) {\r\n                group.elements = group.elements.not(that);\r\n            });\r\n\r\n            // TODO: cleanup empty groups\r\n\r\n            return this;\r\n        }\r\n\r\n        if (this.length <= 1 && !opts.target) {\r\n            return this;\r\n        }\r\n\r\n        // keep track of this group so we can re-apply later on load and resize events\r\n        matchHeight._groups.push({\r\n            elements: this,\r\n            options: opts\r\n        });\r\n\r\n        // match each element's height to the tallest element in the selection\r\n        matchHeight._apply(this, opts);\r\n\r\n        return this;\r\n    };\r\n\r\n    /*\r\n    *  plugin global options\r\n    */\r\n\r\n    matchHeight.version = '0.7.2';\r\n    matchHeight._groups = [];\r\n    matchHeight._throttle = 80;\r\n    matchHeight._maintainScroll = false;\r\n    matchHeight._beforeUpdate = null;\r\n    matchHeight._afterUpdate = null;\r\n    matchHeight._rows = _rows;\r\n    matchHeight._parse = _parse;\r\n    matchHeight._parseOptions = _parseOptions;\r\n\r\n    /*\r\n    *  matchHeight._apply\r\n    *  apply matchHeight to given elements\r\n    */\r\n\r\n    matchHeight._apply = function(elements, options) {\r\n        var opts = _parseOptions(options),\r\n            $elements = $(elements),\r\n            rows = [$elements];\r\n\r\n        // take note of scroll position\r\n        var scrollTop = $(window).scrollTop(),\r\n            htmlHeight = $('html').outerHeight(true);\r\n\r\n        // get hidden parents\r\n        var $hiddenParents = $elements.parents().filter(':hidden');\r\n\r\n        // cache the original inline style\r\n        $hiddenParents.each(function() {\r\n            var $that = $(this);\r\n            $that.data('style-cache', $that.attr('style'));\r\n        });\r\n\r\n        // temporarily must force hidden parents visible\r\n        $hiddenParents.css('display', 'block');\r\n\r\n        // get rows if using byRow, otherwise assume one row\r\n        if (opts.byRow && !opts.target) {\r\n\r\n            // must first force an arbitrary equal height so floating elements break evenly\r\n            $elements.each(function() {\r\n                var $that = $(this),\r\n                    display = $that.css('display');\r\n\r\n                // temporarily force a usable display value\r\n                if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {\r\n                    display = 'block';\r\n                }\r\n\r\n                // cache the original inline style\r\n                $that.data('style-cache', $that.attr('style'));\r\n\r\n                $that.css({\r\n                    'display': display,\r\n                    'padding-top': '0',\r\n                    'padding-bottom': '0',\r\n                    'margin-top': '0',\r\n                    'margin-bottom': '0',\r\n                    'border-top-width': '0',\r\n                    'border-bottom-width': '0',\r\n                    'height': '100px',\r\n                    'overflow': 'hidden'\r\n                });\r\n            });\r\n\r\n            // get the array of rows (based on element top position)\r\n            rows = _rows($elements);\r\n\r\n            // revert original inline styles\r\n            $elements.each(function() {\r\n                var $that = $(this);\r\n                $that.attr('style', $that.data('style-cache') || '');\r\n            });\r\n        }\r\n\r\n        $.each(rows, function(key, row) {\r\n            var $row = $(row),\r\n                targetHeight = 0;\r\n\r\n            if (!opts.target) {\r\n                // skip apply to rows with only one item\r\n                if (opts.byRow && $row.length <= 1) {\r\n                    $row.css(opts.property, '');\r\n                    return;\r\n                }\r\n\r\n                // iterate the row and find the max height\r\n                $row.each(function(){\r\n                    var $that = $(this),\r\n                        style = $that.attr('style'),\r\n                        display = $that.css('display');\r\n\r\n                    // temporarily force a usable display value\r\n                    if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {\r\n                        display = 'block';\r\n                    }\r\n\r\n                    // ensure we get the correct actual height (and not a previously set height value)\r\n                    var css = { 'display': display };\r\n                    css[opts.property] = '';\r\n                    $that.css(css);\r\n\r\n                    // find the max height (including padding, but not margin)\r\n                    if ($that.outerHeight(false) > targetHeight) {\r\n                        targetHeight = $that.outerHeight(false);\r\n                    }\r\n\r\n                    // revert styles\r\n                    if (style) {\r\n                        $that.attr('style', style);\r\n                    } else {\r\n                        $that.css('display', '');\r\n                    }\r\n                });\r\n            } else {\r\n                // if target set, use the height of the target element\r\n                targetHeight = opts.target.outerHeight(false);\r\n            }\r\n\r\n            // iterate the row and apply the height to all elements\r\n            $row.each(function(){\r\n                var $that = $(this),\r\n                    verticalPadding = 0;\r\n\r\n                // don't apply to a target\r\n                if (opts.target && $that.is(opts.target)) {\r\n                    return;\r\n                }\r\n\r\n                // handle padding and border correctly (required when not using border-box)\r\n                if ($that.css('box-sizing') !== 'border-box') {\r\n                    verticalPadding += _parse($that.css('border-top-width')) + _parse($that.css('border-bottom-width'));\r\n                    verticalPadding += _parse($that.css('padding-top')) + _parse($that.css('padding-bottom'));\r\n                }\r\n\r\n                // set the height (accounting for padding and border)\r\n                $that.css(opts.property, (targetHeight - verticalPadding) + 'px');\r\n            });\r\n        });\r\n\r\n        // revert hidden parents\r\n        $hiddenParents.each(function() {\r\n            var $that = $(this);\r\n            $that.attr('style', $that.data('style-cache') || null);\r\n        });\r\n\r\n        // restore scroll position if enabled\r\n        if (matchHeight._maintainScroll) {\r\n            $(window).scrollTop((scrollTop / htmlHeight) * $('html').outerHeight(true));\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /*\r\n    *  matchHeight._applyDataApi\r\n    *  applies matchHeight to all elements with a data-match-height attribute\r\n    */\r\n\r\n    matchHeight._applyDataApi = function() {\r\n        var groups = {};\r\n\r\n        // generate groups by their groupId set by elements using data-match-height\r\n        $('[data-match-height], [data-mh]').each(function() {\r\n            var $this = $(this),\r\n                groupId = $this.attr('data-mh') || $this.attr('data-match-height');\r\n\r\n            if (groupId in groups) {\r\n                groups[groupId] = groups[groupId].add($this);\r\n            } else {\r\n                groups[groupId] = $this;\r\n            }\r\n        });\r\n\r\n        // apply matchHeight to each group\r\n        $.each(groups, function() {\r\n            this.matchHeight(true);\r\n        });\r\n    };\r\n\r\n    /*\r\n    *  matchHeight._update\r\n    *  updates matchHeight on all current groups with their correct options\r\n    */\r\n\r\n    var _update = function(event) {\r\n        if (matchHeight._beforeUpdate) {\r\n            matchHeight._beforeUpdate(event, matchHeight._groups);\r\n        }\r\n\r\n        $.each(matchHeight._groups, function() {\r\n            matchHeight._apply(this.elements, this.options);\r\n        });\r\n\r\n        if (matchHeight._afterUpdate) {\r\n            matchHeight._afterUpdate(event, matchHeight._groups);\r\n        }\r\n    };\r\n\r\n    matchHeight._update = function(throttle, event) {\r\n        // prevent update if fired from a resize event\r\n        // where the viewport width hasn't actually changed\r\n        // fixes an event looping bug in IE8\r\n        if (event && event.type === 'resize') {\r\n            var windowWidth = $(window).width();\r\n            if (windowWidth === _previousResizeWidth) {\r\n                return;\r\n            }\r\n            _previousResizeWidth = windowWidth;\r\n        }\r\n\r\n        // throttle updates\r\n        if (!throttle) {\r\n            _update(event);\r\n        } else if (_updateTimeout === -1) {\r\n            _updateTimeout = setTimeout(function() {\r\n                _update(event);\r\n                _updateTimeout = -1;\r\n            }, matchHeight._throttle);\r\n        }\r\n    };\r\n\r\n    /*\r\n    *  bind events\r\n    */\r\n\r\n    // apply on DOM ready event\r\n    $(matchHeight._applyDataApi);\r\n\r\n    // use on or bind where supported\r\n    var on = $.fn.on ? 'on' : 'bind';\r\n\r\n    // update heights on load and resize events\r\n    $(window)[on]('load', function(event) {\r\n        matchHeight._update(false, event);\r\n    });\r\n\r\n    // throttled update heights on resize events\r\n    $(window)[on]('resize orientationchange', function(event) {\r\n        matchHeight._update(true, event);\r\n    });\r\n\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/matchHeight/dist/jquery.matchHeight.js\n// module id = 16\n// module chunks = 0","$ = require('jquery')\r\n\r\nrequire('selectize')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t$target.find('.js-select').selectize(\r\n\t\t\tcopyClassesToDropdown: false\r\n\t\t\tonChange: (value) ->\r\n\t\t\t\turlRegex = /[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/\r\n\r\n\t\t\t\tif urlRegex.test(value)\r\n\t\t\t\t\twindow.location.href = value\r\n\t\t)\r\n\r\n\t\t$target.find('.js-suggest').each(->\r\n\t\t\t$suggest = $(this)\r\n\t\t\tdata = $suggest.data('suggest')\r\n\r\n\t\t\tdefaultOptgroups = [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Kategorie'\r\n\t\t\t\t\tid: 'category'\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Textov vsledky'\r\n\t\t\t\t\tid: 'item'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\t\t\t$suggest.selectize(\r\n\t\t\t\tcopyClassesToDropdown: false\r\n\t\t\t\tplugins: ['restore_on_backspace']\r\n\t\t\t\tmaxItems: 1\r\n\t\t\t\tvalueField: 'value'\r\n\t\t\t\tlabelField: 'text'\r\n\t\t\t\tsearchField: ['text']\r\n\t\t\t\toptgroupField: 'field'\r\n\t\t\t\toptgroupValueField: 'id'\r\n\t\t\t\toptgroupLabelField: 'name'\r\n\t\t\t\tpreload: true\r\n\t\t\t\toptions: []\r\n\t\t\t\toptgroups: if data.optgroups? then data.optgroups else defaultOptgroups\r\n\t\t\t\tcreate: true\r\n\t\t\t\tpersist: false\r\n\t\t\t\trender:\r\n\t\t\t\t\toption_create: (item, escape) ->\r\n\t\t\t\t\t\treturn '<div class=\"create\">Vyhledat <strong>' + escape(item.input) + '</strong>&hellip;</div>';\r\n\t\t\t\t\toptgroup: (item, escape) ->\r\n\t\t\t\t\t\treturn '<div class=\"optgroup' + (if item.id is 'category' then ' optgroup-category' else '') + '\">' + item.html + '</div>'\r\n\t\t\t\t\toptgroup_header: (item, escape) ->\r\n\t\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(item.name) + '</div>'\r\n\t\t\t\t\toption: (item, escape) ->\r\n\t\t\t\t\t\treturn '<div>' + escape(item.text) + '</div>'\r\n\t\t\t\tload: (query, callback) ->\r\n\t\t\t\t\t$.ajax(\r\n\t\t\t\t\t\turl: data.url + '?' + encodeURIComponent(query)\r\n\t\t\t\t\t\ttype: 'GET'\r\n\t\t\t\t\t\tsuccess: (data) ->\r\n\t\t\t\t\t\t\tcallback(JSON.parse(data))\r\n\t\t\t\t\t)\r\n\t\t\t\tonChange: (value) ->\r\n\t\t\t\t\t$suggest[0].form.submit()\r\n\t\t\t)\r\n\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/selectize.coffee","/**\n * selectize.js (v0.12.4)\n * Copyright (c) 20132015 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/*jshint curly:false */\n/*jshint browser:true */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['jquery','sifter','microplugin'], factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n\t} else {\n\t\troot.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n\t}\n}(this, function($, Sifter, MicroPlugin) {\n\t'use strict';\n\n\tvar highlight = function($element, pattern) {\n\t\tif (typeof pattern === 'string' && !pattern.length) return;\n\t\tvar regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\t\n\t\tvar highlight = function(node) {\n\t\t\tvar skip = 0;\n\t\t\tif (node.nodeType === 3) {\n\t\t\t\tvar pos = node.data.search(regex);\n\t\t\t\tif (pos >= 0 && node.data.length > 0) {\n\t\t\t\t\tvar match = node.data.match(regex);\n\t\t\t\t\tvar spannode = document.createElement('span');\n\t\t\t\t\tspannode.className = 'highlight';\n\t\t\t\t\tvar middlebit = node.splitText(pos);\n\t\t\t\t\tvar endbit = middlebit.splitText(match[0].length);\n\t\t\t\t\tvar middleclone = middlebit.cloneNode(true);\n\t\t\t\t\tspannode.appendChild(middleclone);\n\t\t\t\t\tmiddlebit.parentNode.replaceChild(spannode, middlebit);\n\t\t\t\t\tskip = 1;\n\t\t\t\t}\n\t\t\t} else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; ++i) {\n\t\t\t\t\ti += highlight(node.childNodes[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn skip;\n\t\t};\n\t\n\t\treturn $element.each(function() {\n\t\t\thighlight(this);\n\t\t});\n\t};\n\t\n\t/**\n\t * removeHighlight fn copied from highlight v5 and\n\t * edited to remove with() and pass js strict mode\n\t */\n\t$.fn.removeHighlight = function() {\n\t\treturn this.find(\"span.highlight\").each(function() {\n\t\t\tthis.parentNode.firstChild.nodeName;\n\t\t\tvar parent = this.parentNode;\n\t\t\tparent.replaceChild(this.firstChild, this);\n\t\t\tparent.normalize();\n\t\t}).end();\n\t};\n\t\n\t\n\tvar MicroEvent = function() {};\n\tMicroEvent.prototype = {\n\t\ton: function(event, fct){\n\t\t\tthis._events = this._events || {};\n\t\t\tthis._events[event] = this._events[event] || [];\n\t\t\tthis._events[event].push(fct);\n\t\t},\n\t\toff: function(event, fct){\n\t\t\tvar n = arguments.length;\n\t\t\tif (n === 0) return delete this._events;\n\t\t\tif (n === 1) return delete this._events[event];\n\t\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tthis._events[event].splice(this._events[event].indexOf(fct), 1);\n\t\t},\n\t\ttrigger: function(event /* , args... */){\n\t\t\tthis._events = this._events || {};\n\t\t\tif (event in this._events === false) return;\n\t\t\tfor (var i = 0; i < this._events[event].length; i++){\n\t\t\t\tthis._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * Mixin will delegate all MicroEvent.js function in the destination object.\n\t *\n\t * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n\t *\n\t * @param {object} the object which will support MicroEvent\n\t */\n\tMicroEvent.mixin = function(destObject){\n\t\tvar props = ['on', 'off', 'trigger'];\n\t\tfor (var i = 0; i < props.length; i++){\n\t\t\tdestObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n\t\t}\n\t};\n\t\n\tvar IS_MAC        = /Mac/.test(navigator.userAgent);\n\t\n\tvar KEY_A         = 65;\n\tvar KEY_COMMA     = 188;\n\tvar KEY_RETURN    = 13;\n\tvar KEY_ESC       = 27;\n\tvar KEY_LEFT      = 37;\n\tvar KEY_UP        = 38;\n\tvar KEY_P         = 80;\n\tvar KEY_RIGHT     = 39;\n\tvar KEY_DOWN      = 40;\n\tvar KEY_N         = 78;\n\tvar KEY_BACKSPACE = 8;\n\tvar KEY_DELETE    = 46;\n\tvar KEY_SHIFT     = 16;\n\tvar KEY_CMD       = IS_MAC ? 91 : 17;\n\tvar KEY_CTRL      = IS_MAC ? 18 : 17;\n\tvar KEY_TAB       = 9;\n\t\n\tvar TAG_SELECT    = 1;\n\tvar TAG_INPUT     = 2;\n\t\n\t// for now, android support in general is too spotty to support validity\n\tvar SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('input').validity;\n\t\n\t\n\tvar isset = function(object) {\n\t\treturn typeof object !== 'undefined';\n\t};\n\t\n\t/**\n\t * Converts a scalar to its best string representation\n\t * for hash keys and HTML attribute values.\n\t *\n\t * Transformations:\n\t *   'str'     -> 'str'\n\t *   null      -> ''\n\t *   undefined -> ''\n\t *   true      -> '1'\n\t *   false     -> '0'\n\t *   0         -> '0'\n\t *   1         -> '1'\n\t *\n\t * @param {string} value\n\t * @returns {string|null}\n\t */\n\tvar hash_key = function(value) {\n\t\tif (typeof value === 'undefined' || value === null) return null;\n\t\tif (typeof value === 'boolean') return value ? '1' : '0';\n\t\treturn value + '';\n\t};\n\t\n\t/**\n\t * Escapes a string for use within HTML.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_html = function(str) {\n\t\treturn (str + '')\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;');\n\t};\n\t\n\t/**\n\t * Escapes \"$\" characters in replacement strings.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tvar escape_replace = function(str) {\n\t\treturn (str + '').replace(/\\$/g, '$$$$');\n\t};\n\t\n\tvar hook = {};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked before the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.before = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn original.apply(self, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `method` on `self` so that `fn`\n\t * is invoked after the original method.\n\t *\n\t * @param {object} self\n\t * @param {string} method\n\t * @param {function} fn\n\t */\n\thook.after = function(self, method, fn) {\n\t\tvar original = self[method];\n\t\tself[method] = function() {\n\t\t\tvar result = original.apply(self, arguments);\n\t\t\tfn.apply(self, arguments);\n\t\t\treturn result;\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be invoked once.\n\t *\n\t * @param {function} fn\n\t * @returns {function}\n\t */\n\tvar once = function(fn) {\n\t\tvar called = false;\n\t\treturn function() {\n\t\t\tif (called) return;\n\t\t\tcalled = true;\n\t\t\tfn.apply(this, arguments);\n\t\t};\n\t};\n\t\n\t/**\n\t * Wraps `fn` so that it can only be called once\n\t * every `delay` milliseconds (invoked on the falling edge).\n\t *\n\t * @param {function} fn\n\t * @param {int} delay\n\t * @returns {function}\n\t */\n\tvar debounce = function(fn, delay) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar self = this;\n\t\t\tvar args = arguments;\n\t\t\twindow.clearTimeout(timeout);\n\t\t\ttimeout = window.setTimeout(function() {\n\t\t\t\tfn.apply(self, args);\n\t\t\t}, delay);\n\t\t};\n\t};\n\t\n\t/**\n\t * Debounce all fired events types listed in `types`\n\t * while executing the provided `fn`.\n\t *\n\t * @param {object} self\n\t * @param {array} types\n\t * @param {function} fn\n\t */\n\tvar debounce_events = function(self, types, fn) {\n\t\tvar type;\n\t\tvar trigger = self.trigger;\n\t\tvar event_args = {};\n\t\n\t\t// override trigger method\n\t\tself.trigger = function() {\n\t\t\tvar type = arguments[0];\n\t\t\tif (types.indexOf(type) !== -1) {\n\t\t\t\tevent_args[type] = arguments;\n\t\t\t} else {\n\t\t\t\treturn trigger.apply(self, arguments);\n\t\t\t}\n\t\t};\n\t\n\t\t// invoke provided function\n\t\tfn.apply(self, []);\n\t\tself.trigger = trigger;\n\t\n\t\t// trigger queued events\n\t\tfor (type in event_args) {\n\t\t\tif (event_args.hasOwnProperty(type)) {\n\t\t\t\ttrigger.apply(self, event_args[type]);\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * A workaround for http://bugs.jquery.com/ticket/6696\n\t *\n\t * @param {object} $parent - Parent element to listen on.\n\t * @param {string} event - Event name.\n\t * @param {string} selector - Descendant selector to filter by.\n\t * @param {function} fn - Event handler.\n\t */\n\tvar watchChildEvent = function($parent, event, selector, fn) {\n\t\t$parent.on(event, selector, function(e) {\n\t\t\tvar child = e.target;\n\t\t\twhile (child && child.parentNode !== $parent[0]) {\n\t\t\t\tchild = child.parentNode;\n\t\t\t}\n\t\t\te.currentTarget = child;\n\t\t\treturn fn.apply(this, [e]);\n\t\t});\n\t};\n\t\n\t/**\n\t * Determines the current selection within a text input control.\n\t * Returns an object containing:\n\t *   - start\n\t *   - length\n\t *\n\t * @param {object} input\n\t * @returns {object}\n\t */\n\tvar getSelection = function(input) {\n\t\tvar result = {};\n\t\tif ('selectionStart' in input) {\n\t\t\tresult.start = input.selectionStart;\n\t\t\tresult.length = input.selectionEnd - result.start;\n\t\t} else if (document.selection) {\n\t\t\tinput.focus();\n\t\t\tvar sel = document.selection.createRange();\n\t\t\tvar selLen = document.selection.createRange().text.length;\n\t\t\tsel.moveStart('character', -input.value.length);\n\t\t\tresult.start = sel.text.length - selLen;\n\t\t\tresult.length = selLen;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\t/**\n\t * Copies CSS properties from one element to another.\n\t *\n\t * @param {object} $from\n\t * @param {object} $to\n\t * @param {array} properties\n\t */\n\tvar transferStyles = function($from, $to, properties) {\n\t\tvar i, n, styles = {};\n\t\tif (properties) {\n\t\t\tfor (i = 0, n = properties.length; i < n; i++) {\n\t\t\t\tstyles[properties[i]] = $from.css(properties[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tstyles = $from.css();\n\t\t}\n\t\t$to.css(styles);\n\t};\n\t\n\t/**\n\t * Measures the width of a string within a\n\t * parent element (in pixels).\n\t *\n\t * @param {string} str\n\t * @param {object} $parent\n\t * @returns {int}\n\t */\n\tvar measureString = function(str, $parent) {\n\t\tif (!str) {\n\t\t\treturn 0;\n\t\t}\n\t\n\t\tvar $test = $('<test>').css({\n\t\t\tposition: 'absolute',\n\t\t\ttop: -99999,\n\t\t\tleft: -99999,\n\t\t\twidth: 'auto',\n\t\t\tpadding: 0,\n\t\t\twhiteSpace: 'pre'\n\t\t}).text(str).appendTo('body');\n\t\n\t\ttransferStyles($parent, $test, [\n\t\t\t'letterSpacing',\n\t\t\t'fontSize',\n\t\t\t'fontFamily',\n\t\t\t'fontWeight',\n\t\t\t'textTransform'\n\t\t]);\n\t\n\t\tvar width = $test.width();\n\t\t$test.remove();\n\t\n\t\treturn width;\n\t};\n\t\n\t/**\n\t * Sets up an input to grow horizontally as the user\n\t * types. If the value is changed manually, you can\n\t * trigger the \"update\" handler to resize:\n\t *\n\t * $input.trigger('update');\n\t *\n\t * @param {object} $input\n\t */\n\tvar autoGrow = function($input) {\n\t\tvar currentWidth = null;\n\t\n\t\tvar update = function(e, options) {\n\t\t\tvar value, keyCode, printable, placeholder, width;\n\t\t\tvar shift, character, selection;\n\t\t\te = e || window.event || {};\n\t\t\toptions = options || {};\n\t\n\t\t\tif (e.metaKey || e.altKey) return;\n\t\t\tif (!options.force && $input.data('grow') === false) return;\n\t\n\t\t\tvalue = $input.val();\n\t\t\tif (e.type && e.type.toLowerCase() === 'keydown') {\n\t\t\t\tkeyCode = e.keyCode;\n\t\t\t\tprintable = (\n\t\t\t\t\t(keyCode >= 97 && keyCode <= 122) || // a-z\n\t\t\t\t\t(keyCode >= 65 && keyCode <= 90)  || // A-Z\n\t\t\t\t\t(keyCode >= 48 && keyCode <= 57)  || // 0-9\n\t\t\t\t\tkeyCode === 32 // space\n\t\t\t\t);\n\t\n\t\t\t\tif (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n\t\t\t\t\tselection = getSelection($input[0]);\n\t\t\t\t\tif (selection.length) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n\t\t\t\t\t} else if (keyCode === KEY_BACKSPACE && selection.start) {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n\t\t\t\t\t} else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n\t\t\t\t\t\tvalue = value.substring(0, selection.start) + value.substring(selection.start + 1);\n\t\t\t\t\t}\n\t\t\t\t} else if (printable) {\n\t\t\t\t\tshift = e.shiftKey;\n\t\t\t\t\tcharacter = String.fromCharCode(e.keyCode);\n\t\t\t\t\tif (shift) character = character.toUpperCase();\n\t\t\t\t\telse character = character.toLowerCase();\n\t\t\t\t\tvalue += character;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tplaceholder = $input.attr('placeholder');\n\t\t\tif (!value && placeholder) {\n\t\t\t\tvalue = placeholder;\n\t\t\t}\n\t\n\t\t\twidth = measureString(value, $input) + 4;\n\t\t\tif (width !== currentWidth) {\n\t\t\t\tcurrentWidth = width;\n\t\t\t\t$input.width(width);\n\t\t\t\t$input.triggerHandler('resize');\n\t\t\t}\n\t\t};\n\t\n\t\t$input.on('keydown keyup update blur', update);\n\t\tupdate();\n\t};\n\t\n\tvar domToString = function(d) {\n\t\tvar tmp = document.createElement('div');\n\t\n\t\ttmp.appendChild(d.cloneNode(true));\n\t\n\t\treturn tmp.innerHTML;\n\t};\n\t\n\tvar logError = function(message, options){\n\t\tif(!options) options = {};\n\t\tvar component = \"Selectize\";\n\t\n\t\tconsole.error(component + \": \" + message)\n\t\n\t\tif(options.explanation){\n\t\t\t// console.group is undefined in <IE11\n\t\t\tif(console.group) console.group();\n\t\t\tconsole.error(options.explanation);\n\t\t\tif(console.group) console.groupEnd();\n\t\t}\n\t}\n\t\n\t\n\tvar Selectize = function($input, settings) {\n\t\tvar key, i, n, dir, input, self = this;\n\t\tinput = $input[0];\n\t\tinput.selectize = self;\n\t\n\t\t// detect rtl environment\n\t\tvar computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t\tdir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n\t\tdir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\t\n\t\t// setup default state\n\t\t$.extend(self, {\n\t\t\torder            : 0,\n\t\t\tsettings         : settings,\n\t\t\t$input           : $input,\n\t\t\ttabIndex         : $input.attr('tabindex') || '',\n\t\t\ttagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n\t\t\trtl              : /rtl/i.test(dir),\n\t\n\t\t\teventNS          : '.selectize' + (++Selectize.count),\n\t\t\thighlightedValue : null,\n\t\t\tisOpen           : false,\n\t\t\tisDisabled       : false,\n\t\t\tisRequired       : $input.is('[required]'),\n\t\t\tisInvalid        : false,\n\t\t\tisLocked         : false,\n\t\t\tisFocused        : false,\n\t\t\tisInputHidden    : false,\n\t\t\tisSetup          : false,\n\t\t\tisShiftDown      : false,\n\t\t\tisCmdDown        : false,\n\t\t\tisCtrlDown       : false,\n\t\t\tignoreFocus      : false,\n\t\t\tignoreBlur       : false,\n\t\t\tignoreHover      : false,\n\t\t\thasOptions       : false,\n\t\t\tcurrentResults   : null,\n\t\t\tlastValue        : '',\n\t\t\tcaretPos         : 0,\n\t\t\tloading          : 0,\n\t\t\tloadedSearches   : {},\n\t\n\t\t\t$activeOption    : null,\n\t\t\t$activeItems     : [],\n\t\n\t\t\toptgroups        : {},\n\t\t\toptions          : {},\n\t\t\tuserOptions      : {},\n\t\t\titems            : [],\n\t\t\trenderCache      : {},\n\t\t\tonSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n\t\t});\n\t\n\t\t// search system\n\t\tself.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\t\n\t\t// build options table\n\t\tif (self.settings.options) {\n\t\t\tfor (i = 0, n = self.settings.options.length; i < n; i++) {\n\t\t\t\tself.registerOption(self.settings.options[i]);\n\t\t\t}\n\t\t\tdelete self.settings.options;\n\t\t}\n\t\n\t\t// build optgroup table\n\t\tif (self.settings.optgroups) {\n\t\t\tfor (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n\t\t\t\tself.registerOptionGroup(self.settings.optgroups[i]);\n\t\t\t}\n\t\t\tdelete self.settings.optgroups;\n\t\t}\n\t\n\t\t// option-dependent defaults\n\t\tself.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n\t\tif (typeof self.settings.hideSelected !== 'boolean') {\n\t\t\tself.settings.hideSelected = self.settings.mode === 'multi';\n\t\t}\n\t\n\t\tself.initializePlugins(self.settings.plugins);\n\t\tself.setupCallbacks();\n\t\tself.setupTemplates();\n\t\tself.setup();\n\t};\n\t\n\t// mixins\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\tMicroEvent.mixin(Selectize);\n\t\n\tif(typeof MicroPlugin !== \"undefined\"){\n\t\tMicroPlugin.mixin(Selectize);\n\t}else{\n\t\tlogError(\"Dependency MicroPlugin is missing\",\n\t\t\t{explanation:\n\t\t\t\t\"Make sure you either: (1) are using the \\\"standalone\\\" \"+\n\t\t\t\t\"version of Selectize, or (2) require MicroPlugin before you \"+\n\t\t\t\t\"load Selectize.\"}\n\t\t);\n\t}\n\t\n\t\n\t// methods\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\t\n\t$.extend(Selectize.prototype, {\n\t\n\t\t/**\n\t\t * Creates all elements and sets up event bindings.\n\t\t */\n\t\tsetup: function() {\n\t\t\tvar self      = this;\n\t\t\tvar settings  = self.settings;\n\t\t\tvar eventNS   = self.eventNS;\n\t\t\tvar $window   = $(window);\n\t\t\tvar $document = $(document);\n\t\t\tvar $input    = self.$input;\n\t\n\t\t\tvar $wrapper;\n\t\t\tvar $control;\n\t\t\tvar $control_input;\n\t\t\tvar $dropdown;\n\t\t\tvar $dropdown_content;\n\t\t\tvar $dropdown_parent;\n\t\t\tvar inputMode;\n\t\t\tvar timeout_blur;\n\t\t\tvar timeout_focus;\n\t\t\tvar classes;\n\t\t\tvar classes_plugins;\n\t\t\tvar inputId;\n\t\n\t\t\tinputMode         = self.settings.mode;\n\t\t\tclasses           = $input.attr('class') || '';\n\t\n\t\t\t$wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n\t\t\t$control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n\t\t\t$control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n\t\t\t$dropdown_parent  = $(settings.dropdownParent || $wrapper);\n\t\t\t$dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n\t\t\t$dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\t\n\t\t\tif(inputId = $input.attr('id')) {\n\t\t\t\t$control_input.attr('id', inputId + '-selectized');\n\t\t\t\t$(\"label[for='\"+inputId+\"']\").attr('for', inputId + '-selectized');\n\t\t\t}\n\t\n\t\t\tif(self.settings.copyClassesToDropdown) {\n\t\t\t\t$dropdown.addClass(classes);\n\t\t\t}\n\t\n\t\t\t$wrapper.css({\n\t\t\t\twidth: $input[0].style.width\n\t\t\t});\n\t\n\t\t\tif (self.plugins.names.length) {\n\t\t\t\tclasses_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\t\t$wrapper.addClass(classes_plugins);\n\t\t\t\t$dropdown.addClass(classes_plugins);\n\t\t\t}\n\t\n\t\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n\t\t\t\t$input.attr('multiple', 'multiple');\n\t\t\t}\n\t\n\t\t\tif (self.settings.placeholder) {\n\t\t\t\t$control_input.attr('placeholder', settings.placeholder);\n\t\t\t}\n\t\n\t\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\t\tif (!self.settings.splitOn && self.settings.delimiter) {\n\t\t\t\tvar delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\t\t\tself.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocorrect')) {\n\t\t\t\t$control_input.attr('autocorrect', $input.attr('autocorrect'));\n\t\t\t}\n\t\n\t\t\tif ($input.attr('autocapitalize')) {\n\t\t\t\t$control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n\t\t\t}\n\t\n\t\t\tself.$wrapper          = $wrapper;\n\t\t\tself.$control          = $control;\n\t\t\tself.$control_input    = $control_input;\n\t\t\tself.$dropdown         = $dropdown;\n\t\t\tself.$dropdown_content = $dropdown_content;\n\t\n\t\t\t$dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n\t\t\t$dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n\t\t\twatchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n\t\t\tautoGrow($control_input);\n\t\n\t\t\t$control.on({\n\t\t\t\tmousedown : function() { return self.onMouseDown.apply(self, arguments); },\n\t\t\t\tclick     : function() { return self.onClick.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$control_input.on({\n\t\t\t\tmousedown : function(e) { e.stopPropagation(); },\n\t\t\t\tkeydown   : function() { return self.onKeyDown.apply(self, arguments); },\n\t\t\t\tkeyup     : function() { return self.onKeyUp.apply(self, arguments); },\n\t\t\t\tkeypress  : function() { return self.onKeyPress.apply(self, arguments); },\n\t\t\t\tresize    : function() { self.positionDropdown.apply(self, []); },\n\t\t\t\tblur      : function() { return self.onBlur.apply(self, arguments); },\n\t\t\t\tfocus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n\t\t\t\tpaste     : function() { return self.onPaste.apply(self, arguments); }\n\t\t\t});\n\t\n\t\t\t$document.on('keydown' + eventNS, function(e) {\n\t\t\t\tself.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n\t\t\t\tself.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n\t\t\t\tself.isShiftDown = e.shiftKey;\n\t\t\t});\n\t\n\t\t\t$document.on('keyup' + eventNS, function(e) {\n\t\t\t\tif (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n\t\t\t\tif (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n\t\t\t\tif (e.keyCode === KEY_CMD) self.isCmdDown = false;\n\t\t\t});\n\t\n\t\t\t$document.on('mousedown' + eventNS, function(e) {\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\t// prevent events on the dropdown scrollbar from causing the control to blur\n\t\t\t\t\tif (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// blur on click outside\n\t\t\t\t\tif (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n\t\t\t\t\t\tself.blur(e.target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\n\t\t\t$window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tself.positionDropdown.apply(self, arguments);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$window.on('mousemove' + eventNS, function() {\n\t\t\t\tself.ignoreHover = false;\n\t\t\t});\n\t\n\t\t\t// store original children and tab index so that they can be\n\t\t\t// restored when the destroy() method is called.\n\t\t\tthis.revertSettings = {\n\t\t\t\t$children : $input.children().detach(),\n\t\t\t\ttabindex  : $input.attr('tabindex')\n\t\t\t};\n\t\n\t\t\t$input.attr('tabindex', -1).hide().after(self.$wrapper);\n\t\n\t\t\tif ($.isArray(settings.items)) {\n\t\t\t\tself.setValue(settings.items);\n\t\t\t\tdelete settings.items;\n\t\t\t}\n\t\n\t\t\t// feature detect for the validation API\n\t\t\tif (SUPPORTS_VALIDITY_API) {\n\t\t\t\t$input.on('invalid' + eventNS, function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.isInvalid = true;\n\t\t\t\t\tself.refreshState();\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tself.updateOriginalInput();\n\t\t\tself.refreshItems();\n\t\t\tself.refreshState();\n\t\t\tself.updatePlaceholder();\n\t\t\tself.isSetup = true;\n\t\n\t\t\tif ($input.is(':disabled')) {\n\t\t\t\tself.disable();\n\t\t\t}\n\t\n\t\t\tself.on('change', this.onChange);\n\t\n\t\t\t$input.data('selectize', self);\n\t\t\t$input.addClass('selectized');\n\t\t\tself.trigger('initialize');\n\t\n\t\t\t// preload options\n\t\t\tif (settings.preload === true) {\n\t\t\t\tself.onSearchChange('');\n\t\t\t}\n\t\n\t\t},\n\t\n\t\t/**\n\t\t * Sets up default rendering functions.\n\t\t */\n\t\tsetupTemplates: function() {\n\t\t\tvar self = this;\n\t\t\tvar field_label = self.settings.labelField;\n\t\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\t\n\t\t\tvar templates = {\n\t\t\t\t'optgroup': function(data) {\n\t\t\t\t\treturn '<div class=\"optgroup\">' + data.html + '</div>';\n\t\t\t\t},\n\t\t\t\t'optgroup_header': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'item': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n\t\t\t\t},\n\t\t\t\t'option_create': function(data, escape) {\n\t\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tself.settings.render = $.extend({}, templates, self.settings.render);\n\t\t},\n\t\n\t\t/**\n\t\t * Maps fired events to callbacks provided\n\t\t * in the settings used when creating the control.\n\t\t */\n\t\tsetupCallbacks: function() {\n\t\t\tvar key, fn, callbacks = {\n\t\t\t\t'initialize'      : 'onInitialize',\n\t\t\t\t'change'          : 'onChange',\n\t\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t\t'clear'           : 'onClear',\n\t\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t\t'type'            : 'onType',\n\t\t\t\t'load'            : 'onLoad',\n\t\t\t\t'focus'           : 'onFocus',\n\t\t\t\t'blur'            : 'onBlur'\n\t\t\t};\n\t\n\t\t\tfor (key in callbacks) {\n\t\t\t\tif (callbacks.hasOwnProperty(key)) {\n\t\t\t\t\tfn = this.settings[callbacks[key]];\n\t\t\t\t\tif (fn) this.on(key, fn);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a click event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonClick: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\t// necessary for mobile webkit devices (manual focus triggering\n\t\t\t// is ignored unless invoked within a click event)\n\t\t\tif (!self.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the main control element\n\t\t * has a mouse down event.\n\t\t *\n\t\t * @param {object} e\n\t\t * @return {boolean}\n\t\t */\n\t\tonMouseDown: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar defaultPrevented = e.isDefaultPrevented();\n\t\t\tvar $target = $(e.target);\n\t\n\t\t\tif (self.isFocused) {\n\t\t\t\t// retain focus by preventing native handling. if the\n\t\t\t\t// event target is the input it should not be modified.\n\t\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t\tif (e.target !== self.$control_input[0]) {\n\t\t\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\t\t\t// toggle dropdown\n\t\t\t\t\t\tself.isOpen ? self.close() : self.open();\n\t\t\t\t\t} else if (!defaultPrevented) {\n\t\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// give control focus\n\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\tself.focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the value of the control has been changed.\n\t\t * This should propagate the event to the original DOM\n\t\t * input / select element.\n\t\t */\n\t\tonChange: function() {\n\t\t\tthis.$input.trigger('change');\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> paste.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonPaste: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isFull() || self.isInputHidden || self.isLocked) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// If a regex or string is included, this will split the pasted\n\t\t\t// input and create Items for each separate value\n\t\t\tif (self.settings.splitOn) {\n\t\n\t\t\t\t// Wait for pasted text to be recognized in value\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvar pastedText = self.$control_input.val();\n\t\t\t\t\tif(!pastedText.match(self.settings.splitOn)){ return }\n\t\n\t\t\t\t\tvar splitInput = $.trim(pastedText).split(self.settings.splitOn);\n\t\t\t\t\tfor (var i = 0, n = splitInput.length; i < n; i++) {\n\t\t\t\t\t\tself.createItem(splitInput[i]);\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keypress.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyPress: function(e) {\n\t\t\tif (this.isLocked) return e && e.preventDefault();\n\t\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\t\tif (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n\t\t\t\tthis.createItem();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keydown.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyDown: function(e) {\n\t\t\tvar isInput = e.target === this.$control_input[0];\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) {\n\t\t\t\tif (e.keyCode !== KEY_TAB) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase KEY_A:\n\t\t\t\t\tif (self.isCmdDown) {\n\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase KEY_ESC:\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_N:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_DOWN:\n\t\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\t\tself.open();\n\t\t\t\t\t} else if (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $next = self.getAdjacentOption(self.$activeOption, 1);\n\t\t\t\t\t\tif ($next.length) self.setActiveOption($next, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_P:\n\t\t\t\t\tif (!e.ctrlKey || e.altKey) break;\n\t\t\t\tcase KEY_UP:\n\t\t\t\t\tif (self.$activeOption) {\n\t\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t\tvar $prev = self.getAdjacentOption(self.$activeOption, -1);\n\t\t\t\t\t\tif ($prev.length) self.setActiveOption($prev, true, true);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RETURN:\n\t\t\t\t\tif (self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_LEFT:\n\t\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_RIGHT:\n\t\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_TAB:\n\t\t\t\t\tif (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n\t\t\t\t\t\tself.onOptionSelect({currentTarget: self.$activeOption});\n\t\n\t\t\t\t\t\t// Default behaviour is to jump to the next field, we only want this\n\t\t\t\t\t\t// if the current field doesn't accept any more entries\n\t\t\t\t\t\tif (!self.isFull()) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\tcase KEY_BACKSPACE:\n\t\t\t\tcase KEY_DELETE:\n\t\t\t\t\tself.deleteSelection(e);\n\t\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> keyup.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonKeyUp: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return e && e.preventDefault();\n\t\t\tvar value = self.$control_input.val() || '';\n\t\t\tif (self.lastValue !== value) {\n\t\t\t\tself.lastValue = value;\n\t\t\t\tself.onSearchChange(value);\n\t\t\t\tself.refreshOptions();\n\t\t\t\tself.trigger('type', value);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the user-provide option provider / loader.\n\t\t *\n\t\t * Note: this function is debounced in the Selectize\n\t\t * constructor (by `settings.loadThrottle` milliseconds)\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tonSearchChange: function(value) {\n\t\t\tvar self = this;\n\t\t\tvar fn = self.settings.load;\n\t\t\tif (!fn) return;\n\t\t\tif (self.loadedSearches.hasOwnProperty(value)) return;\n\t\t\tself.loadedSearches[value] = true;\n\t\t\tself.load(function(callback) {\n\t\t\t\tfn.apply(self, [value, callback]);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> focus.\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tonFocus: function(e) {\n\t\t\tvar self = this;\n\t\t\tvar wasFocused = self.isFocused;\n\t\n\t\t\tif (self.isDisabled) {\n\t\t\t\tself.blur();\n\t\t\t\te && e.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tif (self.ignoreFocus) return;\n\t\t\tself.isFocused = true;\n\t\t\tif (self.settings.preload === 'focus') self.onSearchChange('');\n\t\n\t\t\tif (!wasFocused) self.trigger('focus');\n\t\n\t\t\tif (!self.$activeItems.length) {\n\t\t\t\tself.showInput();\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t\t}\n\t\n\t\t\tself.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered on <input> blur.\n\t\t *\n\t\t * @param {object} e\n\t\t * @param {Element} dest\n\t\t */\n\t\tonBlur: function(e, dest) {\n\t\t\tvar self = this;\n\t\t\tif (!self.isFocused) return;\n\t\t\tself.isFocused = false;\n\t\n\t\t\tif (self.ignoreFocus) {\n\t\t\t\treturn;\n\t\t\t} else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n\t\t\t\t// necessary to prevent IE closing the dropdown when the scrollbar is clicked\n\t\t\t\tself.ignoreBlur = true;\n\t\t\t\tself.onFocus(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar deactivate = function() {\n\t\t\t\tself.close();\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.setActiveItem(null);\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\tself.refreshState();\n\t\n\t\t\t\t// IE11 bug: element still marked as active\n\t\t\t\tdest && dest.focus && dest.focus();\n\t\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.trigger('blur');\n\t\t\t};\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\t\tself.createItem(null, false, deactivate);\n\t\t\t} else {\n\t\t\t\tdeactivate();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user rolls over\n\t\t * an option in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionHover: function(e) {\n\t\t\tif (this.ignoreHover) return;\n\t\t\tthis.setActiveOption(e.currentTarget, false);\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an option\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonOptionSelect: function(e) {\n\t\t\tvar value, $target, $option, self = this;\n\t\n\t\t\tif (e.preventDefault) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\n\t\t\t$target = $(e.currentTarget);\n\t\t\tif ($target.hasClass('create')) {\n\t\t\t\tself.createItem(null, function() {\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvalue = $target.attr('data-value');\n\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\tself.lastQuery = null;\n\t\t\t\t\tself.setTextboxValue('');\n\t\t\t\t\tself.addItem(value);\n\t\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n\t\t\t\t\t\tself.setActiveOption(self.getOption(value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Triggered when the user clicks on an item\n\t\t * that has been selected.\n\t\t *\n\t\t * @param {object} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tonItemSelect: function(e) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked) return;\n\t\t\tif (self.settings.mode === 'multi') {\n\t\t\t\te.preventDefault();\n\t\t\t\tself.setActiveItem(e.currentTarget, e);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the provided method that provides\n\t\t * results to a callback---which are then added\n\t\t * as options to the control.\n\t\t *\n\t\t * @param {function} fn\n\t\t */\n\t\tload: function(fn) {\n\t\t\tvar self = this;\n\t\t\tvar $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\t\n\t\t\tself.loading++;\n\t\t\tfn.apply(self, [function(results) {\n\t\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\t\tif (results && results.length) {\n\t\t\t\t\tself.addOption(results);\n\t\t\t\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\t\t\t\t}\n\t\t\t\tif (!self.loading) {\n\t\t\t\t\t$wrapper.removeClass(self.settings.loadingClass);\n\t\t\t\t}\n\t\t\t\tself.trigger('load', results);\n\t\t\t}]);\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the input field of the control to the specified value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tsetTextboxValue: function(value) {\n\t\t\tvar $input = this.$control_input;\n\t\t\tvar changed = $input.val() !== value;\n\t\t\tif (changed) {\n\t\t\t\t$input.val(value).triggerHandler('update');\n\t\t\t\tthis.lastValue = value;\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the value of the control. If multiple items\n\t\t * can be selected (e.g. <select multiple>), this returns\n\t\t * an array. If only one item can be selected, this\n\t\t * returns a string.\n\t\t *\n\t\t * @returns {mixed}\n\t\t */\n\t\tgetValue: function() {\n\t\t\tif (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n\t\t\t\treturn this.items;\n\t\t\t} else {\n\t\t\t\treturn this.items.join(this.settings.delimiter);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Resets the selected items to the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t */\n\t\tsetValue: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tthis.clear(silent);\n\t\t\t\tthis.addItems(value, silent);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item.\n\t\t *\n\t\t * @param {object} $item\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tsetActiveItem: function($item, e) {\n\t\t\tvar self = this;\n\t\t\tvar eventName;\n\t\t\tvar i, idx, begin, end, item, swap;\n\t\t\tvar $last;\n\t\n\t\t\tif (self.settings.mode === 'single') return;\n\t\t\t$item = $($item);\n\t\n\t\t\t// clear the active selection\n\t\t\tif (!$item.length) {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [];\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\tself.showInput();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// modify selection\n\t\t\teventName = e && e.type.toLowerCase();\n\t\n\t\t\tif (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n\t\t\t\t$last = self.$control.children('.active:last');\n\t\t\t\tbegin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n\t\t\t\tend   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n\t\t\t\tif (begin > end) {\n\t\t\t\t\tswap  = begin;\n\t\t\t\t\tbegin = end;\n\t\t\t\t\tend   = swap;\n\t\t\t\t}\n\t\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\t\titem = self.$control[0].childNodes[i];\n\t\t\t\t\tif (self.$activeItems.indexOf(item) === -1) {\n\t\t\t\t\t\t$(item).addClass('active');\n\t\t\t\t\t\tself.$activeItems.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t} else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t\t$item.removeClass('active');\n\t\t\t\t} else {\n\t\t\t\t\tself.$activeItems.push($item.addClass('active')[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(self.$activeItems).removeClass('active');\n\t\t\t\tself.$activeItems = [$item.addClass('active')[0]];\n\t\t\t}\n\t\n\t\t\t// ensure control has focus\n\t\t\tself.hideInput();\n\t\t\tif (!this.isFocused) {\n\t\t\t\tself.focus();\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Sets the selected item in the dropdown menu\n\t\t * of available options.\n\t\t *\n\t\t * @param {object} $object\n\t\t * @param {boolean} scroll\n\t\t * @param {boolean} animate\n\t\t */\n\t\tsetActiveOption: function($option, scroll, animate) {\n\t\t\tvar height_menu, height_item, y;\n\t\t\tvar scroll_top, scroll_bottom;\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.$activeOption) self.$activeOption.removeClass('active');\n\t\t\tself.$activeOption = null;\n\t\n\t\t\t$option = $($option);\n\t\t\tif (!$option.length) return;\n\t\n\t\t\tself.$activeOption = $option.addClass('active');\n\t\n\t\t\tif (scroll || !isset(scroll)) {\n\t\n\t\t\t\theight_menu   = self.$dropdown_content.height();\n\t\t\t\theight_item   = self.$activeOption.outerHeight(true);\n\t\t\t\tscroll        = self.$dropdown_content.scrollTop() || 0;\n\t\t\t\ty             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n\t\t\t\tscroll_top    = y;\n\t\t\t\tscroll_bottom = y - height_menu + height_item;\n\t\n\t\t\t\tif (y + height_item > height_menu + scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t} else if (y < scroll) {\n\t\t\t\t\tself.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Selects all items (CTRL + A).\n\t\t */\n\t\tselectAll: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.settings.mode === 'single') return;\n\t\n\t\t\tself.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.close();\n\t\t\t}\n\t\t\tself.focus();\n\t\t},\n\t\n\t\t/**\n\t\t * Hides the input element out of view, while\n\t\t * retaining its focus.\n\t\t */\n\t\thideInput: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.setTextboxValue('');\n\t\t\tself.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n\t\t\tself.isInputHidden = true;\n\t\t},\n\t\n\t\t/**\n\t\t * Restores input visibility.\n\t\t */\n\t\tshowInput: function() {\n\t\t\tthis.$control_input.css({opacity: 1, position: 'relative', left: 0});\n\t\t\tthis.isInputHidden = false;\n\t\t},\n\t\n\t\t/**\n\t\t * Gives the control focus.\n\t\t */\n\t\tfocus: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.isDisabled) return;\n\t\n\t\t\tself.ignoreFocus = true;\n\t\t\tself.$control_input[0].focus();\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tself.ignoreFocus = false;\n\t\t\t\tself.onFocus();\n\t\t\t}, 0);\n\t\t},\n\t\n\t\t/**\n\t\t * Forces the control out of focus.\n\t\t *\n\t\t * @param {Element} dest\n\t\t */\n\t\tblur: function(dest) {\n\t\t\tthis.$control_input[0].blur();\n\t\t\tthis.onBlur(null, dest);\n\t\t},\n\t\n\t\t/**\n\t\t * Returns a function that scores an object\n\t\t * to show how good of a match it is to the\n\t\t * provided query.\n\t\t *\n\t\t * @param {string} query\n\t\t * @param {object} options\n\t\t * @return {function}\n\t\t */\n\t\tgetScoreFunction: function(query) {\n\t\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t\t},\n\t\n\t\t/**\n\t\t * Returns search options for sifter (the system\n\t\t * for scoring and sorting results).\n\t\t *\n\t\t * @see https://github.com/brianreavis/sifter.js\n\t\t * @return {object}\n\t\t */\n\t\tgetSearchOptions: function() {\n\t\t\tvar settings = this.settings;\n\t\t\tvar sort = settings.sortField;\n\t\t\tif (typeof sort === 'string') {\n\t\t\t\tsort = [{field: sort}];\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tfields      : settings.searchField,\n\t\t\t\tconjunction : settings.searchConjunction,\n\t\t\t\tsort        : sort\n\t\t\t};\n\t\t},\n\t\n\t\t/**\n\t\t * Searches through available options and returns\n\t\t * a sorted array of matches.\n\t\t *\n\t\t * Returns an object containing:\n\t\t *\n\t\t *   - query {string}\n\t\t *   - tokens {array}\n\t\t *   - total {int}\n\t\t *   - items {array}\n\t\t *\n\t\t * @param {string} query\n\t\t * @returns {object}\n\t\t */\n\t\tsearch: function(query) {\n\t\t\tvar i, value, score, result, calculateScore;\n\t\t\tvar self     = this;\n\t\t\tvar settings = self.settings;\n\t\t\tvar options  = this.getSearchOptions();\n\t\n\t\t\t// validate user-provided result scoring function\n\t\t\tif (settings.score) {\n\t\t\t\tcalculateScore = self.settings.score.apply(this, [query]);\n\t\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\t\tthrow new Error('Selectize \"score\" setting must be a function that returns a function');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// perform search\n\t\t\tif (query !== self.lastQuery) {\n\t\t\t\tself.lastQuery = query;\n\t\t\t\tresult = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n\t\t\t\tself.currentResults = result;\n\t\t\t} else {\n\t\t\t\tresult = $.extend(true, {}, self.currentResults);\n\t\t\t}\n\t\n\t\t\t// filter out selected items\n\t\t\tif (settings.hideSelected) {\n\t\t\t\tfor (i = result.items.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t\t\t\t\t\tresult.items.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the list of available options shown\n\t\t * in the autocomplete dropdown menu.\n\t\t *\n\t\t * @param {boolean} triggerDropdown\n\t\t */\n\t\trefreshOptions: function(triggerDropdown) {\n\t\t\tvar i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n\t\t\tvar $active, $active_before, $create;\n\t\n\t\t\tif (typeof triggerDropdown === 'undefined') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tvar self              = this;\n\t\t\tvar query             = $.trim(self.$control_input.val());\n\t\t\tvar results           = self.search(query);\n\t\t\tvar $dropdown_content = self.$dropdown_content;\n\t\t\tvar active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\t\n\t\t\t// build markup\n\t\t\tn = results.items.length;\n\t\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t\t}\n\t\n\t\t\t// render and group available options individually\n\t\t\tgroups = {};\n\t\t\tgroups_order = [];\n\t\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\toption      = self.options[results.items[i].id];\n\t\t\t\toption_html = self.render('option', option);\n\t\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\t\toptgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\t\n\t\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\t\toptgroup = optgroups[j];\n\t\t\t\t\tif (!self.optgroups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\toptgroup = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!groups.hasOwnProperty(optgroup)) {\n\t\t\t\t\t\tgroups[optgroup] = document.createDocumentFragment();\n\t\t\t\t\t\tgroups_order.push(optgroup);\n\t\t\t\t\t}\n\t\t\t\t\tgroups[optgroup].appendChild(option_html);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// sort optgroups\n\t\t\tif (this.settings.lockOptgroupOrder) {\n\t\t\t\tgroups_order.sort(function(a, b) {\n\t\t\t\t\tvar a_order = self.optgroups[a].$order || 0;\n\t\t\t\t\tvar b_order = self.optgroups[b].$order || 0;\n\t\t\t\t\treturn a_order - b_order;\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t// render optgroup headers & join groups\n\t\t\thtml = document.createDocumentFragment();\n\t\t\tfor (i = 0, n = groups_order.length; i < n; i++) {\n\t\t\t\toptgroup = groups_order[i];\n\t\t\t\tif (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].childNodes.length) {\n\t\t\t\t\t// render the optgroup header and options within it,\n\t\t\t\t\t// then pass it to the wrapper template\n\t\t\t\t\thtml_children = document.createDocumentFragment();\n\t\t\t\t\thtml_children.appendChild(self.render('optgroup_header', self.optgroups[optgroup]));\n\t\t\t\t\thtml_children.appendChild(groups[optgroup]);\n\t\n\t\t\t\t\thtml.appendChild(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n\t\t\t\t\t\thtml: domToString(html_children),\n\t\t\t\t\t\tdom:  html_children\n\t\t\t\t\t})));\n\t\t\t\t} else {\n\t\t\t\t\thtml.appendChild(groups[optgroup]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t$dropdown_content.html(html);\n\t\n\t\t\t// highlight matching terms inline\n\t\t\tif (self.settings.highlight && results.query.length && results.tokens.length) {\n\t\t\t\t$dropdown_content.removeHighlight();\n\t\t\t\tfor (i = 0, n = results.tokens.length; i < n; i++) {\n\t\t\t\t\thighlight($dropdown_content, results.tokens[i].regex);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add \"selected\" class to selected options\n\t\t\tif (!self.settings.hideSelected) {\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tself.getOption(self.items[i]).addClass('selected');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// add create option\n\t\t\thas_create_option = self.canCreate(query);\n\t\t\tif (has_create_option) {\n\t\t\t\t$dropdown_content.prepend(self.render('option_create', {input: query}));\n\t\t\t\t$create = $($dropdown_content[0].childNodes[0]);\n\t\t\t}\n\t\n\t\t\t// activate\n\t\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\t\tif (self.hasOptions) {\n\t\t\t\tif (results.items.length > 0) {\n\t\t\t\t\t$active_before = active_before && self.getOption(active_before);\n\t\t\t\t\tif ($active_before && $active_before.length) {\n\t\t\t\t\t\t$active = $active_before;\n\t\t\t\t\t} else if (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\t\t\t$active = self.getOption(self.items[0]);\n\t\t\t\t\t}\n\t\t\t\t\tif (!$active || !$active.length) {\n\t\t\t\t\t\tif ($create && !self.settings.addPrecedence) {\n\t\t\t\t\t\t\t$active = self.getAdjacentOption($create, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$active = $dropdown_content.find('[data-selectable]:first');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$active = $create;\n\t\t\t\t}\n\t\t\t\tself.setActiveOption($active);\n\t\t\t\tif (triggerDropdown && !self.isOpen) { self.open(); }\n\t\t\t} else {\n\t\t\t\tself.setActiveOption(null);\n\t\t\t\tif (triggerDropdown && self.isOpen) { self.close(); }\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Adds an available option. If it already exists,\n\t\t * nothing will happen. Note: this does not refresh\n\t\t * the options list dropdown (use `refreshOptions`\n\t\t * for that).\n\t\t *\n\t\t * Usage:\n\t\t *\n\t\t *   this.addOption(data)\n\t\t *\n\t\t * @param {object|array} data\n\t\t */\n\t\taddOption: function(data) {\n\t\t\tvar i, n, value, self = this;\n\t\n\t\t\tif ($.isArray(data)) {\n\t\t\t\tfor (i = 0, n = data.length; i < n; i++) {\n\t\t\t\t\tself.addOption(data[i]);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (value = self.registerOption(data)) {\n\t\t\t\tself.userOptions[value] = true;\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.trigger('option_add', value, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option to the pool of options.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOption: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.valueField]);\n\t\t\tif (typeof key === 'undefined' || key === null || this.options.hasOwnProperty(key)) return false;\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.options[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers an option group to the pool of option groups.\n\t\t *\n\t\t * @param {object} data\n\t\t * @return {boolean|string}\n\t\t */\n\t\tregisterOptionGroup: function(data) {\n\t\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\t\t\tif (!key) return false;\n\t\n\t\t\tdata.$order = data.$order || ++this.order;\n\t\t\tthis.optgroups[key] = data;\n\t\t\treturn key;\n\t\t},\n\t\n\t\t/**\n\t\t * Registers a new optgroup for options\n\t\t * to be bucketed into.\n\t\t *\n\t\t * @param {string} id\n\t\t * @param {object} data\n\t\t */\n\t\taddOptionGroup: function(id, data) {\n\t\t\tdata[this.settings.optgroupValueField] = id;\n\t\t\tif (id = this.registerOptionGroup(data)) {\n\t\t\t\tthis.trigger('optgroup_add', id, data);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes an existing option group.\n\t\t *\n\t\t * @param {string} id\n\t\t */\n\t\tremoveOptionGroup: function(id) {\n\t\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\t\tdelete this.optgroups[id];\n\t\t\t\tthis.renderCache = {};\n\t\t\t\tthis.trigger('optgroup_remove', id);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all existing option groups.\n\t\t */\n\t\tclearOptionGroups: function() {\n\t\t\tthis.optgroups = {};\n\t\t\tthis.renderCache = {};\n\t\t\tthis.trigger('optgroup_clear');\n\t\t},\n\t\n\t\t/**\n\t\t * Updates an option available for selection. If\n\t\t * it is visible in the selected items or options\n\t\t * dropdown, it will be re-rendered automatically.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {object} data\n\t\t */\n\t\tupdateOption: function(value, data) {\n\t\t\tvar self = this;\n\t\t\tvar $item, $item_new;\n\t\t\tvar value_new, index_item, cache_items, cache_options, order_old;\n\t\n\t\t\tvalue     = hash_key(value);\n\t\t\tvalue_new = hash_key(data[self.settings.valueField]);\n\t\n\t\t\t// sanity checks\n\t\t\tif (value === null) return;\n\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\tif (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t\n\t\t\torder_old = self.options[value].$order;\n\t\n\t\t\t// update references\n\t\t\tif (value_new !== value) {\n\t\t\t\tdelete self.options[value];\n\t\t\t\tindex_item = self.items.indexOf(value);\n\t\t\t\tif (index_item !== -1) {\n\t\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.$order = data.$order || order_old;\n\t\t\tself.options[value_new] = data;\n\t\n\t\t\t// invalidate render cache\n\t\t\tcache_items = self.renderCache['item'];\n\t\t\tcache_options = self.renderCache['option'];\n\t\n\t\t\tif (cache_items) {\n\t\t\t\tdelete cache_items[value];\n\t\t\t\tdelete cache_items[value_new];\n\t\t\t}\n\t\t\tif (cache_options) {\n\t\t\t\tdelete cache_options[value];\n\t\t\t\tdelete cache_options[value_new];\n\t\t\t}\n\t\n\t\t\t// update the item if it's selected\n\t\t\tif (self.items.indexOf(value_new) !== -1) {\n\t\t\t\t$item = self.getItem(value);\n\t\t\t\t$item_new = $(self.render('item', data));\n\t\t\t\tif ($item.hasClass('active')) $item_new.addClass('active');\n\t\t\t\t$item.replaceWith($item_new);\n\t\t\t}\n\t\n\t\t\t// invalidate last query because we might have updated the sortField\n\t\t\tself.lastQuery = null;\n\t\n\t\t\t// update dropdown contents\n\t\t\tif (self.isOpen) {\n\t\t\t\tself.refreshOptions(false);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Removes a single option.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\tremoveOption: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tvar cache_items = self.renderCache['item'];\n\t\t\tvar cache_options = self.renderCache['option'];\n\t\t\tif (cache_items) delete cache_items[value];\n\t\t\tif (cache_options) delete cache_options[value];\n\t\n\t\t\tdelete self.userOptions[value];\n\t\t\tdelete self.options[value];\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_remove', value);\n\t\t\tself.removeItem(value, silent);\n\t\t},\n\t\n\t\t/**\n\t\t * Clears all options.\n\t\t */\n\t\tclearOptions: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tself.loadedSearches = {};\n\t\t\tself.userOptions = {};\n\t\t\tself.renderCache = {};\n\t\t\tself.options = self.sifter.items = {};\n\t\t\tself.lastQuery = null;\n\t\t\tself.trigger('option_clear');\n\t\t\tself.clear();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the option\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetOption: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the next or\n\t\t * previous selectable option.\n\t\t *\n\t\t * @param {object} $option\n\t\t * @param {int} direction  can be 1 for next or -1 for previous\n\t\t * @return {object}\n\t\t */\n\t\tgetAdjacentOption: function($option, direction) {\n\t\t\tvar $options = this.$dropdown.find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t},\n\t\n\t\t/**\n\t\t * Finds the first element with a \"data-value\" attribute\n\t\t * that matches the given value.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} $els\n\t\t * @return {object}\n\t\t */\n\t\tgetElementWithValue: function(value, $els) {\n\t\t\tvalue = hash_key(value);\n\t\n\t\t\tif (typeof value !== 'undefined' && value !== null) {\n\t\t\t\tfor (var i = 0, n = $els.length; i < n; i++) {\n\t\t\t\t\tif ($els[i].getAttribute('data-value') === value) {\n\t\t\t\t\t\treturn $($els[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn $();\n\t\t},\n\t\n\t\t/**\n\t\t * Returns the jQuery element of the item\n\t\t * matching the given value.\n\t\t *\n\t\t * @param {string} value\n\t\t * @returns {object}\n\t\t */\n\t\tgetItem: function(value) {\n\t\t\treturn this.getElementWithValue(value, this.$control.children());\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" multiple items at once. Adds them to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItems: function(values, silent) {\n\t\t\tvar items = $.isArray(values) ? values : [values];\n\t\t\tfor (var i = 0, n = items.length; i < n; i++) {\n\t\t\t\tthis.isPending = (i < n - 1);\n\t\t\t\tthis.addItem(items[i], silent);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * \"Selects\" an item. Adds it to the list\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} silent\n\t\t */\n\t\taddItem: function(value, silent) {\n\t\t\tvar events = silent ? [] : ['change'];\n\t\n\t\t\tdebounce_events(this, events, function() {\n\t\t\t\tvar $item, $option, $options;\n\t\t\t\tvar self = this;\n\t\t\t\tvar inputMode = self.settings.mode;\n\t\t\t\tvar i, active, value_next, wasFull;\n\t\t\t\tvalue = hash_key(value);\n\t\n\t\t\t\tif (self.items.indexOf(value) !== -1) {\n\t\t\t\t\tif (inputMode === 'single') self.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (!self.options.hasOwnProperty(value)) return;\n\t\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\t\n\t\t\t\t$item = $(self.render('item', self.options[value]));\n\t\t\t\twasFull = self.isFull();\n\t\t\t\tself.items.splice(self.caretPos, 0, value);\n\t\t\t\tself.insertAtCaret($item);\n\t\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\t\tself.refreshState();\n\t\t\t\t}\n\t\n\t\t\t\tif (self.isSetup) {\n\t\t\t\t\t$options = self.$dropdown_content.find('[data-selectable]');\n\t\n\t\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\t\tif (!self.isPending) {\n\t\t\t\t\t\t$option = self.getOption(value);\n\t\t\t\t\t\tvalue_next = self.getAdjacentOption($option, 1).attr('data-value');\n\t\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t\t\tif (value_next) {\n\t\t\t\t\t\t\tself.setActiveOption(self.getOption(value_next));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\t\tif (!$options.length || self.isFull()) {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.positionDropdown();\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself.updatePlaceholder();\n\t\t\t\t\tself.trigger('item_add', value, $item);\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the selected item matching\n\t\t * the provided value.\n\t\t *\n\t\t * @param {string} value\n\t\t */\n\t\tremoveItem: function(value, silent) {\n\t\t\tvar self = this;\n\t\t\tvar $item, i, idx;\n\t\n\t\t\t$item = (value instanceof $) ? value : self.getItem(value);\n\t\t\tvalue = hash_key($item.attr('data-value'));\n\t\t\ti = self.items.indexOf(value);\n\t\n\t\t\tif (i !== -1) {\n\t\t\t\t$item.remove();\n\t\t\t\tif ($item.hasClass('active')) {\n\t\t\t\t\tidx = self.$activeItems.indexOf($item[0]);\n\t\t\t\t\tself.$activeItems.splice(idx, 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.items.splice(i, 1);\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\t\t\tself.removeOption(value, silent);\n\t\t\t\t}\n\t\n\t\t\t\tif (i < self.caretPos) {\n\t\t\t\t\tself.setCaret(self.caretPos - 1);\n\t\t\t\t}\n\t\n\t\t\t\tself.refreshState();\n\t\t\t\tself.updatePlaceholder();\n\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\tself.positionDropdown();\n\t\t\t\tself.trigger('item_remove', value, $item);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Invokes the `create` method provided in the\n\t\t * selectize options that should provide the data\n\t\t * for the new item, given the user input.\n\t\t *\n\t\t * Once this completes, it will be added\n\t\t * to the item list.\n\t\t *\n\t\t * @param {string} value\n\t\t * @param {boolean} [triggerDropdown]\n\t\t * @param {function} [callback]\n\t\t * @return {boolean}\n\t\t */\n\t\tcreateItem: function(input, triggerDropdown) {\n\t\t\tvar self  = this;\n\t\t\tvar caret = self.caretPos;\n\t\t\tinput = input || $.trim(self.$control_input.val() || '');\n\t\n\t\t\tvar callback = arguments[arguments.length - 1];\n\t\t\tif (typeof callback !== 'function') callback = function() {};\n\t\n\t\t\tif (typeof triggerDropdown !== 'boolean') {\n\t\t\t\ttriggerDropdown = true;\n\t\t\t}\n\t\n\t\t\tif (!self.canCreate(input)) {\n\t\t\t\tcallback();\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tself.lock();\n\t\n\t\t\tvar setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n\t\t\t\tvar data = {};\n\t\t\t\tdata[self.settings.labelField] = input;\n\t\t\t\tdata[self.settings.valueField] = input;\n\t\t\t\treturn data;\n\t\t\t};\n\t\n\t\t\tvar create = once(function(data) {\n\t\t\t\tself.unlock();\n\t\n\t\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\t\tif (typeof value !== 'string') return callback();\n\t\n\t\t\t\tself.setTextboxValue('');\n\t\t\t\tself.addOption(data);\n\t\t\t\tself.setCaret(caret);\n\t\t\t\tself.addItem(value);\n\t\t\t\tself.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\n\t\t\tvar output = setup.apply(this, [input, create]);\n\t\t\tif (typeof output !== 'undefined') {\n\t\t\t\tcreate(output);\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Re-renders the selected item lists.\n\t\t */\n\t\trefreshItems: function() {\n\t\t\tthis.lastQuery = null;\n\t\n\t\t\tif (this.isSetup) {\n\t\t\t\tthis.addItem(this.items);\n\t\t\t}\n\t\n\t\t\tthis.refreshState();\n\t\t\tthis.updateOriginalInput();\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent attributes\n\t\t * and CSS classes.\n\t\t */\n\t\trefreshState: function() {\n\t\t\tthis.refreshValidityState();\n\t\t\tthis.refreshClasses();\n\t\t},\n\t\n\t\t/**\n\t\t * Update the `required` attribute of both input and control input.\n\t\t *\n\t\t * The `required` property needs to be activated on the control input\n\t\t * for the error to be displayed at the right place. `required` also\n\t\t * needs to be temporarily deactivated on the input since the input is\n\t\t * hidden and can't show errors.\n\t\t */\n\t\trefreshValidityState: function() {\n\t\t\tif (!this.isRequired) return false;\n\t\n\t\t\tvar invalid = !this.items.length;\n\t\n\t\t\tthis.isInvalid = invalid;\n\t\t\tthis.$control_input.prop('required', invalid);\n\t\t\tthis.$input.prop('required', !invalid);\n\t\t},\n\t\n\t\t/**\n\t\t * Updates all state-dependent CSS classes.\n\t\t */\n\t\trefreshClasses: function() {\n\t\t\tvar self     = this;\n\t\t\tvar isFull   = self.isFull();\n\t\t\tvar isLocked = self.isLocked;\n\t\n\t\t\tself.$wrapper\n\t\t\t\t.toggleClass('rtl', self.rtl);\n\t\n\t\t\tself.$control\n\t\t\t\t.toggleClass('focus', self.isFocused)\n\t\t\t\t.toggleClass('disabled', self.isDisabled)\n\t\t\t\t.toggleClass('required', self.isRequired)\n\t\t\t\t.toggleClass('invalid', self.isInvalid)\n\t\t\t\t.toggleClass('locked', isLocked)\n\t\t\t\t.toggleClass('full', isFull).toggleClass('not-full', !isFull)\n\t\t\t\t.toggleClass('input-active', self.isFocused && !self.isInputHidden)\n\t\t\t\t.toggleClass('dropdown-active', self.isOpen)\n\t\t\t\t.toggleClass('has-options', !$.isEmptyObject(self.options))\n\t\t\t\t.toggleClass('has-items', self.items.length > 0);\n\t\n\t\t\tself.$control_input.data('grow', !isFull && !isLocked);\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not more items can be added\n\t\t * to the control without exceeding the user-defined maximum.\n\t\t *\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFull: function() {\n\t\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t\t},\n\t\n\t\t/**\n\t\t * Refreshes the original <select> or <input>\n\t\t * element to reflect the current state.\n\t\t */\n\t\tupdateOriginalInput: function(opts) {\n\t\t\tvar i, n, options, label, self = this;\n\t\t\topts = opts || {};\n\t\n\t\t\tif (self.tagType === TAG_SELECT) {\n\t\t\t\toptions = [];\n\t\t\t\tfor (i = 0, n = self.items.length; i < n; i++) {\n\t\t\t\t\tlabel = self.options[self.items[i]][self.settings.labelField] || '';\n\t\t\t\t\toptions.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n\t\t\t\t}\n\t\t\t\tif (!options.length && !this.$input.attr('multiple')) {\n\t\t\t\t\toptions.push('<option value=\"\" selected=\"selected\"></option>');\n\t\t\t\t}\n\t\t\t\tself.$input.html(options.join(''));\n\t\t\t} else {\n\t\t\t\tself.$input.val(self.getValue());\n\t\t\t\tself.$input.attr('value',self.$input.val());\n\t\t\t}\n\t\n\t\t\tif (self.isSetup) {\n\t\t\t\tif (!opts.silent) {\n\t\t\t\t\tself.trigger('change', self.$input.val());\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Shows/hide the input placeholder depending\n\t\t * on if there items in the list already.\n\t\t */\n\t\tupdatePlaceholder: function() {\n\t\t\tif (!this.settings.placeholder) return;\n\t\t\tvar $input = this.$control_input;\n\t\n\t\t\tif (this.items.length) {\n\t\t\t\t$input.removeAttr('placeholder');\n\t\t\t} else {\n\t\t\t\t$input.attr('placeholder', this.settings.placeholder);\n\t\t\t}\n\t\t\t$input.triggerHandler('update', {force: true});\n\t\t},\n\t\n\t\t/**\n\t\t * Shows the autocomplete dropdown containing\n\t\t * the available options.\n\t\t */\n\t\topen: function() {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\t\tself.focus();\n\t\t\tself.isOpen = true;\n\t\t\tself.refreshState();\n\t\t\tself.$dropdown.css({visibility: 'hidden', display: 'block'});\n\t\t\tself.positionDropdown();\n\t\t\tself.$dropdown.css({visibility: 'visible'});\n\t\t\tself.trigger('dropdown_open', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Closes the autocomplete dropdown menu.\n\t\t */\n\t\tclose: function() {\n\t\t\tvar self = this;\n\t\t\tvar trigger = self.isOpen;\n\t\n\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\tself.hideInput();\n\t\t\t\tself.$control_input.blur(); // close keyboard on iOS\n\t\t\t}\n\t\n\t\t\tself.isOpen = false;\n\t\t\tself.$dropdown.hide();\n\t\t\tself.setActiveOption(null);\n\t\t\tself.refreshState();\n\t\n\t\t\tif (trigger) self.trigger('dropdown_close', self.$dropdown);\n\t\t},\n\t\n\t\t/**\n\t\t * Calculates and applies the appropriate\n\t\t * position of the dropdown.\n\t\t */\n\t\tpositionDropdown: function() {\n\t\t\tvar $control = this.$control;\n\t\t\tvar offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n\t\t\toffset.top += $control.outerHeight(true);\n\t\n\t\t\tthis.$dropdown.css({\n\t\t\t\twidth : $control.outerWidth(),\n\t\t\t\ttop   : offset.top,\n\t\t\t\tleft  : offset.left\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t\t * Resets / clears all selected items\n\t\t * from the control.\n\t\t *\n\t\t * @param {boolean} silent\n\t\t */\n\t\tclear: function(silent) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (!self.items.length) return;\n\t\t\tself.$control.children(':not(input)').remove();\n\t\t\tself.items = [];\n\t\t\tself.lastQuery = null;\n\t\t\tself.setCaret(0);\n\t\t\tself.setActiveItem(null);\n\t\t\tself.updatePlaceholder();\n\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\tself.refreshState();\n\t\t\tself.showInput();\n\t\t\tself.trigger('clear');\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for inserting an element\n\t\t * at the current caret position.\n\t\t *\n\t\t * @param {object} $el\n\t\t */\n\t\tinsertAtCaret: function($el) {\n\t\t\tvar caret = Math.min(this.caretPos, this.items.length);\n\t\t\tif (caret === 0) {\n\t\t\t\tthis.$control.prepend($el);\n\t\t\t} else {\n\t\t\t\t$(this.$control[0].childNodes[caret]).before($el);\n\t\t\t}\n\t\t\tthis.setCaret(caret + 1);\n\t\t},\n\t\n\t\t/**\n\t\t * Removes the current selected item(s).\n\t\t *\n\t\t * @param {object} e (optional)\n\t\t * @returns {boolean}\n\t\t */\n\t\tdeleteSelection: function(e) {\n\t\t\tvar i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tdirection = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.$activeOption && !self.settings.hideSelected) {\n\t\t\t\toption_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n\t\t\t}\n\t\n\t\t\t// determine items that will be removed\n\t\t\tvalues = [];\n\t\n\t\t\tif (self.$activeItems.length) {\n\t\t\t\t$tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n\t\t\t\tcaret = self.$control.children(':not(input)').index($tail);\n\t\t\t\tif (direction > 0) { caret++; }\n\t\n\t\t\t\tfor (i = 0, n = self.$activeItems.length; i < n; i++) {\n\t\t\t\t\tvalues.push($(self.$activeItems[i]).attr('data-value'));\n\t\t\t\t}\n\t\t\t\tif (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\t\tif (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos - 1]);\n\t\t\t\t} else if (direction > 0 && selection.start === self.$control_input.val().length) {\n\t\t\t\t\tvalues.push(self.items[self.caretPos]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// allow the callback to abort\n\t\t\tif (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// perform removal\n\t\t\tif (typeof caret !== 'undefined') {\n\t\t\t\tself.setCaret(caret);\n\t\t\t}\n\t\t\twhile (values.length) {\n\t\t\t\tself.removeItem(values.pop());\n\t\t\t}\n\t\n\t\t\tself.showInput();\n\t\t\tself.positionDropdown();\n\t\t\tself.refreshOptions(true);\n\t\n\t\t\t// select previous option\n\t\t\tif (option_select) {\n\t\t\t\t$option_select = self.getOption(option_select);\n\t\t\t\tif ($option_select.length) {\n\t\t\t\t\tself.setActiveOption($option_select);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t},\n\t\n\t\t/**\n\t\t * Selects the previous / next item (depending\n\t\t * on the `direction` argument).\n\t\t *\n\t\t * > 0 - right\n\t\t * < 0 - left\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceSelection: function(direction, e) {\n\t\t\tvar tail, selection, idx, valueLength, cursorAtEdge, $tail;\n\t\t\tvar self = this;\n\t\n\t\t\tif (direction === 0) return;\n\t\t\tif (self.rtl) direction *= -1;\n\t\n\t\t\ttail = direction > 0 ? 'last' : 'first';\n\t\t\tselection = getSelection(self.$control_input[0]);\n\t\n\t\t\tif (self.isFocused && !self.isInputHidden) {\n\t\t\t\tvalueLength = self.$control_input.val().length;\n\t\t\t\tcursorAtEdge = direction < 0\n\t\t\t\t\t? selection.start === 0 && selection.length === 0\n\t\t\t\t\t: selection.start === valueLength;\n\t\n\t\t\t\tif (cursorAtEdge && !valueLength) {\n\t\t\t\t\tself.advanceCaret(direction, e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$tail = self.$control.children('.active:' + tail);\n\t\t\t\tif ($tail.length) {\n\t\t\t\t\tidx = self.$control.children(':not(input)').index($tail);\n\t\t\t\t\tself.setActiveItem(null);\n\t\t\t\t\tself.setCaret(direction > 0 ? idx + 1 : idx);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret left / right.\n\t\t *\n\t\t * @param {int} direction\n\t\t * @param {object} e (optional)\n\t\t */\n\t\tadvanceCaret: function(direction, e) {\n\t\t\tvar self = this, fn, $adj;\n\t\n\t\t\tif (direction === 0) return;\n\t\n\t\t\tfn = direction > 0 ? 'next' : 'prev';\n\t\t\tif (self.isShiftDown) {\n\t\t\t\t$adj = self.$control_input[fn]();\n\t\t\t\tif ($adj.length) {\n\t\t\t\t\tself.hideInput();\n\t\t\t\t\tself.setActiveItem($adj);\n\t\t\t\t\te && e.preventDefault();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.setCaret(self.caretPos + direction);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Moves the caret to the specified index.\n\t\t *\n\t\t * @param {int} i\n\t\t */\n\t\tsetCaret: function(i) {\n\t\t\tvar self = this;\n\t\n\t\t\tif (self.settings.mode === 'single') {\n\t\t\t\ti = self.items.length;\n\t\t\t} else {\n\t\t\t\ti = Math.max(0, Math.min(self.items.length, i));\n\t\t\t}\n\t\n\t\t\tif(!self.isPending) {\n\t\t\t\t// the input must be moved by leaving it in place and moving the\n\t\t\t\t// siblings, due to the fact that focus cannot be restored once lost\n\t\t\t\t// on mobile webkit devices\n\t\t\t\tvar j, n, fn, $children, $child;\n\t\t\t\t$children = self.$control.children(':not(input)');\n\t\t\t\tfor (j = 0, n = $children.length; j < n; j++) {\n\t\t\t\t\t$child = $($children[j]).detach();\n\t\t\t\t\tif (j <  i) {\n\t\t\t\t\t\tself.$control_input.before($child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$control.append($child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tself.caretPos = i;\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control. Used while\n\t\t * items are being asynchronously created.\n\t\t */\n\t\tlock: function() {\n\t\t\tthis.close();\n\t\t\tthis.isLocked = true;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Re-enables user input on the control.\n\t\t */\n\t\tunlock: function() {\n\t\t\tthis.isLocked = false;\n\t\t\tthis.refreshState();\n\t\t},\n\t\n\t\t/**\n\t\t * Disables user input on the control completely.\n\t\t * While disabled, it cannot receive focus.\n\t\t */\n\t\tdisable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', true);\n\t\t\tself.$control_input.prop('disabled', true).prop('tabindex', -1);\n\t\t\tself.isDisabled = true;\n\t\t\tself.lock();\n\t\t},\n\t\n\t\t/**\n\t\t * Enables the control so that it can respond\n\t\t * to focus and user input.\n\t\t */\n\t\tenable: function() {\n\t\t\tvar self = this;\n\t\t\tself.$input.prop('disabled', false);\n\t\t\tself.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n\t\t\tself.isDisabled = false;\n\t\t\tself.unlock();\n\t\t},\n\t\n\t\t/**\n\t\t * Completely destroys the control and\n\t\t * unbinds all event listeners so that it can\n\t\t * be garbage collected.\n\t\t */\n\t\tdestroy: function() {\n\t\t\tvar self = this;\n\t\t\tvar eventNS = self.eventNS;\n\t\t\tvar revertSettings = self.revertSettings;\n\t\n\t\t\tself.trigger('destroy');\n\t\t\tself.off();\n\t\t\tself.$wrapper.remove();\n\t\t\tself.$dropdown.remove();\n\t\n\t\t\tself.$input\n\t\t\t\t.html('')\n\t\t\t\t.append(revertSettings.$children)\n\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t.removeClass('selectized')\n\t\t\t\t.attr({tabindex: revertSettings.tabindex})\n\t\t\t\t.show();\n\t\n\t\t\tself.$control_input.removeData('grow');\n\t\t\tself.$input.removeData('selectize');\n\t\n\t\t\t$(window).off(eventNS);\n\t\t\t$(document).off(eventNS);\n\t\t\t$(document.body).off(eventNS);\n\t\n\t\t\tdelete self.$input[0].selectize;\n\t\t},\n\t\n\t\t/**\n\t\t * A helper method for rendering \"item\" and\n\t\t * \"option\" templates, given the data.\n\t\t *\n\t\t * @param {string} templateName\n\t\t * @param {object} data\n\t\t * @returns {string}\n\t\t */\n\t\trender: function(templateName, data) {\n\t\t\tvar value, id, label;\n\t\t\tvar html = '';\n\t\t\tvar cache = false;\n\t\t\tvar self = this;\n\t\t\tvar regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\t\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\tvalue = hash_key(data[self.settings.valueField]);\n\t\t\t\tcache = !!value;\n\t\t\t}\n\t\n\t\t\t// pull markup from cache if it exists\n\t\t\tif (cache) {\n\t\t\t\tif (!isset(self.renderCache[templateName])) {\n\t\t\t\t\tself.renderCache[templateName] = {};\n\t\t\t\t}\n\t\t\t\tif (self.renderCache[templateName].hasOwnProperty(value)) {\n\t\t\t\t\treturn self.renderCache[templateName][value];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// render markup\n\t\t\thtml = $(self.settings.render[templateName].apply(this, [data, escape_html]));\n\t\n\t\t\t// add mandatory attributes\n\t\t\tif (templateName === 'option' || templateName === 'option_create') {\n\t\t\t\thtml.attr('data-selectable', '');\n\t\t\t}\n\t\t\telse if (templateName === 'optgroup') {\n\t\t\t\tid = data[self.settings.optgroupValueField] || '';\n\t\t\t\thtml.attr('data-group', id);\n\t\t\t}\n\t\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\t\thtml.attr('data-value', value || '');\n\t\t\t}\n\t\n\t\t\t// update cache\n\t\t\tif (cache) {\n\t\t\t\tself.renderCache[templateName][value] = html[0];\n\t\t\t}\n\t\n\t\t\treturn html[0];\n\t\t},\n\t\n\t\t/**\n\t\t * Clears the render cache for a template. If\n\t\t * no template is given, clears all render\n\t\t * caches.\n\t\t *\n\t\t * @param {string} templateName\n\t\t */\n\t\tclearCache: function(templateName) {\n\t\t\tvar self = this;\n\t\t\tif (typeof templateName === 'undefined') {\n\t\t\t\tself.renderCache = {};\n\t\t\t} else {\n\t\t\t\tdelete self.renderCache[templateName];\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t\t * Determines whether or not to display the\n\t\t * create item prompt, given a user input.\n\t\t *\n\t\t * @param {string} input\n\t\t * @return {boolean}\n\t\t */\n\t\tcanCreate: function(input) {\n\t\t\tvar self = this;\n\t\t\tif (!self.settings.create) return false;\n\t\t\tvar filter = self.settings.createFilter;\n\t\t\treturn input.length\n\t\t\t\t&& (typeof filter !== 'function' || filter.apply(self, [input]))\n\t\t\t\t&& (typeof filter !== 'string' || new RegExp(filter).test(input))\n\t\t\t\t&& (!(filter instanceof RegExp) || filter.test(input));\n\t\t}\n\t\n\t});\n\t\n\t\n\tSelectize.count = 0;\n\tSelectize.defaults = {\n\t\toptions: [],\n\t\toptgroups: [],\n\t\n\t\tplugins: [],\n\t\tdelimiter: ',',\n\t\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\t\tpersist: true,\n\t\tdiacritics: true,\n\t\tcreate: false,\n\t\tcreateOnBlur: false,\n\t\tcreateFilter: null,\n\t\thighlight: true,\n\t\topenOnFocus: true,\n\t\tmaxOptions: 1000,\n\t\tmaxItems: null,\n\t\thideSelected: null,\n\t\taddPrecedence: false,\n\t\tselectOnTab: false,\n\t\tpreload: false,\n\t\tallowEmptyOption: false,\n\t\tcloseAfterSelect: false,\n\t\n\t\tscrollDuration: 60,\n\t\tloadThrottle: 300,\n\t\tloadingClass: 'loading',\n\t\n\t\tdataAttr: 'data-data',\n\t\toptgroupField: 'optgroup',\n\t\tvalueField: 'value',\n\t\tlabelField: 'text',\n\t\toptgroupLabelField: 'label',\n\t\toptgroupValueField: 'value',\n\t\tlockOptgroupOrder: false,\n\t\n\t\tsortField: '$order',\n\t\tsearchField: ['text'],\n\t\tsearchConjunction: 'and',\n\t\n\t\tmode: null,\n\t\twrapperClass: 'selectize-control',\n\t\tinputClass: 'selectize-input',\n\t\tdropdownClass: 'selectize-dropdown',\n\t\tdropdownContentClass: 'selectize-dropdown-content',\n\t\n\t\tdropdownParent: null,\n\t\n\t\tcopyClassesToDropdown: true,\n\t\n\t\t/*\n\t\tload                 : null, // function(query, callback) { ... }\n\t\tscore                : null, // function(search) { ... }\n\t\tonInitialize         : null, // function() { ... }\n\t\tonChange             : null, // function(value) { ... }\n\t\tonItemAdd            : null, // function(value, $item) { ... }\n\t\tonItemRemove         : null, // function(value) { ... }\n\t\tonClear              : null, // function() { ... }\n\t\tonOptionAdd          : null, // function(value, data) { ... }\n\t\tonOptionRemove       : null, // function(value) { ... }\n\t\tonOptionClear        : null, // function() { ... }\n\t\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\t\tonOptionGroupRemove  : null, // function(id) { ... }\n\t\tonOptionGroupClear   : null, // function() { ... }\n\t\tonDropdownOpen       : null, // function($dropdown) { ... }\n\t\tonDropdownClose      : null, // function($dropdown) { ... }\n\t\tonType               : null, // function(str) { ... }\n\t\tonDelete             : null, // function(values) { ... }\n\t\t*/\n\t\n\t\trender: {\n\t\t\t/*\n\t\t\titem: null,\n\t\t\toptgroup: null,\n\t\t\toptgroup_header: null,\n\t\t\toption: null,\n\t\t\toption_create: null\n\t\t\t*/\n\t\t}\n\t};\n\t\n\t\n\t$.fn.selectize = function(settings_user) {\n\t\tvar defaults             = $.fn.selectize.defaults;\n\t\tvar settings             = $.extend({}, defaults, settings_user);\n\t\tvar attr_data            = settings.dataAttr;\n\t\tvar field_label          = settings.labelField;\n\t\tvar field_value          = settings.valueField;\n\t\tvar field_optgroup       = settings.optgroupField;\n\t\tvar field_optgroup_label = settings.optgroupLabelField;\n\t\tvar field_optgroup_value = settings.optgroupValueField;\n\t\n\t\t/**\n\t\t * Initializes selectize from a <input type=\"text\"> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_textbox = function($input, settings_element) {\n\t\t\tvar i, n, values, option;\n\t\n\t\t\tvar data_raw = $input.attr(attr_data);\n\t\n\t\t\tif (!data_raw) {\n\t\t\t\tvar value = $.trim($input.val() || '');\n\t\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\t\tvalues = value.split(settings.delimiter);\n\t\t\t\tfor (i = 0, n = values.length; i < n; i++) {\n\t\t\t\t\toption = {};\n\t\t\t\t\toption[field_label] = values[i];\n\t\t\t\t\toption[field_value] = values[i];\n\t\t\t\t\tsettings_element.options.push(option);\n\t\t\t\t}\n\t\t\t\tsettings_element.items = values;\n\t\t\t} else {\n\t\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\t\tfor (i = 0, n = settings_element.options.length; i < n; i++) {\n\t\t\t\t\tsettings_element.items.push(settings_element.options[i][field_value]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\t/**\n\t\t * Initializes selectize from a <select> element.\n\t\t *\n\t\t * @param {object} $input\n\t\t * @param {object} settings_element\n\t\t */\n\t\tvar init_select = function($input, settings_element) {\n\t\t\tvar i, n, tagName, $children, order = 0;\n\t\t\tvar options = settings_element.options;\n\t\t\tvar optionsMap = {};\n\t\n\t\t\tvar readData = function($el) {\n\t\t\t\tvar data = attr_data && $el.attr(attr_data);\n\t\t\t\tif (typeof data === 'string' && data.length) {\n\t\t\t\t\treturn JSON.parse(data);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t};\n\t\n\t\t\tvar addOption = function($option, group) {\n\t\t\t\t$option = $($option);\n\t\n\t\t\t\tvar value = hash_key($option.val());\n\t\t\t\tif (!value && !settings.allowEmptyOption) return;\n\t\n\t\t\t\t// if the option already exists, it's probably been\n\t\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t\t// existing option so that it's rendered in both places.\n\t\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t\t} else if (!$.isArray(arr)) {\n\t\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar option             = readData($option) || {};\n\t\t\t\toption[field_label]    = option[field_label] || $option.text();\n\t\t\t\toption[field_value]    = option[field_value] || value;\n\t\t\t\toption[field_optgroup] = option[field_optgroup] || group;\n\t\n\t\t\t\toptionsMap[value] = option;\n\t\t\t\toptions.push(option);\n\t\n\t\t\t\tif ($option.is(':selected')) {\n\t\t\t\t\tsettings_element.items.push(value);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tvar addGroup = function($optgroup) {\n\t\t\t\tvar i, n, id, optgroup, $options;\n\t\n\t\t\t\t$optgroup = $($optgroup);\n\t\t\t\tid = $optgroup.attr('label');\n\t\n\t\t\t\tif (id) {\n\t\t\t\t\toptgroup = readData($optgroup) || {};\n\t\t\t\t\toptgroup[field_optgroup_label] = id;\n\t\t\t\t\toptgroup[field_optgroup_value] = id;\n\t\t\t\t\tsettings_element.optgroups.push(optgroup);\n\t\t\t\t}\n\t\n\t\t\t\t$options = $('option', $optgroup);\n\t\t\t\tfor (i = 0, n = $options.length; i < n; i++) {\n\t\t\t\t\taddOption($options[i], id);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tsettings_element.maxItems = $input.attr('multiple') ? null : 1;\n\t\n\t\t\t$children = $input.children();\n\t\t\tfor (i = 0, n = $children.length; i < n; i++) {\n\t\t\t\ttagName = $children[i].tagName.toLowerCase();\n\t\t\t\tif (tagName === 'optgroup') {\n\t\t\t\t\taddGroup($children[i]);\n\t\t\t\t} else if (tagName === 'option') {\n\t\t\t\t\taddOption($children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\treturn this.each(function() {\n\t\t\tif (this.selectize) return;\n\t\n\t\t\tvar instance;\n\t\t\tvar $input = $(this);\n\t\t\tvar tag_name = this.tagName.toLowerCase();\n\t\t\tvar placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n\t\t\tif (!placeholder && !settings.allowEmptyOption) {\n\t\t\t\tplaceholder = $input.children('option[value=\"\"]').text();\n\t\t\t}\n\t\n\t\t\tvar settings_element = {\n\t\t\t\t'placeholder' : placeholder,\n\t\t\t\t'options'     : [],\n\t\t\t\t'optgroups'   : [],\n\t\t\t\t'items'       : []\n\t\t\t};\n\t\n\t\t\tif (tag_name === 'select') {\n\t\t\t\tinit_select($input, settings_element);\n\t\t\t} else {\n\t\t\t\tinit_textbox($input, settings_element);\n\t\t\t}\n\t\n\t\t\tinstance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n\t\t});\n\t};\n\t\n\t$.fn.selectize.defaults = Selectize.defaults;\n\t$.fn.selectize.support = {\n\t\tvalidity: SUPPORTS_VALIDITY_API\n\t};\n\t\n\t\n\tSelectize.define('drag_drop', function(options) {\n\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\tif (this.settings.mode !== 'multi') return;\n\t\tvar self = this;\n\t\n\t\tself.lock = (function() {\n\t\t\tvar original = self.lock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.unlock = (function() {\n\t\t\tvar original = self.unlock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(this, arguments);\n\t\n\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t},\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('dropdown_header', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\ttitle         : 'Untitled',\n\t\t\theaderClass   : 'selectize-dropdown-header',\n\t\t\ttitleRowClass : 'selectize-dropdown-header-title',\n\t\t\tlabelClass    : 'selectize-dropdown-header-label',\n\t\t\tcloseClass    : 'selectize-dropdown-header-close',\n\t\n\t\t\thtml: function(data) {\n\t\t\t\treturn (\n\t\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t'</div>'\n\t\t\t\t);\n\t\t\t}\n\t\t}, options);\n\t\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(self, arguments);\n\t\t\t\tself.$dropdown_header = $(options.html(options));\n\t\t\t\tself.$dropdown.prepend(self.$dropdown_header);\n\t\t\t};\n\t\t})();\n\t\n\t});\n\t\n\tSelectize.define('optgroup_columns', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions = $.extend({\n\t\t\tequalizeWidth  : true,\n\t\t\tequalizeHeight : true\n\t\t}, options);\n\t\n\t\tthis.getAdjacentOption = function($option, direction) {\n\t\t\tvar $options = $option.closest('[data-group]').find('[data-selectable]');\n\t\t\tvar index    = $options.index($option) + direction;\n\t\n\t\t\treturn index >= 0 && index < $options.length ? $options.eq(index) : $();\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, $option, $options, $optgroup;\n\t\n\t\t\t\tif (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n\t\t\t\t\tself.ignoreHover = true;\n\t\t\t\t\t$optgroup = this.$activeOption.closest('[data-group]');\n\t\t\t\t\tindex = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\t\n\t\t\t\t\tif(e.keyCode === KEY_LEFT) {\n\t\t\t\t\t\t$optgroup = $optgroup.prev('[data-group]');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$optgroup = $optgroup.next('[data-group]');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t$options = $optgroup.find('[data-selectable]');\n\t\t\t\t\t$option  = $options.eq(Math.min($options.length - 1, index));\n\t\t\t\t\tif ($option.length) {\n\t\t\t\t\t\tthis.setActiveOption($option);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t\n\t\tvar getScrollbarWidth = function() {\n\t\t\tvar div;\n\t\t\tvar width = getScrollbarWidth.width;\n\t\t\tvar doc = document;\n\t\n\t\t\tif (typeof width === 'undefined') {\n\t\t\t\tdiv = doc.createElement('div');\n\t\t\t\tdiv.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n\t\t\t\tdiv = div.firstChild;\n\t\t\t\tdoc.body.appendChild(div);\n\t\t\t\twidth = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n\t\t\t\tdoc.body.removeChild(div);\n\t\t\t}\n\t\t\treturn width;\n\t\t};\n\t\n\t\tvar equalizeSizes = function() {\n\t\t\tvar i, n, height_max, width, width_last, width_parent, $optgroups;\n\t\n\t\t\t$optgroups = $('[data-group]', self.$dropdown_content);\n\t\t\tn = $optgroups.length;\n\t\t\tif (!n || !self.$dropdown_content.width()) return;\n\t\n\t\t\tif (options.equalizeHeight) {\n\t\t\t\theight_max = 0;\n\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\theight_max = Math.max(height_max, $optgroups.eq(i).height());\n\t\t\t\t}\n\t\t\t\t$optgroups.css({height: height_max});\n\t\t\t}\n\t\n\t\t\tif (options.equalizeWidth) {\n\t\t\t\twidth_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n\t\t\t\twidth = Math.round(width_parent / n);\n\t\t\t\t$optgroups.css({width: width});\n\t\t\t\tif (n > 1) {\n\t\t\t\t\twidth_last = width_parent - width * (n - 1);\n\t\t\t\t\t$optgroups.eq(n - 1).css({width: width_last});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tif (options.equalizeHeight || options.equalizeWidth) {\n\t\t\thook.after(this, 'positionDropdown', equalizeSizes);\n\t\t\thook.after(this, 'refreshOptions', equalizeSizes);\n\t\t}\n\t\n\t\n\t});\n\t\n\tSelectize.define('remove_button', function(options) {\n\t\toptions = $.extend({\n\t\t\t\tlabel     : '&times;',\n\t\t\t\ttitle     : 'Remove',\n\t\t\t\tclassName : 'remove',\n\t\t\t\tappend    : true\n\t\t\t}, options);\n\t\n\t\t\tvar singleClose = function(thisRef, options) {\n\t\n\t\t\t\toptions.className = 'remove-single';\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\treturn html_container + html_element;\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\t\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tvar multiClose = function(thisRef, options) {\n\t\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t};\n\t\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\t\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\t\n\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\t\n\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\tsingleClose(this, options);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tmultiClose(this, options);\n\t\t\t}\n\t});\n\t\n\t\n\tSelectize.define('restore_on_backspace', function(options) {\n\t\tvar self = this;\n\t\n\t\toptions.text = options.text || function(option) {\n\t\t\treturn option[this.settings.labelField];\n\t\t};\n\t\n\t\tthis.onKeyDown = (function() {\n\t\t\tvar original = self.onKeyDown;\n\t\t\treturn function(e) {\n\t\t\t\tvar index, option;\n\t\t\t\tif (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n\t\t\t\t\tindex = this.caretPos - 1;\n\t\t\t\t\tif (index >= 0 && index < this.items.length) {\n\t\t\t\t\t\toption = this.options[this.items[index]];\n\t\t\t\t\t\tif (this.deleteSelection(e)) {\n\t\t\t\t\t\t\tthis.setTextboxValue(options.text.apply(this, [option]));\n\t\t\t\t\t\t\tthis.refreshOptions(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn original.apply(this, arguments);\n\t\t\t};\n\t\t})();\n\t});\n\t\n\n\treturn Selectize;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/selectize/dist/js/selectize.js\n// module id = 18\n// module chunks = 0","/**\n * sifter.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.Sifter = factory();\n\t}\n}(this, function() {\n\n\t/**\n\t * Textually searches arrays and hashes of objects\n\t * by property (or multiple properties). Designed\n\t * specifically for autocomplete.\n\t *\n\t * @constructor\n\t * @param {array|object} items\n\t * @param {object} items\n\t */\n\tvar Sifter = function(items, settings) {\n\t\tthis.items = items;\n\t\tthis.settings = settings || {diacritics: true};\n\t};\n\n\t/**\n\t * Splits a search string into an array of individual\n\t * regexps to be used to match results.\n\t *\n\t * @param {string} query\n\t * @returns {array}\n\t */\n\tSifter.prototype.tokenize = function(query) {\n\t\tquery = trim(String(query || '').toLowerCase());\n\t\tif (!query || !query.length) return [];\n\n\t\tvar i, n, regex, letter;\n\t\tvar tokens = [];\n\t\tvar words = query.split(/ +/);\n\n\t\tfor (i = 0, n = words.length; i < n; i++) {\n\t\t\tregex = escape_regex(words[i]);\n\t\t\tif (this.settings.diacritics) {\n\t\t\t\tfor (letter in DIACRITICS) {\n\t\t\t\t\tif (DIACRITICS.hasOwnProperty(letter)) {\n\t\t\t\t\t\tregex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttokens.push({\n\t\t\t\tstring : words[i],\n\t\t\t\tregex  : new RegExp(regex, 'i')\n\t\t\t});\n\t\t}\n\n\t\treturn tokens;\n\t};\n\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * this.iterator(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t * @param {array|object} object\n\t */\n\tSifter.prototype.iterator = function(object, callback) {\n\t\tvar iterator;\n\t\tif (is_array(object)) {\n\t\t\titerator = Array.prototype.forEach || function(callback) {\n\t\t\t\tfor (var i = 0, n = this.length; i < n; i++) {\n\t\t\t\t\tcallback(this[i], i, this);\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\titerator = function(callback) {\n\t\t\t\tfor (var key in this) {\n\t\t\t\t\tif (this.hasOwnProperty(key)) {\n\t\t\t\t\t\tcallback(this[key], key, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\titerator.apply(object, [callback]);\n\t};\n\n\t/**\n\t * Returns a function to be used to score individual results.\n\t *\n\t * Good matches will have a higher score than poor matches.\n\t * If an item is not a match, 0 will be returned by the function.\n\t *\n\t * @param {object|string} search\n\t * @param {object} options (optional)\n\t * @returns {function}\n\t */\n\tSifter.prototype.getScoreFunction = function(search, options) {\n\t\tvar self, fields, tokens, token_count, nesting;\n\n\t\tself        = this;\n\t\tsearch      = self.prepareSearch(search, options);\n\t\ttokens      = search.tokens;\n\t\tfields      = search.options.fields;\n\t\ttoken_count = tokens.length;\n\t\tnesting     = search.options.nesting;\n\n\t\t/**\n\t\t * Calculates how close of a match the\n\t\t * given value is against a search token.\n\t\t *\n\t\t * @param {mixed} value\n\t\t * @param {object} token\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreValue = function(value, token) {\n\t\t\tvar score, pos;\n\n\t\t\tif (!value) return 0;\n\t\t\tvalue = String(value || '');\n\t\t\tpos = value.search(token.regex);\n\t\t\tif (pos === -1) return 0;\n\t\t\tscore = token.string.length / value.length;\n\t\t\tif (pos === 0) score += 0.5;\n\t\t\treturn score;\n\t\t};\n\n\t\t/**\n\t\t * Calculates the score of an object\n\t\t * against the search query.\n\t\t *\n\t\t * @param {object} token\n\t\t * @param {object} data\n\t\t * @return {number}\n\t\t */\n\t\tvar scoreObject = (function() {\n\t\t\tvar field_count = fields.length;\n\t\t\tif (!field_count) {\n\t\t\t\treturn function() { return 0; };\n\t\t\t}\n\t\t\tif (field_count === 1) {\n\t\t\t\treturn function(token, data) {\n\t\t\t\t\treturn scoreValue(getattr(data, fields[0], nesting), token);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn function(token, data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < field_count; i++) {\n\t\t\t\t\tsum += scoreValue(getattr(data, fields[i], nesting), token);\n\t\t\t\t}\n\t\t\t\treturn sum / field_count;\n\t\t\t};\n\t\t})();\n\n\t\tif (!token_count) {\n\t\t\treturn function() { return 0; };\n\t\t}\n\t\tif (token_count === 1) {\n\t\t\treturn function(data) {\n\t\t\t\treturn scoreObject(tokens[0], data);\n\t\t\t};\n\t\t}\n\n\t\tif (search.options.conjunction === 'and') {\n\t\t\treturn function(data) {\n\t\t\t\tvar score;\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tscore = scoreObject(tokens[i], data);\n\t\t\t\t\tif (score <= 0) return 0;\n\t\t\t\t\tsum += score;\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(data) {\n\t\t\t\tfor (var i = 0, sum = 0; i < token_count; i++) {\n\t\t\t\t\tsum += scoreObject(tokens[i], data);\n\t\t\t\t}\n\t\t\t\treturn sum / token_count;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Returns a function that can be used to compare two\n\t * results, for sorting purposes. If no sorting should\n\t * be performed, `null` will be returned.\n\t *\n\t * @param {string|object} search\n\t * @param {object} options\n\t * @return function(a,b)\n\t */\n\tSifter.prototype.getSortFunction = function(search, options) {\n\t\tvar i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\n\t\tself   = this;\n\t\tsearch = self.prepareSearch(search, options);\n\t\tsort   = (!search.query && options.sort_empty) || options.sort;\n\n\t\t/**\n\t\t * Fetches the specified sort field value\n\t\t * from a search result item.\n\t\t *\n\t\t * @param  {string} name\n\t\t * @param  {object} result\n\t\t * @return {mixed}\n\t\t */\n\t\tget_field = function(name, result) {\n\t\t\tif (name === '$score') return result.score;\n\t\t\treturn getattr(self.items[result.id], name, options.nesting);\n\t\t};\n\n\t\t// parse options\n\t\tfields = [];\n\t\tif (sort) {\n\t\t\tfor (i = 0, n = sort.length; i < n; i++) {\n\t\t\t\tif (search.query || sort[i].field !== '$score') {\n\t\t\t\t\tfields.push(sort[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// the \"$score\" field is implied to be the primary\n\t\t// sort field, unless it's manually specified\n\t\tif (search.query) {\n\t\t\timplicit_score = true;\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\timplicit_score = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (implicit_score) {\n\t\t\t\tfields.unshift({field: '$score', direction: 'desc'});\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\t\tif (fields[i].field === '$score') {\n\t\t\t\t\tfields.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmultipliers = [];\n\t\tfor (i = 0, n = fields.length; i < n; i++) {\n\t\t\tmultipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n\t\t}\n\n\t\t// build function\n\t\tfields_count = fields.length;\n\t\tif (!fields_count) {\n\t\t\treturn null;\n\t\t} else if (fields_count === 1) {\n\t\t\tfield = fields[0].field;\n\t\t\tmultiplier = multipliers[0];\n\t\t\treturn function(a, b) {\n\t\t\t\treturn multiplier * cmp(\n\t\t\t\t\tget_field(field, a),\n\t\t\t\t\tget_field(field, b)\n\t\t\t\t);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(a, b) {\n\t\t\t\tvar i, result, a_value, b_value, field;\n\t\t\t\tfor (i = 0; i < fields_count; i++) {\n\t\t\t\t\tfield = fields[i].field;\n\t\t\t\t\tresult = multipliers[i] * cmp(\n\t\t\t\t\t\tget_field(field, a),\n\t\t\t\t\t\tget_field(field, b)\n\t\t\t\t\t);\n\t\t\t\t\tif (result) return result;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\t\t}\n\t};\n\n\t/**\n\t * Parses a search query and returns an object\n\t * with tokens and fields ready to be populated\n\t * with results.\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.prepareSearch = function(query, options) {\n\t\tif (typeof query === 'object') return query;\n\n\t\toptions = extend({}, options);\n\n\t\tvar option_fields     = options.fields;\n\t\tvar option_sort       = options.sort;\n\t\tvar option_sort_empty = options.sort_empty;\n\n\t\tif (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n\t\tif (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n\t\tif (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\n\t\treturn {\n\t\t\toptions : options,\n\t\t\tquery   : String(query || '').toLowerCase(),\n\t\t\ttokens  : this.tokenize(query),\n\t\t\ttotal   : 0,\n\t\t\titems   : []\n\t\t};\n\t};\n\n\t/**\n\t * Searches through all items and returns a sorted array of matches.\n\t *\n\t * The `options` parameter can contain:\n\t *\n\t *   - fields {string|array}\n\t *   - sort {array}\n\t *   - score {function}\n\t *   - filter {bool}\n\t *   - limit {integer}\n\t *\n\t * Returns an object containing:\n\t *\n\t *   - options {object}\n\t *   - query {string}\n\t *   - tokens {array}\n\t *   - total {int}\n\t *   - items {array}\n\t *\n\t * @param {string} query\n\t * @param {object} options\n\t * @returns {object}\n\t */\n\tSifter.prototype.search = function(query, options) {\n\t\tvar self = this, value, score, search, calculateScore;\n\t\tvar fn_sort;\n\t\tvar fn_score;\n\n\t\tsearch  = this.prepareSearch(query, options);\n\t\toptions = search.options;\n\t\tquery   = search.query;\n\n\t\t// generate result scoring function\n\t\tfn_score = options.score || self.getScoreFunction(search);\n\n\t\t// perform search and sort\n\t\tif (query.length) {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tscore = fn_score(item);\n\t\t\t\tif (options.filter === false || score > 0) {\n\t\t\t\t\tsearch.items.push({'score': score, 'id': id});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tself.iterator(self.items, function(item, id) {\n\t\t\t\tsearch.items.push({'score': 1, 'id': id});\n\t\t\t});\n\t\t}\n\n\t\tfn_sort = self.getSortFunction(search, options);\n\t\tif (fn_sort) search.items.sort(fn_sort);\n\n\t\t// apply limits\n\t\tsearch.total = search.items.length;\n\t\tif (typeof options.limit === 'number') {\n\t\t\tsearch.items = search.items.slice(0, options.limit);\n\t\t}\n\n\t\treturn search;\n\t};\n\n\t// utilities\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\tvar cmp = function(a, b) {\n\t\tif (typeof a === 'number' && typeof b === 'number') {\n\t\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t\t}\n\t\ta = asciifold(String(a || ''));\n\t\tb = asciifold(String(b || ''));\n\t\tif (a > b) return 1;\n\t\tif (b > a) return -1;\n\t\treturn 0;\n\t};\n\n\tvar extend = function(a, b) {\n\t\tvar i, n, k, object;\n\t\tfor (i = 1, n = arguments.length; i < n; i++) {\n\t\t\tobject = arguments[i];\n\t\t\tif (!object) continue;\n\t\t\tfor (k in object) {\n\t\t\t\tif (object.hasOwnProperty(k)) {\n\t\t\t\t\ta[k] = object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t};\n\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @param  {Boolean} nesting Handle nesting or not\n\t * @return {Object}          The resolved property value\n\t */\n\tvar getattr = function(obj, name, nesting) {\n\t    if (!obj || !name) return;\n\t    if (!nesting) return obj[name];\n\t    var names = name.split(\".\");\n\t    while(names.length && (obj = obj[names.shift()]));\n\t    return obj;\n\t};\n\n\tvar trim = function(str) {\n\t\treturn (str + '').replace(/^\\s+|\\s+$|/g, '');\n\t};\n\n\tvar escape_regex = function(str) {\n\t\treturn (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t};\n\n\tvar is_array = Array.isArray || (typeof $ !== 'undefined' && $.isArray) || function(object) {\n\t\treturn Object.prototype.toString.call(object) === '[object Array]';\n\t};\n\n\tvar DIACRITICS = {\n\t\t'a': '[a]',\n\t\t'b': '[bB]',\n\t\t'c': '[cCc]',\n\t\t'd': '[dDd]',\n\t\t'e': '[e]',\n\t\t'f': '[f]',\n\t\t'g': '[g]',\n\t\t'h': '[h]',\n\t\t'i': '[iiI]',\n\t\t'j': '[j]',\n\t\t'k': '[k]',\n\t\t'l': '[l]',\n\t\t'n': '[nNn]',\n\t\t'o': '[o]',\n\t\t'p': '[p]',\n\t\t'q': '[qq]',\n\t\t'r': '[r]',\n\t\t's': '[sSs]',\n\t\t't': '[t]',\n\t\t'u': '[u]',\n\t\t'v': '[v]',\n\t\t'w': '[w]',\n\t\t'x': '[x]',\n\t\t'y': '[y]',\n\t\t'z': '[z]'\n\t};\n\n\tvar asciifold = (function() {\n\t\tvar i, n, k, chunk;\n\t\tvar foreignletters = '';\n\t\tvar lookup = {};\n\t\tfor (k in DIACRITICS) {\n\t\t\tif (DIACRITICS.hasOwnProperty(k)) {\n\t\t\t\tchunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n\t\t\t\tforeignletters += chunk;\n\t\t\t\tfor (i = 0, n = chunk.length; i < n; i++) {\n\t\t\t\t\tlookup[chunk.charAt(i)] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar regexp = new RegExp('[' +  foreignletters + ']', 'g');\n\t\treturn function(str) {\n\t\t\treturn str.replace(regexp, function(foreignletter) {\n\t\t\t\treturn lookup[foreignletter];\n\t\t\t}).toLowerCase();\n\t\t};\n\t})();\n\n\n\t// export\n\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\treturn Sifter;\n}));\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sifter/sifter.js\n// module id = 19\n// module chunks = 0","/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.MicroPlugin = factory();\n\t}\n}(this, function() {\n\tvar MicroPlugin = {};\n\n\tMicroPlugin.mixin = function(Interface) {\n\t\tInterface.plugins = {};\n\n\t\t/**\n\t\t * Initializes the listed plugins (with options).\n\t\t * Acceptable formats:\n\t\t *\n\t\t * List (without options):\n\t\t *   ['a', 'b', 'c']\n\t\t *\n\t\t * List (with options):\n\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t *\n\t\t * Hash (with options):\n\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t *\n\t\t * @param {mixed} plugins\n\t\t */\n\t\tInterface.prototype.initializePlugins = function(plugins) {\n\t\t\tvar i, n, key;\n\t\t\tvar self  = this;\n\t\t\tvar queue = [];\n\n\t\t\tself.plugins = {\n\t\t\t\tnames     : [],\n\t\t\t\tsettings  : {},\n\t\t\t\trequested : {},\n\t\t\t\tloaded    : {}\n\t\t\t};\n\n\t\t\tif (utils.isArray(plugins)) {\n\t\t\t\tfor (i = 0, n = plugins.length; i < n; i++) {\n\t\t\t\t\tif (typeof plugins[i] === 'string') {\n\t\t\t\t\t\tqueue.push(plugins[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.plugins.settings[plugins[i].name] = plugins[i].options;\n\t\t\t\t\t\tqueue.push(plugins[i].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (plugins) {\n\t\t\t\tfor (key in plugins) {\n\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (queue.length) {\n\t\t\t\tself.require(queue.shift());\n\t\t\t}\n\t\t};\n\n\t\tInterface.prototype.loadPlugin = function(name) {\n\t\t\tvar self    = this;\n\t\t\tvar plugins = self.plugins;\n\t\t\tvar plugin  = Interface.plugins[name];\n\n\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t}\n\n\t\t\tplugins.requested[name] = true;\n\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\tplugins.names.push(name);\n\t\t};\n\n\t\t/**\n\t\t * Initializes a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t */\n\t\tInterface.prototype.require = function(name) {\n\t\t\tvar self = this;\n\t\t\tvar plugins = self.plugins;\n\n\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t}\n\t\t\t\tself.loadPlugin(name);\n\t\t\t}\n\n\t\t\treturn plugins.loaded[name];\n\t\t};\n\n\t\t/**\n\t\t * Registers a plugin.\n\t\t *\n\t\t * @param {string} name\n\t\t * @param {function} fn\n\t\t */\n\t\tInterface.define = function(name, fn) {\n\t\t\tInterface.plugins[name] = {\n\t\t\t\t'name' : name,\n\t\t\t\t'fn'   : fn\n\t\t\t};\n\t\t};\n\t};\n\n\tvar utils = {\n\t\tisArray: Array.isArray || function(vArg) {\n\t\t\treturn Object.prototype.toString.call(vArg) === '[object Array]';\n\t\t}\n\t};\n\n\treturn MicroPlugin;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/microplugin/src/microplugin.js\n// module id = 20\n// module chunks = 0","$ = require('jquery')\r\n\r\nrequire('jquery-cycle2')\r\nrequire('jquery-cycle2/build/plugin/jquery.cycle2.carousel.min')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t# populate original index for carousels\r\n\t\t$('.box-slider--carousel .box-slider__item').each((i, obj) ->\r\n\t\t\t$(this).data('index', $(this).index())\r\n\t\t\t$(this).width( $(this).width() )\r\n\t\t)\r\n\r\n\r\n\t\t$target.find('.js-slider').each(->\r\n\t\t\t$thisBox = $(this)\r\n\t\t\t$list = $thisBox.find('.box-slider__list')\r\n\t\t\tisCarousel = $thisBox.hasClass('box-slider--carousel') # obrazkov carousel\r\n\t\t\tisPager = !!($thisBox.closest('.box-slider-pager').length) # carousel s obrzkovm strnkovn\r\n\t\t\tmakeCycle = true\r\n\r\n\t\t\tif isPager and isCarousel\r\n\t\t\t\t$list\r\n\t\t\t\t\t.find('.box-slider__item')\r\n\t\t\t\t\t.first()\r\n\t\t\t\t\t.addClass('is-active')\r\n\r\n\t\t\tif $list.find('> .box-slider__item').length < 4 &&isCarousel\r\n\t\t\t\tmakeCycle = false\r\n\t\t\t\t$thisBox.find('.box-slider__prev').addClass('is-disabled')\r\n\t\t\t\t$thisBox.find('.box-slider__next').addClass('is-disabled')\r\n\r\n\t\t\tif makeCycle\r\n\t\t\t\t$list.cycle(\r\n\t\t\t\t\tcarouselVisible: do ->\r\n\t\t\t\t\t\tif isPager\r\n\t\t\t\t\t\t\treturn 3\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tif window.matchMedia('(min-width: 1000px)').matches\r\n\t\t\t\t\t\t\t\treturn 4\r\n\t\t\t\t\t\t\telse if window.matchMedia('(min-width: 700px)').matches\r\n\t\t\t\t\t\t\t\treturn 3\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t# carouselFluid: true\r\n\t\t\t\t\tdisabledClass: 'is-disabled'\r\n\t\t\t\t\tfx: if isCarousel then 'carousel' else 'scrollHorz'\r\n\t\t\t\t\tprev: $thisBox.find('.box-slider__prev')\r\n\t\t\t\t\tnext: $thisBox.find('.box-slider__next')\r\n\t\t\t\t\tpager: $thisBox.find('.box-slider__pager')\r\n\t\t\t\t\tpagerActiveClass: 'is-active'\r\n\t\t\t\t\tpagerTemplate: '<a href=\"#\">{{slideNum}}</a>'\r\n\t\t\t\t\tslides: '> .box-slider__item'\r\n\t\t\t\t\tpaused: if $thisBox.data('timeout') then false else true\r\n\t\t\t\t\toverlayTemplate: ''\r\n\t\t\t\t\toverlay: $thisBox.find('.box-slider__overlay')\r\n\t\t\t\t\tlog: false\r\n\t\t\t\t\ttimeout: if $thisBox.data('timeout') then $thisBox.data('timeout') else 0\r\n\t\t\t\t)\r\n\r\n\t\t\t\t$list.on('cycle-update-view', (event, optionHash, slideOptionsHash, currentSlideEl) ->\r\n\t\t\t\t\t$currentSlide =  $(currentSlideEl)\r\n\t\t\t\t\toverlayTemplate = ''\r\n\r\n\t\t\t\t\tif $currentSlide.attr('data-title')\r\n\t\t\t\t\t\toverlayTemplate = overlayTemplate + '<h2 class=\"box-slider__title\">{{title}}</h2>'\r\n\r\n\t\t\t\t\tif $currentSlide.attr('data-desc')\r\n\t\t\t\t\t\toverlayTemplate = overlayTemplate + '<p>{{desc}}</p>'\r\n\r\n\t\t\t\t\tslideOptionsHash.overlayTemplate = overlayTemplate\r\n\t\t\t\t)\r\n\r\n\t\t)\r\n\r\n\t\t$target.find('.js-slider-pager').each(->\r\n\t\t\t$sliders = $(this).find('.js-slider')\r\n\t\t\t$imagesSlider = $sliders.not('.box-slider--carousel').find('.box-slider__list')\r\n\t\t\t$pagerSlider = $sliders.filter('.box-slider--carousel').find('.box-slider__list')\r\n\t\t\tmakeCycle = true\r\n\r\n\t\t\tif $pagerSlider.find('> .box-slider__item').length < 4\r\n\t\t\t\tmakeCycle = false\r\n\r\n\t\t\t$pagerItems = $pagerSlider.find('.box-slider__item')\r\n\r\n\t\t\tbyPager = false\r\n\r\n\t\t\tgetActivePagerItem = ->\r\n\t\t\t\treturn $pagerItems.filter('.is-active')\r\n\r\n\t\t\tsetActivePager = (index) ->\r\n\t\t\t\t$pagerItems.removeClass('is-active')\r\n\t\t\t\t$pagerItems\r\n\t\t\t\t\t.filter((i, obj) ->\r\n\t\t\t\t\t\treturn $(obj).data('index') is index\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.addClass('is-active')\r\n\r\n\t\t\t$imagesSlider.on('cycle-before', (event, optionHash, outgoingSlideEl, incomingSlideEl, forwardFlag) ->\r\n\t\t\t\tif byPager\r\n\t\t\t\t\tbyPager = false\r\n\t\t\t\telse\r\n\t\t\t\t\tsetActivePager(optionHash.nextSlide)\r\n\t\t\t\t\tif forwardFlag\r\n\t\t\t\t\t\t$pagerSlider.cycle('next')\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t$pagerSlider.cycle('prev')\r\n\t\t\t)\r\n\r\n\r\n\t\t\t$pagerItems.on('click', (event) ->\r\n\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t$this = $(this)\r\n\r\n\t\t\t\tbyPager = true\r\n\r\n\t\t\t\t$imagesSlider.cycle('goto', $(this).data('index'))\r\n\t\t\t\tsetActivePager($this.data('index'))\r\n\t\t\t)\r\n\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/cycle.coffee","/*!\r\n* jQuery Cycle2; version: 2.1.6 build: 20141007\r\n* http://jquery.malsup.com/cycle2/\r\n* Copyright (c) 2014 M. Alsup; Dual licensed: MIT/GPL\r\n*/\r\n\r\n/* Cycle2 core engine */\r\n;(function($) {\r\n\"use strict\";\r\n\r\nvar version = '2.1.6';\r\n\r\n$.fn.cycle = function( options ) {\r\n    // fix mistakes with the ready state\r\n    var o;\r\n    if ( this.length === 0 && !$.isReady ) {\r\n        o = { s: this.selector, c: this.context };\r\n        $.fn.cycle.log('requeuing slideshow (dom not ready)');\r\n        $(function() {\r\n            $( o.s, o.c ).cycle(options);\r\n        });\r\n        return this;\r\n    }\r\n\r\n    return this.each(function() {\r\n        var data, opts, shortName, val;\r\n        var container = $(this);\r\n        var log = $.fn.cycle.log;\r\n\r\n        if ( container.data('cycle.opts') )\r\n            return; // already initialized\r\n\r\n        if ( container.data('cycle-log') === false || \r\n            ( options && options.log === false ) ||\r\n            ( opts && opts.log === false) ) {\r\n            log = $.noop;\r\n        }\r\n\r\n        log('--c2 init--');\r\n        data = container.data();\r\n        for (var p in data) {\r\n            // allow props to be accessed sans 'cycle' prefix and log the overrides\r\n            if (data.hasOwnProperty(p) && /^cycle[A-Z]+/.test(p) ) {\r\n                val = data[p];\r\n                shortName = p.match(/^cycle(.*)/)[1].replace(/^[A-Z]/, lowerCase);\r\n                log(shortName+':', val, '('+typeof val +')');\r\n                data[shortName] = val;\r\n            }\r\n        }\r\n\r\n        opts = $.extend( {}, $.fn.cycle.defaults, data, options || {});\r\n\r\n        opts.timeoutId = 0;\r\n        opts.paused = opts.paused || false; // #57\r\n        opts.container = container;\r\n        opts._maxZ = opts.maxZ;\r\n\r\n        opts.API = $.extend ( { _container: container }, $.fn.cycle.API );\r\n        opts.API.log = log;\r\n        opts.API.trigger = function( eventName, args ) {\r\n            opts.container.trigger( eventName, args );\r\n            return opts.API;\r\n        };\r\n\r\n        container.data( 'cycle.opts', opts );\r\n        container.data( 'cycle.API', opts.API );\r\n\r\n        // opportunity for plugins to modify opts and API\r\n        opts.API.trigger('cycle-bootstrap', [ opts, opts.API ]);\r\n\r\n        opts.API.addInitialSlides();\r\n        opts.API.preInitSlideshow();\r\n\r\n        if ( opts.slides.length )\r\n            opts.API.initSlideshow();\r\n    });\r\n};\r\n\r\n$.fn.cycle.API = {\r\n    opts: function() {\r\n        return this._container.data( 'cycle.opts' );\r\n    },\r\n    addInitialSlides: function() {\r\n        var opts = this.opts();\r\n        var slides = opts.slides;\r\n        opts.slideCount = 0;\r\n        opts.slides = $(); // empty set\r\n        \r\n        // add slides that already exist\r\n        slides = slides.jquery ? slides : opts.container.find( slides );\r\n\r\n        if ( opts.random ) {\r\n            slides.sort(function() {return Math.random() - 0.5;});\r\n        }\r\n\r\n        opts.API.add( slides );\r\n    },\r\n\r\n    preInitSlideshow: function() {\r\n        var opts = this.opts();\r\n        opts.API.trigger('cycle-pre-initialize', [ opts ]);\r\n        var tx = $.fn.cycle.transitions[opts.fx];\r\n        if (tx && $.isFunction(tx.preInit))\r\n            tx.preInit( opts );\r\n        opts._preInitialized = true;\r\n    },\r\n\r\n    postInitSlideshow: function() {\r\n        var opts = this.opts();\r\n        opts.API.trigger('cycle-post-initialize', [ opts ]);\r\n        var tx = $.fn.cycle.transitions[opts.fx];\r\n        if (tx && $.isFunction(tx.postInit))\r\n            tx.postInit( opts );\r\n    },\r\n\r\n    initSlideshow: function() {\r\n        var opts = this.opts();\r\n        var pauseObj = opts.container;\r\n        var slideOpts;\r\n        opts.API.calcFirstSlide();\r\n\r\n        if ( opts.container.css('position') == 'static' )\r\n            opts.container.css('position', 'relative');\r\n\r\n        $(opts.slides[opts.currSlide]).css({\r\n            opacity: 1,\r\n            display: 'block',\r\n            visibility: 'visible'\r\n        });\r\n        opts.API.stackSlides( opts.slides[opts.currSlide], opts.slides[opts.nextSlide], !opts.reverse );\r\n\r\n        if ( opts.pauseOnHover ) {\r\n            // allow pauseOnHover to specify an element\r\n            if ( opts.pauseOnHover !== true )\r\n                pauseObj = $( opts.pauseOnHover );\r\n\r\n            pauseObj.hover(\r\n                function(){ opts.API.pause( true ); }, \r\n                function(){ opts.API.resume( true ); }\r\n            );\r\n        }\r\n\r\n        // stage initial transition\r\n        if ( opts.timeout ) {\r\n            slideOpts = opts.API.getSlideOpts( opts.currSlide );\r\n            opts.API.queueTransition( slideOpts, slideOpts.timeout + opts.delay );\r\n        }\r\n\r\n        opts._initialized = true;\r\n        opts.API.updateView( true );\r\n        opts.API.trigger('cycle-initialized', [ opts ]);\r\n        opts.API.postInitSlideshow();\r\n    },\r\n\r\n    pause: function( hover ) {\r\n        var opts = this.opts(),\r\n            slideOpts = opts.API.getSlideOpts(),\r\n            alreadyPaused = opts.hoverPaused || opts.paused;\r\n\r\n        if ( hover )\r\n            opts.hoverPaused = true; \r\n        else\r\n            opts.paused = true;\r\n\r\n        if ( ! alreadyPaused ) {\r\n            opts.container.addClass('cycle-paused');\r\n            opts.API.trigger('cycle-paused', [ opts ]).log('cycle-paused');\r\n\r\n            if ( slideOpts.timeout ) {\r\n                clearTimeout( opts.timeoutId );\r\n                opts.timeoutId = 0;\r\n                \r\n                // determine how much time is left for the current slide\r\n                opts._remainingTimeout -= ( $.now() - opts._lastQueue );\r\n                if ( opts._remainingTimeout < 0 || isNaN(opts._remainingTimeout) )\r\n                    opts._remainingTimeout = undefined;\r\n            }\r\n        }\r\n    },\r\n\r\n    resume: function( hover ) {\r\n        var opts = this.opts(),\r\n            alreadyResumed = !opts.hoverPaused && !opts.paused,\r\n            remaining;\r\n\r\n        if ( hover )\r\n            opts.hoverPaused = false; \r\n        else\r\n            opts.paused = false;\r\n\r\n    \r\n        if ( ! alreadyResumed ) {\r\n            opts.container.removeClass('cycle-paused');\r\n            // #gh-230; if an animation is in progress then don't queue a new transition; it will\r\n            // happen naturally\r\n            if ( opts.slides.filter(':animated').length === 0 )\r\n                opts.API.queueTransition( opts.API.getSlideOpts(), opts._remainingTimeout );\r\n            opts.API.trigger('cycle-resumed', [ opts, opts._remainingTimeout ] ).log('cycle-resumed');\r\n        }\r\n    },\r\n\r\n    add: function( slides, prepend ) {\r\n        var opts = this.opts();\r\n        var oldSlideCount = opts.slideCount;\r\n        var startSlideshow = false;\r\n        var len;\r\n\r\n        if ( $.type(slides) == 'string')\r\n            slides = $.trim( slides );\r\n\r\n        $( slides ).each(function(i) {\r\n            var slideOpts;\r\n            var slide = $(this);\r\n\r\n            if ( prepend )\r\n                opts.container.prepend( slide );\r\n            else\r\n                opts.container.append( slide );\r\n\r\n            opts.slideCount++;\r\n            slideOpts = opts.API.buildSlideOpts( slide );\r\n\r\n            if ( prepend )\r\n                opts.slides = $( slide ).add( opts.slides );\r\n            else\r\n                opts.slides = opts.slides.add( slide );\r\n\r\n            opts.API.initSlide( slideOpts, slide, --opts._maxZ );\r\n\r\n            slide.data('cycle.opts', slideOpts);\r\n            opts.API.trigger('cycle-slide-added', [ opts, slideOpts, slide ]);\r\n        });\r\n\r\n        opts.API.updateView( true );\r\n\r\n        startSlideshow = opts._preInitialized && (oldSlideCount < 2 && opts.slideCount >= 1);\r\n        if ( startSlideshow ) {\r\n            if ( !opts._initialized )\r\n                opts.API.initSlideshow();\r\n            else if ( opts.timeout ) {\r\n                len = opts.slides.length;\r\n                opts.nextSlide = opts.reverse ? len - 1 : 1;\r\n                if ( !opts.timeoutId ) {\r\n                    opts.API.queueTransition( opts );\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    calcFirstSlide: function() {\r\n        var opts = this.opts();\r\n        var firstSlideIndex;\r\n        firstSlideIndex = parseInt( opts.startingSlide || 0, 10 );\r\n        if (firstSlideIndex >= opts.slides.length || firstSlideIndex < 0)\r\n            firstSlideIndex = 0;\r\n\r\n        opts.currSlide = firstSlideIndex;\r\n        if ( opts.reverse ) {\r\n            opts.nextSlide = firstSlideIndex - 1;\r\n            if (opts.nextSlide < 0)\r\n                opts.nextSlide = opts.slides.length - 1;\r\n        }\r\n        else {\r\n            opts.nextSlide = firstSlideIndex + 1;\r\n            if (opts.nextSlide == opts.slides.length)\r\n                opts.nextSlide = 0;\r\n        }\r\n    },\r\n\r\n    calcNextSlide: function() {\r\n        var opts = this.opts();\r\n        var roll;\r\n        if ( opts.reverse ) {\r\n            roll = (opts.nextSlide - 1) < 0;\r\n            opts.nextSlide = roll ? opts.slideCount - 1 : opts.nextSlide-1;\r\n            opts.currSlide = roll ? 0 : opts.nextSlide+1;\r\n        }\r\n        else {\r\n            roll = (opts.nextSlide + 1) == opts.slides.length;\r\n            opts.nextSlide = roll ? 0 : opts.nextSlide+1;\r\n            opts.currSlide = roll ? opts.slides.length-1 : opts.nextSlide-1;\r\n        }\r\n    },\r\n\r\n    calcTx: function( slideOpts, manual ) {\r\n        var opts = slideOpts;\r\n        var tx;\r\n\r\n        if ( opts._tempFx )\r\n            tx = $.fn.cycle.transitions[opts._tempFx];\r\n        else if ( manual && opts.manualFx )\r\n            tx = $.fn.cycle.transitions[opts.manualFx];\r\n\r\n        if ( !tx )\r\n            tx = $.fn.cycle.transitions[opts.fx];\r\n\r\n        opts._tempFx = null;\r\n        this.opts()._tempFx = null;\r\n\r\n        if (!tx) {\r\n            tx = $.fn.cycle.transitions.fade;\r\n            opts.API.log('Transition \"' + opts.fx + '\" not found.  Using fade.');\r\n        }\r\n        return tx;\r\n    },\r\n\r\n    prepareTx: function( manual, fwd ) {\r\n        var opts = this.opts();\r\n        var after, curr, next, slideOpts, tx;\r\n\r\n        if ( opts.slideCount < 2 ) {\r\n            opts.timeoutId = 0;\r\n            return;\r\n        }\r\n        if ( manual && ( !opts.busy || opts.manualTrump ) ) {\r\n            opts.API.stopTransition();\r\n            opts.busy = false;\r\n            clearTimeout(opts.timeoutId);\r\n            opts.timeoutId = 0;\r\n        }\r\n        if ( opts.busy )\r\n            return;\r\n        if ( opts.timeoutId === 0 && !manual )\r\n            return;\r\n\r\n        curr = opts.slides[opts.currSlide];\r\n        next = opts.slides[opts.nextSlide];\r\n        slideOpts = opts.API.getSlideOpts( opts.nextSlide );\r\n        tx = opts.API.calcTx( slideOpts, manual );\r\n\r\n        opts._tx = tx;\r\n\r\n        if ( manual && slideOpts.manualSpeed !== undefined )\r\n            slideOpts.speed = slideOpts.manualSpeed;\r\n\r\n        // if ( opts.nextSlide === opts.currSlide )\r\n        //     opts.API.calcNextSlide();\r\n\r\n        // ensure that:\r\n        //      1. advancing to a different slide\r\n        //      2. this is either a manual event (prev/next, pager, cmd) or \r\n        //              a timer event and slideshow is not paused\r\n        if ( opts.nextSlide != opts.currSlide && \r\n            (manual || (!opts.paused && !opts.hoverPaused && opts.timeout) )) { // #62\r\n\r\n            opts.API.trigger('cycle-before', [ slideOpts, curr, next, fwd ]);\r\n            if ( tx.before )\r\n                tx.before( slideOpts, curr, next, fwd );\r\n\r\n            after = function() {\r\n                opts.busy = false;\r\n                // #76; bail if slideshow has been destroyed\r\n                if (! opts.container.data( 'cycle.opts' ) )\r\n                    return;\r\n\r\n                if (tx.after)\r\n                    tx.after( slideOpts, curr, next, fwd );\r\n                opts.API.trigger('cycle-after', [ slideOpts, curr, next, fwd ]);\r\n                opts.API.queueTransition( slideOpts);\r\n                opts.API.updateView( true );\r\n            };\r\n\r\n            opts.busy = true;\r\n            if (tx.transition)\r\n                tx.transition(slideOpts, curr, next, fwd, after);\r\n            else\r\n                opts.API.doTransition( slideOpts, curr, next, fwd, after);\r\n\r\n            opts.API.calcNextSlide();\r\n            opts.API.updateView();\r\n        } else {\r\n            opts.API.queueTransition( slideOpts );\r\n        }\r\n    },\r\n\r\n    // perform the actual animation\r\n    doTransition: function( slideOpts, currEl, nextEl, fwd, callback) {\r\n        var opts = slideOpts;\r\n        var curr = $(currEl), next = $(nextEl);\r\n        var fn = function() {\r\n            // make sure animIn has something so that callback doesn't trigger immediately\r\n            next.animate(opts.animIn || { opacity: 1}, opts.speed, opts.easeIn || opts.easing, callback);\r\n        };\r\n\r\n        next.css(opts.cssBefore || {});\r\n        curr.animate(opts.animOut || {}, opts.speed, opts.easeOut || opts.easing, function() {\r\n            curr.css(opts.cssAfter || {});\r\n            if (!opts.sync) {\r\n                fn();\r\n            }\r\n        });\r\n        if (opts.sync) {\r\n            fn();\r\n        }\r\n    },\r\n\r\n    queueTransition: function( slideOpts, specificTimeout ) {\r\n        var opts = this.opts();\r\n        var timeout = specificTimeout !== undefined ? specificTimeout : slideOpts.timeout;\r\n        if (opts.nextSlide === 0 && --opts.loop === 0) {\r\n            opts.API.log('terminating; loop=0');\r\n            opts.timeout = 0;\r\n            if ( timeout ) {\r\n                setTimeout(function() {\r\n                    opts.API.trigger('cycle-finished', [ opts ]);\r\n                }, timeout);\r\n            }\r\n            else {\r\n                opts.API.trigger('cycle-finished', [ opts ]);\r\n            }\r\n            // reset nextSlide\r\n            opts.nextSlide = opts.currSlide;\r\n            return;\r\n        }\r\n        if ( opts.continueAuto !== undefined ) {\r\n            if ( opts.continueAuto === false || \r\n                ($.isFunction(opts.continueAuto) && opts.continueAuto() === false )) {\r\n                opts.API.log('terminating automatic transitions');\r\n                opts.timeout = 0;\r\n                if ( opts.timeoutId )\r\n                    clearTimeout(opts.timeoutId);\r\n                return;\r\n            }\r\n        }\r\n        if ( timeout ) {\r\n            opts._lastQueue = $.now();\r\n            if ( specificTimeout === undefined )\r\n                opts._remainingTimeout = slideOpts.timeout;\r\n\r\n            if ( !opts.paused && ! opts.hoverPaused ) {\r\n                opts.timeoutId = setTimeout(function() { \r\n                    opts.API.prepareTx( false, !opts.reverse ); \r\n                }, timeout );\r\n            }\r\n        }\r\n    },\r\n\r\n    stopTransition: function() {\r\n        var opts = this.opts();\r\n        if ( opts.slides.filter(':animated').length ) {\r\n            opts.slides.stop(false, true);\r\n            opts.API.trigger('cycle-transition-stopped', [ opts ]);\r\n        }\r\n\r\n        if ( opts._tx && opts._tx.stopTransition )\r\n            opts._tx.stopTransition( opts );\r\n    },\r\n\r\n    // advance slide forward or back\r\n    advanceSlide: function( val ) {\r\n        var opts = this.opts();\r\n        clearTimeout(opts.timeoutId);\r\n        opts.timeoutId = 0;\r\n        opts.nextSlide = opts.currSlide + val;\r\n        \r\n        if (opts.nextSlide < 0)\r\n            opts.nextSlide = opts.slides.length - 1;\r\n        else if (opts.nextSlide >= opts.slides.length)\r\n            opts.nextSlide = 0;\r\n\r\n        opts.API.prepareTx( true,  val >= 0 );\r\n        return false;\r\n    },\r\n\r\n    buildSlideOpts: function( slide ) {\r\n        var opts = this.opts();\r\n        var val, shortName;\r\n        var slideOpts = slide.data() || {};\r\n        for (var p in slideOpts) {\r\n            // allow props to be accessed sans 'cycle' prefix and log the overrides\r\n            if (slideOpts.hasOwnProperty(p) && /^cycle[A-Z]+/.test(p) ) {\r\n                val = slideOpts[p];\r\n                shortName = p.match(/^cycle(.*)/)[1].replace(/^[A-Z]/, lowerCase);\r\n                opts.API.log('['+(opts.slideCount-1)+']', shortName+':', val, '('+typeof val +')');\r\n                slideOpts[shortName] = val;\r\n            }\r\n        }\r\n\r\n        slideOpts = $.extend( {}, $.fn.cycle.defaults, opts, slideOpts );\r\n        slideOpts.slideNum = opts.slideCount;\r\n\r\n        try {\r\n            // these props should always be read from the master state object\r\n            delete slideOpts.API;\r\n            delete slideOpts.slideCount;\r\n            delete slideOpts.currSlide;\r\n            delete slideOpts.nextSlide;\r\n            delete slideOpts.slides;\r\n        } catch(e) {\r\n            // no op\r\n        }\r\n        return slideOpts;\r\n    },\r\n\r\n    getSlideOpts: function( index ) {\r\n        var opts = this.opts();\r\n        if ( index === undefined )\r\n            index = opts.currSlide;\r\n\r\n        var slide = opts.slides[index];\r\n        var slideOpts = $(slide).data('cycle.opts');\r\n        return $.extend( {}, opts, slideOpts );\r\n    },\r\n    \r\n    initSlide: function( slideOpts, slide, suggestedZindex ) {\r\n        var opts = this.opts();\r\n        slide.css( slideOpts.slideCss || {} );\r\n        if ( suggestedZindex > 0 )\r\n            slide.css( 'zIndex', suggestedZindex );\r\n\r\n        // ensure that speed settings are sane\r\n        if ( isNaN( slideOpts.speed ) )\r\n            slideOpts.speed = $.fx.speeds[slideOpts.speed] || $.fx.speeds._default;\r\n        if ( !slideOpts.sync )\r\n            slideOpts.speed = slideOpts.speed / 2;\r\n\r\n        slide.addClass( opts.slideClass );\r\n    },\r\n\r\n    updateView: function( isAfter, isDuring, forceEvent ) {\r\n        var opts = this.opts();\r\n        if ( !opts._initialized )\r\n            return;\r\n        var slideOpts = opts.API.getSlideOpts();\r\n        var currSlide = opts.slides[ opts.currSlide ];\r\n\r\n        if ( ! isAfter && isDuring !== true ) {\r\n            opts.API.trigger('cycle-update-view-before', [ opts, slideOpts, currSlide ]);\r\n            if ( opts.updateView < 0 )\r\n                return;\r\n        }\r\n\r\n        if ( opts.slideActiveClass ) {\r\n            opts.slides.removeClass( opts.slideActiveClass )\r\n                .eq( opts.currSlide ).addClass( opts.slideActiveClass );\r\n        }\r\n\r\n        if ( isAfter && opts.hideNonActive )\r\n            opts.slides.filter( ':not(.' + opts.slideActiveClass + ')' ).css('visibility', 'hidden');\r\n\r\n        if ( opts.updateView === 0 ) {\r\n            setTimeout(function() {\r\n                opts.API.trigger('cycle-update-view', [ opts, slideOpts, currSlide, isAfter ]);\r\n            }, slideOpts.speed / (opts.sync ? 2 : 1) );\r\n        }\r\n\r\n        if ( opts.updateView !== 0 )\r\n            opts.API.trigger('cycle-update-view', [ opts, slideOpts, currSlide, isAfter ]);\r\n        \r\n        if ( isAfter )\r\n            opts.API.trigger('cycle-update-view-after', [ opts, slideOpts, currSlide ]);\r\n    },\r\n\r\n    getComponent: function( name ) {\r\n        var opts = this.opts();\r\n        var selector = opts[name];\r\n        if (typeof selector === 'string') {\r\n            // if selector is a child, sibling combinator, adjancent selector then use find, otherwise query full dom\r\n            return (/^\\s*[\\>|\\+|~]/).test( selector ) ? opts.container.find( selector ) : $( selector );\r\n        }\r\n        if (selector.jquery)\r\n            return selector;\r\n        \r\n        return $(selector);\r\n    },\r\n\r\n    stackSlides: function( curr, next, fwd ) {\r\n        var opts = this.opts();\r\n        if ( !curr ) {\r\n            curr = opts.slides[opts.currSlide];\r\n            next = opts.slides[opts.nextSlide];\r\n            fwd = !opts.reverse;\r\n        }\r\n\r\n        // reset the zIndex for the common case:\r\n        // curr slide on top,  next slide beneath, and the rest in order to be shown\r\n        $(curr).css('zIndex', opts.maxZ);\r\n\r\n        var i;\r\n        var z = opts.maxZ - 2;\r\n        var len = opts.slideCount;\r\n        if (fwd) {\r\n            for ( i = opts.currSlide + 1; i < len; i++ )\r\n                $( opts.slides[i] ).css( 'zIndex', z-- );\r\n            for ( i = 0; i < opts.currSlide; i++ )\r\n                $( opts.slides[i] ).css( 'zIndex', z-- );\r\n        }\r\n        else {\r\n            for ( i = opts.currSlide - 1; i >= 0; i-- )\r\n                $( opts.slides[i] ).css( 'zIndex', z-- );\r\n            for ( i = len - 1; i > opts.currSlide; i-- )\r\n                $( opts.slides[i] ).css( 'zIndex', z-- );\r\n        }\r\n\r\n        $(next).css('zIndex', opts.maxZ - 1);\r\n    },\r\n\r\n    getSlideIndex: function( el ) {\r\n        return this.opts().slides.index( el );\r\n    }\r\n\r\n}; // API\r\n\r\n// default logger\r\n$.fn.cycle.log = function log() {\r\n    /*global console:true */\r\n    if (window.console && console.log)\r\n        console.log('[cycle2] ' + Array.prototype.join.call(arguments, ' ') );\r\n};\r\n\r\n$.fn.cycle.version = function() { return 'Cycle2: ' + version; };\r\n\r\n// helper functions\r\n\r\nfunction lowerCase(s) {\r\n    return (s || '').toLowerCase();\r\n}\r\n\r\n// expose transition object\r\n$.fn.cycle.transitions = {\r\n    custom: {\r\n    },\r\n    none: {\r\n        before: function( opts, curr, next, fwd ) {\r\n            opts.API.stackSlides( next, curr, fwd );\r\n            opts.cssBefore = { opacity: 1, visibility: 'visible', display: 'block' };\r\n        }\r\n    },\r\n    fade: {\r\n        before: function( opts, curr, next, fwd ) {\r\n            var css = opts.API.getSlideOpts( opts.nextSlide ).slideCss || {};\r\n            opts.API.stackSlides( curr, next, fwd );\r\n            opts.cssBefore = $.extend(css, { opacity: 0, visibility: 'visible', display: 'block' });\r\n            opts.animIn = { opacity: 1 };\r\n            opts.animOut = { opacity: 0 };\r\n        }\r\n    },\r\n    fadeout: {\r\n        before: function( opts , curr, next, fwd ) {\r\n            var css = opts.API.getSlideOpts( opts.nextSlide ).slideCss || {};\r\n            opts.API.stackSlides( curr, next, fwd );\r\n            opts.cssBefore = $.extend(css, { opacity: 1, visibility: 'visible', display: 'block' });\r\n            opts.animOut = { opacity: 0 };\r\n        }\r\n    },\r\n    scrollHorz: {\r\n        before: function( opts, curr, next, fwd ) {\r\n            opts.API.stackSlides( curr, next, fwd );\r\n            var w = opts.container.css('overflow','hidden').width();\r\n            opts.cssBefore = { left: fwd ? w : - w, top: 0, opacity: 1, visibility: 'visible', display: 'block' };\r\n            opts.cssAfter = { zIndex: opts._maxZ - 2, left: 0 };\r\n            opts.animIn = { left: 0 };\r\n            opts.animOut = { left: fwd ? -w : w };\r\n        }\r\n    }\r\n};\r\n\r\n// @see: http://jquery.malsup.com/cycle2/api\r\n$.fn.cycle.defaults = {\r\n    allowWrap:        true,\r\n    autoSelector:     '.cycle-slideshow[data-cycle-auto-init!=false]',\r\n    delay:            0,\r\n    easing:           null,\r\n    fx:              'fade',\r\n    hideNonActive:    true,\r\n    loop:             0,\r\n    manualFx:         undefined,\r\n    manualSpeed:      undefined,\r\n    manualTrump:      true,\r\n    maxZ:             100,\r\n    pauseOnHover:     false,\r\n    reverse:          false,\r\n    slideActiveClass: 'cycle-slide-active',\r\n    slideClass:       'cycle-slide',\r\n    slideCss:         { position: 'absolute', top: 0, left: 0 },\r\n    slides:          '> img',\r\n    speed:            500,\r\n    startingSlide:    0,\r\n    sync:             true,\r\n    timeout:          4000,\r\n    updateView:       0\r\n};\r\n\r\n// automatically find and run slideshows\r\n$(document).ready(function() {\r\n    $( $.fn.cycle.defaults.autoSelector ).cycle();\r\n});\r\n\r\n})(jQuery);\r\n\r\n/*! Cycle2 autoheight plugin; Copyright (c) M.Alsup, 2012; version: 20130913 */\r\n(function($) {\r\n\"use strict\";\r\n\r\n$.extend($.fn.cycle.defaults, {\r\n    autoHeight: 0, // setting this option to false disables autoHeight logic\r\n    autoHeightSpeed: 250,\r\n    autoHeightEasing: null\r\n});    \r\n\r\n$(document).on( 'cycle-initialized', function( e, opts ) {\r\n    var autoHeight = opts.autoHeight;\r\n    var t = $.type( autoHeight );\r\n    var resizeThrottle = null;\r\n    var ratio;\r\n\r\n    if ( t !== 'string' && t !== 'number' )\r\n        return;\r\n\r\n    // bind events\r\n    opts.container.on( 'cycle-slide-added cycle-slide-removed', initAutoHeight );\r\n    opts.container.on( 'cycle-destroyed', onDestroy );\r\n\r\n    if ( autoHeight == 'container' ) {\r\n        opts.container.on( 'cycle-before', onBefore );\r\n    }\r\n    else if ( t === 'string' && /\\d+\\:\\d+/.test( autoHeight ) ) { \r\n        // use ratio\r\n        ratio = autoHeight.match(/(\\d+)\\:(\\d+)/);\r\n        ratio = ratio[1] / ratio[2];\r\n        opts._autoHeightRatio = ratio;\r\n    }\r\n\r\n    // if autoHeight is a number then we don't need to recalculate the sentinel\r\n    // index on resize\r\n    if ( t !== 'number' ) {\r\n        // bind unique resize handler per slideshow (so it can be 'off-ed' in onDestroy)\r\n        opts._autoHeightOnResize = function () {\r\n            clearTimeout( resizeThrottle );\r\n            resizeThrottle = setTimeout( onResize, 50 );\r\n        };\r\n\r\n        $(window).on( 'resize orientationchange', opts._autoHeightOnResize );\r\n    }\r\n\r\n    setTimeout( onResize, 30 );\r\n\r\n    function onResize() {\r\n        initAutoHeight( e, opts );\r\n    }\r\n});\r\n\r\nfunction initAutoHeight( e, opts ) {\r\n    var clone, height, sentinelIndex;\r\n    var autoHeight = opts.autoHeight;\r\n\r\n    if ( autoHeight == 'container' ) {\r\n        height = $( opts.slides[ opts.currSlide ] ).outerHeight();\r\n        opts.container.height( height );\r\n    }\r\n    else if ( opts._autoHeightRatio ) { \r\n        opts.container.height( opts.container.width() / opts._autoHeightRatio );\r\n    }\r\n    else if ( autoHeight === 'calc' || ( $.type( autoHeight ) == 'number' && autoHeight >= 0 ) ) {\r\n        if ( autoHeight === 'calc' )\r\n            sentinelIndex = calcSentinelIndex( e, opts );\r\n        else if ( autoHeight >= opts.slides.length )\r\n            sentinelIndex = 0;\r\n        else \r\n            sentinelIndex = autoHeight;\r\n\r\n        // only recreate sentinel if index is different\r\n        if ( sentinelIndex == opts._sentinelIndex )\r\n            return;\r\n\r\n        opts._sentinelIndex = sentinelIndex;\r\n        if ( opts._sentinel )\r\n            opts._sentinel.remove();\r\n\r\n        // clone existing slide as sentinel\r\n        clone = $( opts.slides[ sentinelIndex ].cloneNode(true) );\r\n        \r\n        // #50; remove special attributes from cloned content\r\n        clone.removeAttr( 'id name rel' ).find( '[id],[name],[rel]' ).removeAttr( 'id name rel' );\r\n\r\n        clone.css({\r\n            position: 'static',\r\n            visibility: 'hidden',\r\n            display: 'block'\r\n        }).prependTo( opts.container ).addClass('cycle-sentinel cycle-slide').removeClass('cycle-slide-active');\r\n        clone.find( '*' ).css( 'visibility', 'hidden' );\r\n\r\n        opts._sentinel = clone;\r\n    }\r\n}    \r\n\r\nfunction calcSentinelIndex( e, opts ) {\r\n    var index = 0, max = -1;\r\n\r\n    // calculate tallest slide index\r\n    opts.slides.each(function(i) {\r\n        var h = $(this).height();\r\n        if ( h > max ) {\r\n            max = h;\r\n            index = i;\r\n        }\r\n    });\r\n    return index;\r\n}\r\n\r\nfunction onBefore( e, opts, outgoing, incoming, forward ) {\r\n    var h = $(incoming).outerHeight();\r\n    opts.container.animate( { height: h }, opts.autoHeightSpeed, opts.autoHeightEasing );\r\n}\r\n\r\nfunction onDestroy( e, opts ) {\r\n    if ( opts._autoHeightOnResize ) {\r\n        $(window).off( 'resize orientationchange', opts._autoHeightOnResize );\r\n        opts._autoHeightOnResize = null;\r\n    }\r\n    opts.container.off( 'cycle-slide-added cycle-slide-removed', initAutoHeight );\r\n    opts.container.off( 'cycle-destroyed', onDestroy );\r\n    opts.container.off( 'cycle-before', onBefore );\r\n\r\n    if ( opts._sentinel ) {\r\n        opts._sentinel.remove();\r\n        opts._sentinel = null;\r\n    }\r\n}\r\n\r\n})(jQuery);\r\n\r\n/*! caption plugin for Cycle2;  version: 20130306 */\r\n(function($) {\r\n\"use strict\";\r\n\r\n$.extend($.fn.cycle.defaults, {\r\n    caption:          '> .cycle-caption',\r\n    captionTemplate:  '{{slideNum}} / {{slideCount}}',\r\n    overlay:          '> .cycle-overlay',\r\n    overlayTemplate:  '<div>{{title}}</div><div>{{desc}}</div>',\r\n    captionModule:    'caption'\r\n});    \r\n\r\n$(document).on( 'cycle-update-view', function( e, opts, slideOpts, currSlide ) {\r\n    if ( opts.captionModule !== 'caption' )\r\n        return;\r\n    var el;\r\n    $.each(['caption','overlay'], function() {\r\n        var name = this; \r\n        var template = slideOpts[name+'Template'];\r\n        var el = opts.API.getComponent( name );\r\n        if( el.length && template ) {\r\n            el.html( opts.API.tmpl( template, slideOpts, opts, currSlide ) );\r\n            el.show();\r\n        }\r\n        else {\r\n            el.hide();\r\n        }\r\n    });\r\n});\r\n\r\n$(document).on( 'cycle-destroyed', function( e, opts ) {\r\n    var el;\r\n    $.each(['caption','overlay'], function() {\r\n        var name = this, template = opts[name+'Template'];\r\n        if ( opts[name] && template ) {\r\n            el = opts.API.getComponent( 'caption' );\r\n            el.empty();\r\n        }\r\n    });\r\n});\r\n\r\n})(jQuery);\r\n\r\n/*! command plugin for Cycle2;  version: 20140415 */\r\n(function($) {\r\n\"use strict\";\r\n\r\nvar c2 = $.fn.cycle;\r\n\r\n$.fn.cycle = function( options ) {\r\n    var cmd, cmdFn, opts;\r\n    var args = $.makeArray( arguments );\r\n\r\n    if ( $.type( options ) == 'number' ) {\r\n        return this.cycle( 'goto', options );\r\n    }\r\n\r\n    if ( $.type( options ) == 'string' ) {\r\n        return this.each(function() {\r\n            var cmdArgs;\r\n            cmd = options;\r\n            opts = $(this).data('cycle.opts');\r\n\r\n            if ( opts === undefined ) {\r\n                c2.log('slideshow must be initialized before sending commands; \"' + cmd + '\" ignored');\r\n                return;\r\n            }\r\n            else {\r\n                cmd = cmd == 'goto' ? 'jump' : cmd; // issue #3; change 'goto' to 'jump' internally\r\n                cmdFn = opts.API[ cmd ];\r\n                if ( $.isFunction( cmdFn )) {\r\n                    cmdArgs = $.makeArray( args );\r\n                    cmdArgs.shift();\r\n                    return cmdFn.apply( opts.API, cmdArgs );\r\n                }\r\n                else {\r\n                    c2.log( 'unknown command: ', cmd );\r\n                }\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return c2.apply( this, arguments );\r\n    }\r\n};\r\n\r\n// copy props\r\n$.extend( $.fn.cycle, c2 );\r\n\r\n$.extend( c2.API, {\r\n    next: function() {\r\n        var opts = this.opts();\r\n        if ( opts.busy && ! opts.manualTrump )\r\n            return;\r\n\r\n        var count = opts.reverse ? -1 : 1;\r\n        if ( opts.allowWrap === false && ( opts.currSlide + count ) >= opts.slideCount )\r\n            return;\r\n\r\n        opts.API.advanceSlide( count );\r\n        opts.API.trigger('cycle-next', [ opts ]).log('cycle-next');\r\n    },\r\n\r\n    prev: function() {\r\n        var opts = this.opts();\r\n        if ( opts.busy && ! opts.manualTrump )\r\n            return;\r\n        var count = opts.reverse ? 1 : -1;\r\n        if ( opts.allowWrap === false && ( opts.currSlide + count ) < 0 )\r\n            return;\r\n\r\n        opts.API.advanceSlide( count );\r\n        opts.API.trigger('cycle-prev', [ opts ]).log('cycle-prev');\r\n    },\r\n\r\n    destroy: function() {\r\n        this.stop(); //#204\r\n\r\n        var opts = this.opts();\r\n        var clean = $.isFunction( $._data ) ? $._data : $.noop;  // hack for #184 and #201\r\n        clearTimeout(opts.timeoutId);\r\n        opts.timeoutId = 0;\r\n        opts.API.stop();\r\n        opts.API.trigger( 'cycle-destroyed', [ opts ] ).log('cycle-destroyed');\r\n        opts.container.removeData();\r\n        clean( opts.container[0], 'parsedAttrs', false );\r\n\r\n        // #75; remove inline styles\r\n        if ( ! opts.retainStylesOnDestroy ) {\r\n            opts.container.removeAttr( 'style' );\r\n            opts.slides.removeAttr( 'style' );\r\n            opts.slides.removeClass( opts.slideActiveClass );\r\n        }\r\n        opts.slides.each(function() {\r\n            var slide = $(this);\r\n            slide.removeData();\r\n            slide.removeClass( opts.slideClass );\r\n            clean( this, 'parsedAttrs', false );\r\n        });\r\n    },\r\n\r\n    jump: function( index, fx ) {\r\n        // go to the requested slide\r\n        var fwd;\r\n        var opts = this.opts();\r\n        if ( opts.busy && ! opts.manualTrump )\r\n            return;\r\n        var num = parseInt( index, 10 );\r\n        if (isNaN(num) || num < 0 || num >= opts.slides.length) {\r\n            opts.API.log('goto: invalid slide index: ' + num);\r\n            return;\r\n        }\r\n        if (num == opts.currSlide) {\r\n            opts.API.log('goto: skipping, already on slide', num);\r\n            return;\r\n        }\r\n        opts.nextSlide = num;\r\n        clearTimeout(opts.timeoutId);\r\n        opts.timeoutId = 0;\r\n        opts.API.log('goto: ', num, ' (zero-index)');\r\n        fwd = opts.currSlide < opts.nextSlide;\r\n        opts._tempFx = fx;\r\n        opts.API.prepareTx( true, fwd );\r\n    },\r\n\r\n    stop: function() {\r\n        var opts = this.opts();\r\n        var pauseObj = opts.container;\r\n        clearTimeout(opts.timeoutId);\r\n        opts.timeoutId = 0;\r\n        opts.API.stopTransition();\r\n        if ( opts.pauseOnHover ) {\r\n            if ( opts.pauseOnHover !== true )\r\n                pauseObj = $( opts.pauseOnHover );\r\n            pauseObj.off('mouseenter mouseleave');\r\n        }\r\n        opts.API.trigger('cycle-stopped', [ opts ]).log('cycle-stopped');\r\n    },\r\n\r\n    reinit: function() {\r\n        var opts = this.opts();\r\n        opts.API.destroy();\r\n        opts.container.cycle();\r\n    },\r\n\r\n    remove: function( index ) {\r\n        var opts = this.opts();\r\n        var slide, slideToRemove, slides = [], slideNum = 1;\r\n        for ( var i=0; i < opts.slides.length; i++ ) {\r\n            slide = opts.slides[i];\r\n            if ( i == index ) {\r\n                slideToRemove = slide;\r\n            }\r\n            else {\r\n                slides.push( slide );\r\n                $( slide ).data('cycle.opts').slideNum = slideNum;\r\n                slideNum++;\r\n            }\r\n        }\r\n        if ( slideToRemove ) {\r\n            opts.slides = $( slides );\r\n            opts.slideCount--;\r\n            $( slideToRemove ).remove();\r\n            if (index == opts.currSlide)\r\n                opts.API.advanceSlide( 1 );\r\n            else if ( index < opts.currSlide )\r\n                opts.currSlide--;\r\n            else\r\n                opts.currSlide++;\r\n\r\n            opts.API.trigger('cycle-slide-removed', [ opts, index, slideToRemove ]).log('cycle-slide-removed');\r\n            opts.API.updateView();\r\n        }\r\n    }\r\n\r\n});\r\n\r\n// listen for clicks on elements with data-cycle-cmd attribute\r\n$(document).on('click.cycle', '[data-cycle-cmd]', function(e) {\r\n    // issue cycle command\r\n    e.preventDefault();\r\n    var el = $(this);\r\n    var command = el.data('cycle-cmd');\r\n    var context = el.data('cycle-context') || '.cycle-slideshow';\r\n    $(context).cycle(command, el.data('cycle-arg'));\r\n});\r\n\r\n\r\n})(jQuery);\r\n\r\n/*! hash plugin for Cycle2;  version: 20130905 */\r\n(function($) {\r\n\"use strict\";\r\n\r\n$(document).on( 'cycle-pre-initialize', function( e, opts ) {\r\n    onHashChange( opts, true );\r\n\r\n    opts._onHashChange = function() {\r\n        onHashChange( opts, false );\r\n    };\r\n\r\n    $( window ).on( 'hashchange', opts._onHashChange);\r\n});\r\n\r\n$(document).on( 'cycle-update-view', function( e, opts, slideOpts ) {\r\n    if ( slideOpts.hash && ( '#' + slideOpts.hash ) != window.location.hash ) {\r\n        opts._hashFence = true;\r\n        window.location.hash = slideOpts.hash;\r\n    }\r\n});\r\n\r\n$(document).on( 'cycle-destroyed', function( e, opts) {\r\n    if ( opts._onHashChange ) {\r\n        $( window ).off( 'hashchange', opts._onHashChange );\r\n    }\r\n});\r\n\r\nfunction onHashChange( opts, setStartingSlide ) {\r\n    var hash;\r\n    if ( opts._hashFence ) {\r\n        opts._hashFence = false;\r\n        return;\r\n    }\r\n    \r\n    hash = window.location.hash.substring(1);\r\n\r\n    opts.slides.each(function(i) {\r\n        if ( $(this).data( 'cycle-hash' ) == hash ) {\r\n            if ( setStartingSlide === true ) {\r\n                opts.startingSlide = i;\r\n            }\r\n            else {\r\n                var fwd = opts.currSlide < i;\r\n                opts.nextSlide = i;\r\n                opts.API.prepareTx( true, fwd );\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n}\r\n\r\n})(jQuery);\r\n\r\n/*! loader plugin for Cycle2;  version: 20131121 */\r\n(function($) {\r\n\"use strict\";\r\n\r\n$.extend($.fn.cycle.defaults, {\r\n    loader: false\r\n});\r\n\r\n$(document).on( 'cycle-bootstrap', function( e, opts ) {\r\n    var addFn;\r\n\r\n    if ( !opts.loader )\r\n        return;\r\n\r\n    // override API.add for this slideshow\r\n    addFn = opts.API.add;\r\n    opts.API.add = add;\r\n\r\n    function add( slides, prepend ) {\r\n        var slideArr = [];\r\n        if ( $.type( slides ) == 'string' )\r\n            slides = $.trim( slides );\r\n        else if ( $.type( slides) === 'array' ) {\r\n            for (var i=0; i < slides.length; i++ )\r\n                slides[i] = $(slides[i])[0];\r\n        }\r\n\r\n        slides = $( slides );\r\n        var slideCount = slides.length;\r\n\r\n        if ( ! slideCount )\r\n            return;\r\n\r\n        slides.css('visibility','hidden').appendTo('body').each(function(i) { // appendTo fixes #56\r\n            var count = 0;\r\n            var slide = $(this);\r\n            var images = slide.is('img') ? slide : slide.find('img');\r\n            slide.data('index', i);\r\n            // allow some images to be marked as unimportant (and filter out images w/o src value)\r\n            images = images.filter(':not(.cycle-loader-ignore)').filter(':not([src=\"\"])');\r\n            if ( ! images.length ) {\r\n                --slideCount;\r\n                slideArr.push( slide );\r\n                return;\r\n            }\r\n\r\n            count = images.length;\r\n            images.each(function() {\r\n                // add images that are already loaded\r\n                if ( this.complete ) {\r\n                    imageLoaded();\r\n                }\r\n                else {\r\n                    $(this).load(function() {\r\n                        imageLoaded();\r\n                    }).on(\"error\", function() {\r\n                        if ( --count === 0 ) {\r\n                            // ignore this slide\r\n                            opts.API.log('slide skipped; img not loaded:', this.src);\r\n                            if ( --slideCount === 0 && opts.loader == 'wait') {\r\n                                addFn.apply( opts.API, [ slideArr, prepend ] );\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            function imageLoaded() {\r\n                if ( --count === 0 ) {\r\n                    --slideCount;\r\n                    addSlide( slide );\r\n                }\r\n            }\r\n        });\r\n\r\n        if ( slideCount )\r\n            opts.container.addClass('cycle-loading');\r\n        \r\n\r\n        function addSlide( slide ) {\r\n            var curr;\r\n            if ( opts.loader == 'wait' ) {\r\n                slideArr.push( slide );\r\n                if ( slideCount === 0 ) {\r\n                    // #59; sort slides into original markup order\r\n                    slideArr.sort( sorter );\r\n                    addFn.apply( opts.API, [ slideArr, prepend ] );\r\n                    opts.container.removeClass('cycle-loading');\r\n                }\r\n            }\r\n            else {\r\n                curr = $(opts.slides[opts.currSlide]);\r\n                addFn.apply( opts.API, [ slide, prepend ] );\r\n                curr.show();\r\n                opts.container.removeClass('cycle-loading');\r\n            }\r\n        }\r\n\r\n        function sorter(a, b) {\r\n            return a.data('index') - b.data('index');\r\n        }\r\n    }\r\n});\r\n\r\n})(jQuery);\r\n\r\n/*! pager plugin for Cycle2;  version: 20140415 */\r\n(function($) {\r\n\"use strict\";\r\n\r\n$.extend($.fn.cycle.defaults, {\r\n    pager:            '> .cycle-pager',\r\n    pagerActiveClass: 'cycle-pager-active',\r\n    pagerEvent:       'click.cycle',\r\n    pagerEventBubble: undefined,\r\n    pagerTemplate:    '<span>&bull;</span>'\r\n});\r\n\r\n$(document).on( 'cycle-bootstrap', function( e, opts, API ) {\r\n    // add method to API\r\n    API.buildPagerLink = buildPagerLink;\r\n});\r\n\r\n$(document).on( 'cycle-slide-added', function( e, opts, slideOpts, slideAdded ) {\r\n    if ( opts.pager ) {\r\n        opts.API.buildPagerLink ( opts, slideOpts, slideAdded );\r\n        opts.API.page = page;\r\n    }\r\n});\r\n\r\n$(document).on( 'cycle-slide-removed', function( e, opts, index, slideRemoved ) {\r\n    if ( opts.pager ) {\r\n        var pagers = opts.API.getComponent( 'pager' );\r\n        pagers.each(function() {\r\n            var pager = $(this);\r\n            $( pager.children()[index] ).remove();\r\n        });\r\n    }\r\n});\r\n\r\n$(document).on( 'cycle-update-view', function( e, opts, slideOpts ) {\r\n    var pagers;\r\n\r\n    if ( opts.pager ) {\r\n        pagers = opts.API.getComponent( 'pager' );\r\n        pagers.each(function() {\r\n           $(this).children().removeClass( opts.pagerActiveClass )\r\n            .eq( opts.currSlide ).addClass( opts.pagerActiveClass );\r\n        });\r\n    }\r\n});\r\n\r\n$(document).on( 'cycle-destroyed', function( e, opts ) {\r\n    var pager = opts.API.getComponent( 'pager' );\r\n\r\n    if ( pager ) {\r\n        pager.children().off( opts.pagerEvent ); // #202\r\n        if ( opts.pagerTemplate )\r\n            pager.empty();\r\n    }\r\n});\r\n\r\nfunction buildPagerLink( opts, slideOpts, slide ) {\r\n    var pagerLink;\r\n    var pagers = opts.API.getComponent( 'pager' );\r\n    pagers.each(function() {\r\n        var pager = $(this);\r\n        if ( slideOpts.pagerTemplate ) {\r\n            var markup = opts.API.tmpl( slideOpts.pagerTemplate, slideOpts, opts, slide[0] );\r\n            pagerLink = $( markup ).appendTo( pager );\r\n        }\r\n        else {\r\n            pagerLink = pager.children().eq( opts.slideCount - 1 );\r\n        }\r\n        pagerLink.on( opts.pagerEvent, function(e) {\r\n            if ( ! opts.pagerEventBubble )\r\n                e.preventDefault();\r\n            opts.API.page( pager, e.currentTarget);\r\n        });\r\n    });\r\n}\r\n\r\nfunction page( pager, target ) {\r\n    /*jshint validthis:true */\r\n    var opts = this.opts();\r\n    if ( opts.busy && ! opts.manualTrump )\r\n        return;\r\n\r\n    var index = pager.children().index( target );\r\n    var nextSlide = index;\r\n    var fwd = opts.currSlide < nextSlide;\r\n    if (opts.currSlide == nextSlide) {\r\n        return; // no op, clicked pager for the currently displayed slide\r\n    }\r\n    opts.nextSlide = nextSlide;\r\n    opts._tempFx = opts.pagerFx;\r\n    opts.API.prepareTx( true, fwd );\r\n    opts.API.trigger('cycle-pager-activated', [opts, pager, target ]);\r\n}\r\n\r\n})(jQuery);\r\n\r\n/*! prevnext plugin for Cycle2;  version: 20140408 */\r\n(function($) {\r\n\"use strict\";\r\n\r\n$.extend($.fn.cycle.defaults, {\r\n    next:           '> .cycle-next',\r\n    nextEvent:      'click.cycle',\r\n    disabledClass:  'disabled',\r\n    prev:           '> .cycle-prev',\r\n    prevEvent:      'click.cycle',\r\n    swipe:          false\r\n});\r\n\r\n$(document).on( 'cycle-initialized', function( e, opts ) {\r\n    opts.API.getComponent( 'next' ).on( opts.nextEvent, function(e) {\r\n        e.preventDefault();\r\n        opts.API.next();\r\n    });\r\n\r\n    opts.API.getComponent( 'prev' ).on( opts.prevEvent, function(e) {\r\n        e.preventDefault();\r\n        opts.API.prev();\r\n    });\r\n\r\n    if ( opts.swipe ) {\r\n        var nextEvent = opts.swipeVert ? 'swipeUp.cycle' : 'swipeLeft.cycle swipeleft.cycle';\r\n        var prevEvent = opts.swipeVert ? 'swipeDown.cycle' : 'swipeRight.cycle swiperight.cycle';\r\n        opts.container.on( nextEvent, function(e) {\r\n            opts._tempFx = opts.swipeFx;\r\n            opts.API.next();\r\n        });\r\n        opts.container.on( prevEvent, function() {\r\n            opts._tempFx = opts.swipeFx;\r\n            opts.API.prev();\r\n        });\r\n    }\r\n});\r\n\r\n$(document).on( 'cycle-update-view', function( e, opts, slideOpts, currSlide ) {\r\n    if ( opts.allowWrap )\r\n        return;\r\n\r\n    var cls = opts.disabledClass;\r\n    var next = opts.API.getComponent( 'next' );\r\n    var prev = opts.API.getComponent( 'prev' );\r\n    var prevBoundry = opts._prevBoundry || 0;\r\n    var nextBoundry = (opts._nextBoundry !== undefined)?opts._nextBoundry:opts.slideCount - 1;\r\n\r\n    if ( opts.currSlide == nextBoundry )\r\n        next.addClass( cls ).prop( 'disabled', true );\r\n    else\r\n        next.removeClass( cls ).prop( 'disabled', false );\r\n\r\n    if ( opts.currSlide === prevBoundry )\r\n        prev.addClass( cls ).prop( 'disabled', true );\r\n    else\r\n        prev.removeClass( cls ).prop( 'disabled', false );\r\n});\r\n\r\n\r\n$(document).on( 'cycle-destroyed', function( e, opts ) {\r\n    opts.API.getComponent( 'prev' ).off( opts.nextEvent );\r\n    opts.API.getComponent( 'next' ).off( opts.prevEvent );\r\n    opts.container.off( 'swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle' );\r\n});\r\n\r\n})(jQuery);\r\n\r\n/*! progressive loader plugin for Cycle2;  version: 20130315 */\r\n(function($) {\r\n\"use strict\";\r\n\r\n$.extend($.fn.cycle.defaults, {\r\n    progressive: false\r\n});\r\n\r\n$(document).on( 'cycle-pre-initialize', function( e, opts ) {\r\n    if ( !opts.progressive )\r\n        return;\r\n\r\n    var API = opts.API;\r\n    var nextFn = API.next;\r\n    var prevFn = API.prev;\r\n    var prepareTxFn = API.prepareTx;\r\n    var type = $.type( opts.progressive );\r\n    var slides, scriptEl;\r\n\r\n    if ( type == 'array' ) {\r\n        slides = opts.progressive;\r\n    }\r\n    else if ($.isFunction( opts.progressive ) ) {\r\n        slides = opts.progressive( opts );\r\n    }\r\n    else if ( type == 'string' ) {\r\n        scriptEl = $( opts.progressive );\r\n        slides = $.trim( scriptEl.html() );\r\n        if ( !slides )\r\n            return;\r\n        // is it json array?\r\n        if ( /^(\\[)/.test( slides ) ) {\r\n            try {\r\n                slides = $.parseJSON( slides );\r\n            }\r\n            catch(err) {\r\n                API.log( 'error parsing progressive slides', err );\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            // plain text, split on delimeter\r\n            slides = slides.split( new RegExp( scriptEl.data('cycle-split') || '\\n') );\r\n            \r\n            // #95; look for empty slide\r\n            if ( ! slides[ slides.length - 1 ] )\r\n                slides.pop();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    if ( prepareTxFn ) {\r\n        API.prepareTx = function( manual, fwd ) {\r\n            var index, slide;\r\n\r\n            if ( manual || slides.length === 0 ) {\r\n                prepareTxFn.apply( opts.API, [ manual, fwd ] );\r\n                return;\r\n            }\r\n\r\n            if ( fwd && opts.currSlide == ( opts.slideCount-1) ) {\r\n                slide = slides[ 0 ];\r\n                slides = slides.slice( 1 );\r\n                opts.container.one('cycle-slide-added', function(e, opts ) {\r\n                    setTimeout(function() {\r\n                        opts.API.advanceSlide( 1 );\r\n                    },50);\r\n                });\r\n                opts.API.add( slide );\r\n            }\r\n            else if ( !fwd && opts.currSlide === 0 ) {\r\n                index = slides.length-1;\r\n                slide = slides[ index ];\r\n                slides = slides.slice( 0, index );\r\n                opts.container.one('cycle-slide-added', function(e, opts ) {\r\n                    setTimeout(function() {\r\n                        opts.currSlide = 1;\r\n                        opts.API.advanceSlide( -1 );\r\n                    },50);\r\n                });\r\n                opts.API.add( slide, true );\r\n            }\r\n            else {\r\n                prepareTxFn.apply( opts.API, [ manual, fwd ] );\r\n            }\r\n        };\r\n    }\r\n\r\n    if ( nextFn ) {\r\n        API.next = function() {\r\n            var opts = this.opts();\r\n            if ( slides.length && opts.currSlide == ( opts.slideCount - 1 ) ) {\r\n                var slide = slides[ 0 ];\r\n                slides = slides.slice( 1 );\r\n                opts.container.one('cycle-slide-added', function(e, opts ) {\r\n                    nextFn.apply( opts.API );\r\n                    opts.container.removeClass('cycle-loading');\r\n                });\r\n                opts.container.addClass('cycle-loading');\r\n                opts.API.add( slide );\r\n            }\r\n            else {\r\n                nextFn.apply( opts.API );    \r\n            }\r\n        };\r\n    }\r\n    \r\n    if ( prevFn ) {\r\n        API.prev = function() {\r\n            var opts = this.opts();\r\n            if ( slides.length && opts.currSlide === 0 ) {\r\n                var index = slides.length-1;\r\n                var slide = slides[ index ];\r\n                slides = slides.slice( 0, index );\r\n                opts.container.one('cycle-slide-added', function(e, opts ) {\r\n                    opts.currSlide = 1;\r\n                    opts.API.advanceSlide( -1 );\r\n                    opts.container.removeClass('cycle-loading');\r\n                });\r\n                opts.container.addClass('cycle-loading');\r\n                opts.API.add( slide, true );\r\n            }\r\n            else {\r\n                prevFn.apply( opts.API );\r\n            }\r\n        };\r\n    }\r\n});\r\n\r\n})(jQuery);\r\n\r\n/*! tmpl plugin for Cycle2;  version: 20121227 */\r\n(function($) {\r\n\"use strict\";\r\n\r\n$.extend($.fn.cycle.defaults, {\r\n    tmplRegex: '{{((.)?.*?)}}'\r\n});\r\n\r\n$.extend($.fn.cycle.API, {\r\n    tmpl: function( str, opts /*, ... */) {\r\n        var regex = new RegExp( opts.tmplRegex || $.fn.cycle.defaults.tmplRegex, 'g' );\r\n        var args = $.makeArray( arguments );\r\n        args.shift();\r\n        return str.replace(regex, function(_, str) {\r\n            var i, j, obj, prop, names = str.split('.');\r\n            for (i=0; i < args.length; i++) {\r\n                obj = args[i];\r\n                if ( ! obj )\r\n                    continue;\r\n                if (names.length > 1) {\r\n                    prop = obj;\r\n                    for (j=0; j < names.length; j++) {\r\n                        obj = prop;\r\n                        prop = prop[ names[j] ] || str;\r\n                    }\r\n                } else {\r\n                    prop = obj[str];\r\n                }\r\n\r\n                if ($.isFunction(prop))\r\n                    return prop.apply(obj, args);\r\n                if (prop !== undefined && prop !== null && prop != str)\r\n                    return prop;\r\n            }\r\n            return str;\r\n        });\r\n    }\r\n});    \r\n\r\n})(jQuery);\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/jquery-cycle2/build/jquery.cycle2.js\n// module id = 22\n// module chunks = 0","/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20141007 */\r\n!function(a){\"use strict\";a(document).on(\"cycle-bootstrap\",function(a,b,c){\"carousel\"===b.fx&&(c.getSlideIndex=function(a){var b=this.opts()._carouselWrap.children(),c=b.index(a);return c%b.length},c.next=function(){var a=b.reverse?-1:1;b.allowWrap===!1&&b.currSlide+a>b.slideCount-b.carouselVisible||(b.API.advanceSlide(a),b.API.trigger(\"cycle-next\",[b]).log(\"cycle-next\"))})}),a.fn.cycle.transitions.carousel={preInit:function(b){b.hideNonActive=!1,b.container.on(\"cycle-destroyed\",a.proxy(this.onDestroy,b.API)),b.API.stopTransition=this.stopTransition;for(var c=0;c<b.startingSlide;c++)b.container.append(b.slides[0])},postInit:function(b){var c,d,e,f,g=b.carouselVertical;b.carouselVisible&&b.carouselVisible>b.slideCount&&(b.carouselVisible=b.slideCount-1);var h=b.carouselVisible||b.slides.length,i={display:g?\"block\":\"inline-block\",position:\"static\"};if(b.container.css({position:\"relative\",overflow:\"hidden\"}),b.slides.css(i),b._currSlide=b.currSlide,f=a('<div class=\"cycle-carousel-wrap\"></div>').prependTo(b.container).css({margin:0,padding:0,top:0,left:0,position:\"absolute\"}).append(b.slides),b._carouselWrap=f,g||f.css(\"white-space\",\"nowrap\"),b.allowWrap!==!1){for(d=0;d<(void 0===b.carouselVisible?2:1);d++){for(c=0;c<b.slideCount;c++)f.append(b.slides[c].cloneNode(!0));for(c=b.slideCount;c--;)f.prepend(b.slides[c].cloneNode(!0))}f.find(\".cycle-slide-active\").removeClass(\"cycle-slide-active\"),b.slides.eq(b.startingSlide).addClass(\"cycle-slide-active\")}b.pager&&b.allowWrap===!1&&(e=b.slideCount-h,a(b.pager).children().filter(\":gt(\"+e+\")\").hide()),b._nextBoundry=b.slideCount-b.carouselVisible,this.prepareDimensions(b)},prepareDimensions:function(b){var c,d,e,f,g=b.carouselVertical,h=b.carouselVisible||b.slides.length;if(b.carouselFluid&&b.carouselVisible?b._carouselResizeThrottle||this.fluidSlides(b):b.carouselVisible&&b.carouselSlideDimension?(c=h*b.carouselSlideDimension,b.container[g?\"height\":\"width\"](c)):b.carouselVisible&&(c=h*a(b.slides[0])[g?\"outerHeight\":\"outerWidth\"](!0),b.container[g?\"height\":\"width\"](c)),d=b.carouselOffset||0,b.allowWrap!==!1)if(b.carouselSlideDimension)d-=(b.slideCount+b.currSlide)*b.carouselSlideDimension;else for(e=b._carouselWrap.children(),f=0;f<b.slideCount+b.currSlide;f++)d-=a(e[f])[g?\"outerHeight\":\"outerWidth\"](!0);b._carouselWrap.css(g?\"top\":\"left\",d)},fluidSlides:function(b){function c(){clearTimeout(e),e=setTimeout(d,20)}function d(){b._carouselWrap.stop(!1,!0);var a=b.container.width()/b.carouselVisible;a=Math.ceil(a-g),b._carouselWrap.children().width(a),b._sentinel&&b._sentinel.width(a),h(b)}var e,f=b.slides.eq(0),g=f.outerWidth()-f.width(),h=this.prepareDimensions;a(window).on(\"resize\",c),b._carouselResizeThrottle=c,d()},transition:function(b,c,d,e,f){var g,h={},i=b.nextSlide-b.currSlide,j=b.carouselVertical,k=b.speed;if(b.allowWrap===!1){e=i>0;var l=b._currSlide,m=b.slideCount-b.carouselVisible;i>0&&b.nextSlide>m&&l==m?i=0:i>0&&b.nextSlide>m?i=b.nextSlide-l-(b.nextSlide-m):0>i&&b.currSlide>m&&b.nextSlide>m?i=0:0>i&&b.currSlide>m?i+=b.currSlide-m:l=b.currSlide,g=this.getScroll(b,j,l,i),b.API.opts()._currSlide=b.nextSlide>m?m:b.nextSlide}else e&&0===b.nextSlide?(g=this.getDim(b,b.currSlide,j),f=this.genCallback(b,e,j,f)):e||b.nextSlide!=b.slideCount-1?g=this.getScroll(b,j,b.currSlide,i):(g=this.getDim(b,b.currSlide,j),f=this.genCallback(b,e,j,f));h[j?\"top\":\"left\"]=e?\"-=\"+g:\"+=\"+g,b.throttleSpeed&&(k=g/a(b.slides[0])[j?\"height\":\"width\"]()*b.speed),b._carouselWrap.animate(h,k,b.easing,f)},getDim:function(b,c,d){var e=a(b.slides[c]);return e[d?\"outerHeight\":\"outerWidth\"](!0)},getScroll:function(a,b,c,d){var e,f=0;if(d>0)for(e=c;c+d>e;e++)f+=this.getDim(a,e,b);else for(e=c;e>c+d;e--)f+=this.getDim(a,e,b);return f},genCallback:function(b,c,d,e){return function(){var c=a(b.slides[b.nextSlide]).position(),f=0-c[d?\"top\":\"left\"]+(b.carouselOffset||0);b._carouselWrap.css(b.carouselVertical?\"top\":\"left\",f),e()}},stopTransition:function(){var a=this.opts();a.slides.stop(!1,!0),a._carouselWrap.stop(!1,!0)},onDestroy:function(){var b=this.opts();b._carouselResizeThrottle&&a(window).off(\"resize\",b._carouselResizeThrottle),b.slides.prependTo(b.container),b._carouselWrap.remove()}}}(jQuery);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/jquery-cycle2/build/plugin/jquery.cycle2.carousel.min.js\n// module id = 23\n// module chunks = 0","$ = require('jquery')\r\n\r\nrequire('tipso/src/tipso')\r\n\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t$target.find('.tooltip').tipso(\r\n\t\t\tposition: 'top-right'\r\n\t\t\tbackground: '#fff'\r\n\t\t\tcolor: '#444'\r\n\t\t\tuseTitle: true\r\n\t\t\ttooltipHover: true\r\n\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/tooltip.coffee","/*!\r\n * tipso - A Lightweight Responsive jQuery Tooltip Plugin v1.0.8\r\n * Copyright (c) 2014-2015 Bojan Petkovski\r\n * http://tipso.object505.com\r\n * Licensed under the MIT license\r\n * http://object505.mit-license.org/\r\n */\r\n // CommonJS, AMD or browser globals\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(['jquery'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        // Node/CommonJS\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        // Browser globals\r\n        factory(jQuery);\r\n    }\r\n}(function($) {\r\n  var pluginName = \"tipso\",\r\n    defaults = {\r\n      speed             : 400,          //Animation speed\r\n      background        : '#55b555',\r\n      titleBackground   : '#333333',\r\n      color             : '#ffffff',\r\n      titleColor        : '#ffffff',\r\n      titleContent      : '',           //Content of the title bar\r\n      showArrow         : true,\r\n      position          : 'top',\r\n      width             : 200,\r\n      maxWidth          : '',\r\n      delay             : 200,\r\n      hideDelay         : 0,\r\n      animationIn       : '',\r\n      animationOut      : '',\r\n      offsetX           : 0,\r\n      offsetY           : 0,\r\n      arrowWidth        : 8,\r\n      tooltipHover      : false,\r\n      content           : null,\r\n      ajaxContentUrl    : null,\r\n      ajaxContentBuffer : 0,\r\n      contentElementId  : null,         //Normally used for picking template scripts\r\n      useTitle          : false,        //Use the title tag as tooptip or not\r\n      templateEngineFunc: null,         //A function that compiles and renders the content\r\n      onBeforeShow      : null,\r\n      onShow            : null,\r\n      onHide            : null\r\n    };\r\n\r\n  function Plugin(element, options) {\r\n    this.element = element;\r\n    this.$element = $(this.element);\r\n    this.doc = $(document);\r\n    this.win = $(window);\r\n    this.settings = $.extend({}, defaults, options);\r\n\r\n    /*\r\n     * Process and add data-attrs to settings as well for ease of use. Also, if\r\n     * data-tipso is an object then use it as extra settings and if it's not\r\n     * then use it as a title.\r\n     */\r\n    if (typeof(this.$element.data(\"tipso\")) === \"object\")\r\n    {\r\n      $.extend(this.settings, this.$element.data(\"tipso\"));\r\n    }\r\n\r\n    var data_keys = Object.keys(this.$element.data());\r\n    var data_attrs = {};\r\n    for (var i = 0; i < data_keys.length; i++)\r\n    {\r\n      var key = data_keys[i].replace(pluginName, \"\");\r\n      if (key === \"\")\r\n      {\r\n        continue;\r\n      }\r\n      //lowercase first letter\r\n      key = key.charAt(0).toLowerCase() + key.slice(1);\r\n      data_attrs[key] = this.$element.data(data_keys[i]);\r\n\r\n      //We cannot use extend for data_attrs because they are automatically\r\n      //lowercased. We need to do this manually and extend this.settings with\r\n      //data_attrs\r\n      for (var settings_key in this.settings)\r\n      {\r\n        if (settings_key.toLowerCase() == key)\r\n        {\r\n          this.settings[settings_key] = data_attrs[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    this._defaults = defaults;\r\n    this._name = pluginName;\r\n    this._title = this.$element.attr('title');\r\n    this.mode = 'hide';\r\n    this.ieFade = !supportsTransitions;\r\n\r\n    //By keeping the original prefered position and repositioning by calling\r\n    //the reposition function we can make for more smart and easier positioning\r\n    //in complex scenarios!\r\n    this.settings.preferedPosition = this.settings.position;\r\n\r\n    this.init();\r\n  }\r\n\r\n  $.extend(Plugin.prototype, {\r\n    init: function() {\r\n      var obj = this,\r\n        $e = this.$element,\r\n        $doc = this.doc;\r\n      $e.addClass('tipso_style').removeAttr('title');\r\n\r\n      if (obj.settings.tooltipHover) {\r\n        var waitForHover = null,\r\n            hoverHelper = null;\r\n        $e.on('mouseover' + '.' + pluginName, function() {\r\n          clearTimeout(waitForHover);\r\n          clearTimeout(hoverHelper);\r\n          hoverHelper = setTimeout(function(){\r\n            obj.show();\r\n          }, 150);\r\n        });\r\n        $e.on('mouseout' + '.' + pluginName, function() {\r\n          clearTimeout(waitForHover);\r\n          clearTimeout(hoverHelper);\r\n          waitForHover = setTimeout(function(){\r\n            obj.hide();\r\n          }, 200);\r\n\r\n          obj.tooltip()\r\n            .on('mouseover' + '.' + pluginName, function() {\r\n              obj.mode = 'tooltipHover';\r\n            })\r\n            .on('mouseout' + '.' + pluginName, function() {\r\n              obj.mode = 'show';\r\n              clearTimeout(waitForHover);\r\n              waitForHover = setTimeout(function(){\r\n                obj.hide();\r\n              }, 200);\r\n            })\r\n        ;\r\n        });\r\n      } else {\r\n        $e.on('mouseover' + '.' + pluginName, function() {\r\n          obj.show();\r\n        });\r\n        $e.on('mouseout' + '.' + pluginName, function() {\r\n          obj.hide();\r\n        });\r\n      }\r\n\t  if(obj.settings.ajaxContentUrl)\r\n\t  {\r\n\t\tobj.ajaxContent = null;\r\n\t  }\r\n    },\r\n    tooltip: function() {\r\n      if (!this.tipso_bubble) {\r\n        this.tipso_bubble = $(\r\n          '<div class=\"tipso_bubble\"><div class=\"tipso_title\"></div><div class=\"tipso_content\"></div><div class=\"tipso_arrow\"></div></div>'\r\n        );\r\n      }\r\n      return this.tipso_bubble;\r\n    },\r\n    show: function() {\r\n      var tipso_bubble = this.tooltip(),\r\n        obj = this,\r\n        $win = this.win;\r\n\r\n      if (obj.settings.showArrow === false) {\r\n          tipso_bubble.find(\".tipso_arrow\").hide();\r\n      }\r\n      else {\r\n          tipso_bubble.find(\".tipso_arrow\").show();\r\n      }\r\n\r\n      if (obj.mode === 'hide') {\r\n        if ($.isFunction(obj.settings.onBeforeShow)) {\r\n          obj.settings.onBeforeShow(obj.$element, obj.element, obj);\r\n        }\r\n        if (obj.settings.size) {\r\n            tipso_bubble.addClass(obj.settings.size);\r\n        }\r\n        if (obj.settings.width) {\r\n          tipso_bubble.css({\r\n            background: obj.settings.background,\r\n            color: obj.settings.color,\r\n            width: obj.settings.width\r\n          }).hide();\r\n        } else if (obj.settings.maxWidth){\r\n          tipso_bubble.css({\r\n            background: obj.settings.background,\r\n            color: obj.settings.color,\r\n            maxWidth: obj.settings.maxWidth\r\n          }).hide();\r\n        } else {\r\n          tipso_bubble.css({\r\n            background: obj.settings.background,\r\n            color: obj.settings.color,\r\n            width: 200\r\n          }).hide();\r\n        }\r\n        tipso_bubble.find('.tipso_title').css({\r\n            background: obj.settings.titleBackground,\r\n            color: obj.settings.titleColor\r\n        });\r\n        tipso_bubble.find('.tipso_content').html(obj.content());\r\n        tipso_bubble.find('.tipso_title').html(obj.titleContent());\r\n        reposition(obj);\r\n\r\n        $win.on('resize' + '.' + pluginName, function tipsoResizeHandler () {\r\n            obj.settings.position = obj.settings.preferedPosition;\r\n            reposition(obj);\r\n        });\r\n\r\n        window.clearTimeout(obj.timeout);\r\n        obj.timeout = null;\r\n        obj.timeout = window.setTimeout(function() {\r\n          if (obj.ieFade || obj.settings.animationIn === '' || obj.settings.animationOut === ''){\r\n            tipso_bubble.appendTo('body').stop(true, true).fadeIn(obj.settings\r\n            .speed, function() {\r\n              obj.mode = 'show';\r\n              if ($.isFunction(obj.settings.onShow)) {\r\n                obj.settings.onShow(obj.$element, obj.element, obj);\r\n              }\r\n            });\r\n          } else {\r\n            tipso_bubble.remove().appendTo('body')\r\n            .stop(true, true)\r\n            .removeClass('animated ' + obj.settings.animationOut)\r\n            .addClass('noAnimation')\r\n            .removeClass('noAnimation')\r\n            .addClass('animated ' + obj.settings.animationIn).fadeIn(obj.settings.speed, function() {\r\n              $(this).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){\r\n                $(this).removeClass('animated ' + obj.settings.animationIn);\r\n              });\r\n              obj.mode = 'show';\r\n              if ($.isFunction(obj.settings.onShow)) {\r\n                obj.settings.onShow(obj.$element, obj.element, obj);\r\n              }\r\n              $win.off('resize' + '.' + pluginName, null, 'tipsoResizeHandler');\r\n            });\r\n          }\r\n        }, obj.settings.delay);\r\n      }\r\n    },\r\n    hide: function(force) {\r\n      var obj = this,\r\n        $win = this.win,\r\n        tipso_bubble = this.tooltip(),\r\n        hideDelay = obj.settings.hideDelay;\r\n\r\n      if (force) {\r\n        hideDelay = 0;\r\n        obj.mode = 'show';\r\n      }\r\n\r\n      window.clearTimeout(obj.timeout);\r\n      obj.timeout = null;\r\n      obj.timeout = window.setTimeout(function() {\r\n        if (obj.mode !== 'tooltipHover') {\r\n          if (obj.ieFade || obj.settings.animationIn === '' || obj.settings.animationOut === ''){\r\n            tipso_bubble.stop(true, true).fadeOut(obj.settings.speed,\r\n            function() {\r\n              $(this).remove();\r\n              if ($.isFunction(obj.settings.onHide) && obj.mode === 'show') {\r\n                obj.settings.onHide(obj.$element, obj.element, obj);\r\n              }\r\n              obj.mode = 'hide';\r\n              $win.off('resize' + '.' + pluginName, null, 'tipsoResizeHandler');\r\n            });\r\n          } else {\r\n            tipso_bubble.stop(true, true)\r\n            .removeClass('animated ' + obj.settings.animationIn)\r\n            .addClass('noAnimation').removeClass('noAnimation')\r\n            .addClass('animated ' + obj.settings.animationOut)\r\n            .one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){\r\n              $(this).removeClass('animated ' + obj.settings.animationOut).remove();\r\n              if ($.isFunction(obj.settings.onHide) && obj.mode === 'show') {\r\n                obj.settings.onHide(obj.$element, obj.element, obj);\r\n              }\r\n              obj.mode = 'hide';\r\n              $win.off('resize' + '.' + pluginName, null, 'tipsoResizeHandler');\r\n            });\r\n          }\r\n        }\r\n      }, hideDelay);\r\n    },\r\n    close: function() {\r\n      this.hide(true);\r\n    },\r\n    destroy: function() {\r\n      var $e = this.$element,\r\n        $win = this.win,\r\n        $doc = this.doc;\r\n      $e.off('.' + pluginName);\r\n      $win.off('resize' + '.' + pluginName, null, 'tipsoResizeHandler');\r\n      $e.removeData(pluginName);\r\n      $e.removeClass('tipso_style').attr('title', this._title);\r\n    },\r\n    titleContent: function() {\r\n        var content,\r\n          $e = this.$element,\r\n          obj = this;\r\n        if (obj.settings.titleContent)\r\n        {\r\n            content = obj.settings.titleContent;\r\n        }\r\n        else\r\n        {\r\n            content = $e.data('tipso-title');\r\n        }\r\n        return content;\r\n    },\r\n    content: function() {\r\n      var content,\r\n        $e = this.$element,\r\n        obj = this,\r\n        title = this._title;\r\n      if (obj.settings.ajaxContentUrl)\r\n      {\r\n\t\tif(obj._ajaxContent)\r\n\t\t{\r\n\t\t\tcontent = obj._ajaxContent;\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\tobj._ajaxContent = content = $.ajax({\r\n\t\t\t  type: \"GET\",\r\n\t\t\t  url: obj.settings.ajaxContentUrl,\r\n\t\t\t  async: false\r\n\t\t\t}).responseText;\r\n\t\t\tif(obj.settings.ajaxContentBuffer > 0)\r\n\t\t\t{\r\n\t\t\t\tsetTimeout(function(){ \r\n\t\t\t\t\tobj._ajaxContent = null;\r\n\t\t\t\t}, obj.settings.ajaxContentBuffer);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tobj._ajaxContent = null;\r\n\t\t\t}\r\n\t\t}\r\n      }\r\n      else if (obj.settings.contentElementId)\r\n      {\r\n        content = $(\"#\" + obj.settings.contentElementId).text();\r\n      }\r\n      else if (obj.settings.content)\r\n      {\r\n        content = obj.settings.content;\r\n      }\r\n      else\r\n      {\r\n        if (obj.settings.useTitle === true)\r\n        {\r\n          content = title;\r\n        }\r\n        else\r\n        {\r\n          // Only use data-tipso as content if it's not being used for settings\r\n          if (typeof($e.data(\"tipso\")) === \"string\")\r\n          {\r\n            content = $e.data('tipso');\r\n          }\r\n        }\r\n      }\r\n      if (obj.settings.templateEngineFunc !== null)\r\n      {\r\n          content = obj.settings.templateEngineFunc(content);\r\n      }\r\n      return content;\r\n    },\r\n    update: function(key, value) {\r\n      var obj = this;\r\n      if (value) {\r\n        obj.settings[key] = value;\r\n      } else {\r\n        return obj.settings[key];\r\n      }\r\n    }\r\n  });\r\n\r\n  function realHeight(obj) {\r\n    var clone = obj.clone();\r\n    clone.css(\"visibility\", \"hidden\");\r\n    $('body').append(clone);\r\n    var height = clone.outerHeight();\r\n    var width = clone.outerWidth();\r\n    clone.remove();\r\n    return {\r\n      'width' : width,\r\n      'height' : height\r\n    };\r\n  }\r\n\r\n  var supportsTransitions = (function() {\r\n    var s = document.createElement('p').style,\r\n        v = ['ms','O','Moz','Webkit'];\r\n    if( s['transition'] === '' ) return true;\r\n    while( v.length )\r\n        if( v.pop() + 'Transition' in s )\r\n            return true;\r\n    return false;\r\n  })();\r\n\r\n  function removeCornerClasses(obj) {\r\n    obj.removeClass(\"top_right_corner bottom_right_corner top_left_corner bottom_left_corner\");\r\n    obj.find(\".tipso_title\").removeClass(\"top_right_corner bottom_right_corner top_left_corner bottom_left_corner\");\r\n  }\r\n\r\n  function reposition(thisthat) {\r\n    var tipso_bubble = thisthat.tooltip(),\r\n      $e = thisthat.$element,\r\n      obj = thisthat,\r\n      $win = $(window),\r\n      arrow = 10,\r\n      pos_top, pos_left, diff;\r\n\r\n    var arrow_color = obj.settings.background;\r\n    var title_content = obj.titleContent();\r\n    if (title_content !== undefined && title_content !== '') {\r\n        arrow_color = obj.settings.titleBackground;\r\n    }\r\n\r\n    if ($e.parent().outerWidth() > $win.outerWidth()) {\r\n      $win = $e.parent();\r\n    }\r\n\r\n    switch (obj.settings.position)\r\n    {\r\n      case 'top-right':\r\n        pos_left = $e.offset().left + ($e.outerWidth());\r\n        pos_top = $e.offset().top - realHeight(tipso_bubble).height - arrow;\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: -obj.settings.arrowWidth,\r\n          marginTop: '',\r\n        });\r\n        if (pos_top < $win.scrollTop())\r\n        {\r\n          pos_top = $e.offset().top + $e.outerHeight() + arrow;\r\n\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-bottom-color': arrow_color,\r\n            'border-top-color': 'transparent',\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n\r\n          /*\r\n           * Hide and show the appropriate rounded corners\r\n           */\r\n          removeCornerClasses(tipso_bubble);\r\n          tipso_bubble.addClass(\"bottom_right_corner\");\r\n          tipso_bubble.find(\".tipso_title\").addClass(\"bottom_right_corner\");\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-left-color': arrow_color,\r\n          });\r\n\r\n          tipso_bubble.removeClass('top-right top bottom left right');\r\n          tipso_bubble.addClass('bottom');\r\n        }\r\n        else\r\n        {\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-top-color': obj.settings.background,\r\n            'border-bottom-color': 'transparent ',\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n\r\n          /*\r\n           * Hide and show the appropriate rounded corners\r\n           */\r\n          removeCornerClasses(tipso_bubble);\r\n          tipso_bubble.addClass(\"top_right_corner\");\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-left-color': obj.settings.background,\r\n          });\r\n\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass('top');\r\n        }\r\n        break;\r\n      case 'top-left':\r\n        pos_left = $e.offset().left - (realHeight(tipso_bubble).width);\r\n        pos_top = $e.offset().top - realHeight(tipso_bubble).height - arrow;\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: -obj.settings.arrowWidth,\r\n          marginTop: '',\r\n        });\r\n        if (pos_top < $win.scrollTop())\r\n        {\r\n          pos_top = $e.offset().top + $e.outerHeight() + arrow;\r\n\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-bottom-color': arrow_color,\r\n            'border-top-color': 'transparent',\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n\r\n          /*\r\n           * Hide and show the appropriate rounded corners\r\n           */\r\n          removeCornerClasses(tipso_bubble);\r\n          tipso_bubble.addClass(\"bottom_left_corner\");\r\n          tipso_bubble.find(\".tipso_title\").addClass(\"bottom_left_corner\");\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-right-color': arrow_color,\r\n          });\r\n\r\n          tipso_bubble.removeClass('top-right top bottom left right');\r\n          tipso_bubble.addClass('bottom');\r\n        }\r\n        else\r\n        {\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-top-color': obj.settings.background,\r\n            'border-bottom-color': 'transparent ',\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n\r\n          /*\r\n           * Hide and show the appropriate rounded corners\r\n           */\r\n          removeCornerClasses(tipso_bubble);\r\n          tipso_bubble.addClass(\"top_left_corner\");\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-right-color': obj.settings.background,\r\n          });\r\n\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass('top');\r\n        }\r\n        break;\r\n\r\n      /*\r\n       * Bottom right position\r\n       */\r\n      case 'bottom-right':\r\n       pos_left = $e.offset().left + ($e.outerWidth());\r\n       pos_top = $e.offset().top + $e.outerHeight() + arrow;\r\n       tipso_bubble.find('.tipso_arrow').css({\r\n         marginLeft: -obj.settings.arrowWidth,\r\n         marginTop: '',\r\n       });\r\n       if (pos_top + realHeight(tipso_bubble).height > $win.scrollTop() + $win.outerHeight())\r\n       {\r\n         pos_top = $e.offset().top - realHeight(tipso_bubble).height - arrow;\r\n\r\n         tipso_bubble.find('.tipso_arrow').css({\r\n           'border-bottom-color': 'transparent',\r\n           'border-top-color': obj.settings.background,\r\n           'border-left-color': 'transparent',\r\n           'border-right-color': 'transparent'\r\n         });\r\n\r\n         /*\r\n          * Hide and show the appropriate rounded corners\r\n          */\r\n         removeCornerClasses(tipso_bubble);\r\n         tipso_bubble.addClass(\"top_right_corner\");\r\n         tipso_bubble.find(\".tipso_title\").addClass(\"top_left_corner\");\r\n         tipso_bubble.find('.tipso_arrow').css({\r\n           'border-left-color': obj.settings.background,\r\n         });\r\n\r\n         tipso_bubble.removeClass('top-right top bottom left right');\r\n         tipso_bubble.addClass('top');\r\n       }\r\n       else\r\n       {\r\n         tipso_bubble.find('.tipso_arrow').css({\r\n           'border-top-color': 'transparent',\r\n           'border-bottom-color': arrow_color,\r\n           'border-left-color': 'transparent',\r\n           'border-right-color': 'transparent'\r\n         });\r\n\r\n         /*\r\n          * Hide and show the appropriate rounded corners\r\n          */\r\n         removeCornerClasses(tipso_bubble);\r\n         tipso_bubble.addClass(\"bottom_right_corner\");\r\n         tipso_bubble.find(\".tipso_title\").addClass(\"bottom_right_corner\");\r\n         tipso_bubble.find('.tipso_arrow').css({\r\n           'border-left-color': arrow_color,\r\n         });\r\n\r\n         tipso_bubble.removeClass('top bottom left right');\r\n         tipso_bubble.addClass('bottom');\r\n       }\r\n       break;\r\n\r\n       /*\r\n        * Bottom left position\r\n        */\r\n       case 'bottom-left':\r\n        pos_left = $e.offset().left - (realHeight(tipso_bubble).width);\r\n        pos_top = $e.offset().top + $e.outerHeight() + arrow;\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: -obj.settings.arrowWidth,\r\n          marginTop: '',\r\n        });\r\n        if (pos_top + realHeight(tipso_bubble).height > $win.scrollTop() + $win.outerHeight())\r\n        {\r\n          pos_top = $e.offset().top - realHeight(tipso_bubble).height - arrow;\r\n\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-bottom-color': 'transparent',\r\n            'border-top-color': obj.settings.background,\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n\r\n          /*\r\n           * Hide and show the appropriate rounded corners\r\n           */\r\n          removeCornerClasses(tipso_bubble);\r\n          tipso_bubble.addClass(\"top_left_corner\");\r\n          tipso_bubble.find(\".tipso_title\").addClass(\"top_left_corner\");\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-right-color': obj.settings.background,\r\n          });\r\n\r\n          tipso_bubble.removeClass('top-right top bottom left right');\r\n          tipso_bubble.addClass('top');\r\n        }\r\n        else\r\n        {\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-top-color': 'transparent',\r\n            'border-bottom-color': arrow_color,\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n\r\n          /*\r\n           * Hide and show the appropriate rounded corners\r\n           */\r\n          removeCornerClasses(tipso_bubble);\r\n          tipso_bubble.addClass(\"bottom_left_corner\");\r\n          tipso_bubble.find(\".tipso_title\").addClass(\"bottom_left_corner\");\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-right-color': arrow_color,\r\n          });\r\n\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass('bottom');\r\n        }\r\n        break;\r\n      /*\r\n       * Top position\r\n       */\r\n      case 'top':\r\n        pos_left = $e.offset().left + ($e.outerWidth() / 2) - (realHeight(tipso_bubble).width / 2);\r\n        pos_top = $e.offset().top - realHeight(tipso_bubble).height - arrow;\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: -obj.settings.arrowWidth,\r\n          marginTop: '',\r\n        });\r\n        if (pos_top < $win.scrollTop())\r\n        {\r\n          pos_top = $e.offset().top + $e.outerHeight() + arrow;\r\n\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-bottom-color': arrow_color,\r\n            'border-top-color': 'transparent',\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass('bottom');\r\n        }\r\n        else\r\n        {\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-top-color': obj.settings.background,\r\n            'border-bottom-color': 'transparent',\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass('top');\r\n        }\r\n        break;\r\n      case 'bottom':\r\n        pos_left = $e.offset().left + ($e.outerWidth() / 2) - (realHeight(tipso_bubble).width / 2);\r\n        pos_top = $e.offset().top + $e.outerHeight() + arrow;\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: -obj.settings.arrowWidth,\r\n          marginTop: '',\r\n        });\r\n        if (pos_top + realHeight(tipso_bubble).height > $win.scrollTop() + $win.outerHeight())\r\n        {\r\n          pos_top = $e.offset().top - realHeight(tipso_bubble).height - arrow;\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-top-color': obj.settings.background,\r\n            'border-bottom-color': 'transparent',\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass('top');\r\n        }\r\n        else\r\n        {\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-bottom-color': arrow_color,\r\n            'border-top-color': 'transparent',\r\n            'border-left-color': 'transparent',\r\n            'border-right-color': 'transparent'\r\n          });\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass(obj.settings.position);\r\n        }\r\n        break;\r\n      case 'left':\r\n        pos_left = $e.offset().left - realHeight(tipso_bubble).width - arrow;\r\n        pos_top = $e.offset().top + ($e.outerHeight() / 2) - (realHeight(tipso_bubble).height / 2);\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginTop: -obj.settings.arrowWidth,\r\n          marginLeft: ''\r\n        });\r\n        if (pos_left < $win.scrollLeft())\r\n        {\r\n          pos_left = $e.offset().left + $e.outerWidth() + arrow;\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-right-color': obj.settings.background,\r\n            'border-left-color': 'transparent',\r\n            'border-top-color': 'transparent',\r\n            'border-bottom-color': 'transparent'\r\n          });\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass('right');\r\n        }\r\n        else\r\n        {\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-left-color': obj.settings.background,\r\n            'border-right-color': 'transparent',\r\n            'border-top-color': 'transparent',\r\n            'border-bottom-color': 'transparent'\r\n          });\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass(obj.settings.position);\r\n        }\r\n        break;\r\n      case 'right':\r\n        pos_left = $e.offset().left + $e.outerWidth() + arrow;\r\n        pos_top = $e.offset().top + ($e.outerHeight() / 2) - (realHeight(tipso_bubble).height / 2);\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginTop: -obj.settings.arrowWidth,\r\n          marginLeft: ''\r\n        });\r\n        if (pos_left + arrow + obj.settings.width > $win.scrollLeft() + $win.outerWidth())\r\n        {\r\n          pos_left = $e.offset().left - realHeight(tipso_bubble).width - arrow;\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-left-color': obj.settings.background,\r\n            'border-right-color': 'transparent',\r\n            'border-top-color': 'transparent',\r\n            'border-bottom-color': 'transparent'\r\n          });\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass('left');\r\n        }\r\n        else\r\n        {\r\n          tipso_bubble.find('.tipso_arrow').css({\r\n            'border-right-color': obj.settings.background,\r\n            'border-left-color': 'transparent',\r\n            'border-top-color': 'transparent',\r\n            'border-bottom-color': 'transparent'\r\n          });\r\n          tipso_bubble.removeClass('top bottom left right');\r\n          tipso_bubble.addClass(obj.settings.position);\r\n        }\r\n        break;\r\n    }\r\n    /*\r\n     * Set the position of the arrow for the corner positions\r\n     */\r\n    if (obj.settings.position === 'top-right')\r\n    {\r\n      tipso_bubble.find('.tipso_arrow').css({\r\n        'margin-left': -obj.settings.width / 2\r\n      });\r\n    }\r\n    if (obj.settings.position === 'top-left')\r\n    {\r\n      var tipso_arrow = tipso_bubble.find(\".tipso_arrow\").eq(0);\r\n      tipso_arrow.css({\r\n        'margin-left': obj.settings.width / 2 - 2 * obj.settings.arrowWidth\r\n      });\r\n    }\r\n    if (obj.settings.position === 'bottom-right')\r\n    {\r\n      var tipso_arrow = tipso_bubble.find(\".tipso_arrow\").eq(0);\r\n      tipso_arrow.css({\r\n        'margin-left': -obj.settings.width / 2,\r\n        'margin-top': ''\r\n      });\r\n    }\r\n    if (obj.settings.position === 'bottom-left')\r\n    {\r\n      var tipso_arrow = tipso_bubble.find(\".tipso_arrow\").eq(0);\r\n      tipso_arrow.css({\r\n        'margin-left': obj.settings.width / 2 - 2 * obj.settings.arrowWidth,\r\n        'margin-top': ''\r\n      });\r\n    }\r\n\r\n    /*\r\n     * Check out of boundness\r\n     */\r\n    if (pos_left < $win.scrollLeft() && (obj.settings.position === 'bottom' || obj.settings.position === 'top'))\r\n    {\r\n      tipso_bubble.find('.tipso_arrow').css({\r\n        marginLeft: pos_left - obj.settings.arrowWidth\r\n      });\r\n      pos_left = 0;\r\n    }\r\n    if (pos_left + obj.settings.width > $win.outerWidth() && (obj.settings.position === 'bottom' || obj.settings.position === 'top'))\r\n    {\r\n      diff = $win.outerWidth() - (pos_left + obj.settings.width);\r\n      tipso_bubble.find('.tipso_arrow').css({\r\n        marginLeft: -diff - obj.settings.arrowWidth,\r\n        marginTop: ''\r\n      });\r\n      pos_left = pos_left + diff;\r\n    }\r\n    if (pos_left < $win.scrollLeft() &&\r\n       (obj.settings.position === 'left' ||\r\n        obj.settings.position === 'right' ||\r\n        obj.settings.position === 'top-right' ||\r\n        obj.settings.position === 'top-left' ||\r\n        obj.settings.position === 'bottom-right' ||\r\n        obj.settings.position === 'bottom-left'))\r\n    {\r\n      pos_left = $e.offset().left + ($e.outerWidth() / 2) - (realHeight(tipso_bubble).width / 2);\r\n      tipso_bubble.find('.tipso_arrow').css({\r\n        marginLeft: -obj.settings.arrowWidth,\r\n        marginTop: ''\r\n      });\r\n      pos_top = $e.offset().top - realHeight(tipso_bubble).height - arrow;\r\n      if (pos_top < $win.scrollTop())\r\n      {\r\n        pos_top = $e.offset().top + $e.outerHeight() + arrow;\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          'border-bottom-color': arrow_color,\r\n          'border-top-color': 'transparent',\r\n          'border-left-color': 'transparent',\r\n          'border-right-color': 'transparent'\r\n        });\r\n        tipso_bubble.removeClass('top bottom left right');\r\n        removeCornerClasses(tipso_bubble);\r\n        tipso_bubble.addClass('bottom');\r\n      }\r\n      else\r\n      {\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          'border-top-color': obj.settings.background,\r\n          'border-bottom-color': 'transparent',\r\n          'border-left-color': 'transparent',\r\n          'border-right-color': 'transparent'\r\n        });\r\n        tipso_bubble.removeClass('top bottom left right');\r\n        removeCornerClasses(tipso_bubble);\r\n        tipso_bubble.addClass('top');\r\n      }\r\n      if (pos_left + obj.settings.width > $win.outerWidth())\r\n      {\r\n        diff = $win.outerWidth() - (pos_left + obj.settings.width);\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: -diff - obj.settings.arrowWidth,\r\n          marginTop: ''\r\n        });\r\n        pos_left = pos_left + diff;\r\n      }\r\n      if (pos_left < $win.scrollLeft())\r\n      {\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: pos_left - obj.settings.arrowWidth\r\n        });\r\n        pos_left = 0;\r\n      }\r\n    }\r\n\r\n    /*\r\n     * If out of bounds from the right hand side\r\n     */\r\n    if (pos_left + obj.settings.width > $win.outerWidth() &&\r\n       (obj.settings.position === 'left' ||\r\n        obj.settings.position === 'right' ||\r\n        obj.settings.position === 'top-right' ||\r\n        obj.settings.position === 'top-left' ||\r\n        obj.settings.position === 'bottom-right' ||\r\n        obj.settings.position === 'bottom-right'))\r\n    {\r\n      pos_left = $e.offset().left + ($e.outerWidth() / 2) - (realHeight(tipso_bubble).width / 2);\r\n      tipso_bubble.find('.tipso_arrow').css({\r\n        marginLeft: -obj.settings.arrowWidth,\r\n        marginTop: ''\r\n      });\r\n      pos_top = $e.offset().top - realHeight(tipso_bubble).height - arrow;\r\n      if (pos_top < $win.scrollTop())\r\n      {\r\n        pos_top = $e.offset().top + $e.outerHeight() + arrow;\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          'border-bottom-color': arrow_color,\r\n          'border-top-color': 'transparent',\r\n          'border-left-color': 'transparent',\r\n          'border-right-color': 'transparent'\r\n        });\r\n\r\n        removeCornerClasses(tipso_bubble);\r\n        tipso_bubble.removeClass('top bottom left right');\r\n        tipso_bubble.addClass('bottom');\r\n      }\r\n      else\r\n      {\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          'border-top-color': obj.settings.background,\r\n          'border-bottom-color': 'transparent',\r\n          'border-left-color': 'transparent',\r\n          'border-right-color': 'transparent'\r\n        });\r\n\r\n        /*\r\n         * Hide and show the appropriate rounded corners\r\n         */\r\n        removeCornerClasses(tipso_bubble);\r\n        tipso_bubble.removeClass('top bottom left right');\r\n        tipso_bubble.addClass('top');\r\n      }\r\n      if (pos_left + obj.settings.width > $win.outerWidth())\r\n      {\r\n        diff = $win.outerWidth() - (pos_left + obj.settings.width);\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: -diff - obj.settings.arrowWidth,\r\n          marginTop: ''\r\n        });\r\n        pos_left = pos_left + diff;\r\n      }\r\n      if (pos_left < $win.scrollLeft())\r\n      {\r\n        tipso_bubble.find('.tipso_arrow').css({\r\n          marginLeft: pos_left - obj.settings.arrowWidth\r\n        });\r\n        pos_left = 0;\r\n      }\r\n    }\r\n    tipso_bubble.css({\r\n      left: pos_left + obj.settings.offsetX,\r\n      top: pos_top + obj.settings.offsetY\r\n    });\r\n\r\n    // If positioned right or left and tooltip is out of bounds change position\r\n    // This position change will be temporary, because preferedPosition is there\r\n    // to help!!\r\n    if (pos_top < $win.scrollTop() && (obj.settings.position === 'right' || obj.settings.position === 'left'))\r\n    {\r\n      $e.tipso('update', 'position', 'bottom');\r\n      reposition(obj);\r\n    }\r\n    if (pos_top + realHeight(tipso_bubble).height > $win.scrollTop() + $win.outerHeight() &&\r\n        (obj.settings.position === 'right' || obj.settings.position === 'left'))\r\n    {\r\n      $e.tipso('update', 'position', 'top');\r\n      reposition(obj);\r\n    }\r\n\r\n  }\r\n  $[pluginName] = $.fn[pluginName] = function(options) {\r\n    var args = arguments;\r\n    if (options === undefined || typeof options === 'object') {\r\n      if (!(this instanceof $)) {\r\n        $.extend(defaults, options);\r\n      }\r\n      return this.each(function() {\r\n        if (!$.data(this, 'plugin_' + pluginName)) {\r\n          $.data(this, 'plugin_' + pluginName, new Plugin(this, options));\r\n        }\r\n      });\r\n    } else if (typeof options === 'string' && options[0] !== '_' && options !==\r\n      'init') {\r\n      var returns;\r\n      this.each(function() {\r\n        var instance = $.data(this, 'plugin_' + pluginName);\r\n        if (!instance) {\r\n          instance = $.data(this, 'plugin_' + pluginName, new Plugin(\r\n            this, options));\r\n        }\r\n        if (instance instanceof Plugin && typeof instance[options] ===\r\n          'function') {\r\n          returns = instance[options].apply(instance, Array.prototype.slice\r\n            .call(args, 1));\r\n        }\r\n        if (options === 'destroy') {\r\n          $.data(this, 'plugin_' + pluginName, null);\r\n        }\r\n      });\r\n      return returns !== undefined ? returns : this;\r\n    }\r\n  };\r\n}));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/tipso/src/tipso.js\n// module id = 25\n// module chunks = 0","$ = require('jquery')\r\nscrollbarWidth = require('scrollbarWidth')\r\n\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t$target.find('.js-scroll-nav').each(->\r\n\t\t\t$list = $(this)\r\n\t\t\t$wrap = $list.parent()\r\n\t\t\tisInit = false\r\n\t\t\tscrollLeft = 0\r\n\t\t\tscrollWidth = $list.get(0).scrollWidth\r\n\t\t\thasBackground = false\r\n\r\n\t\t\tarrowTpl = (direction) ->\r\n\t\t\t\tclassName = \"scroll-nav scroll-nav--#{direction}\"\r\n\r\n\t\t\t\tif hasBackground\r\n\t\t\t\t\tclassName = \"#{className} scroll-nav--background\"\r\n\r\n\t\t\t\treturn \"<a href='#' class='#{className}'><span class='icon icon-chevron-#{direction}'></span></a>\"\r\n\r\n\t\t\thasScrollbar = ->\r\n\t\t\t\treturn Math.abs(scrollWidth - $list.innerWidth()) > 2\r\n\r\n\t\t\tinit = ->\r\n\t\t\t\tisInit = true\r\n\r\n\t\t\t\tif $list.filter('.menu-secondary__list').length\r\n\t\t\t\t\thasBackground = true\r\n\r\n\t\t\t\taddArrow('right')\r\n\t\t\t\t$list.css('marginBottom', - scrollbarWidth())\r\n\r\n\t\t\t\t$wrap\r\n\t\t\t\t\t.on('mousedown touchstart', '.scroll-nav', (event) ->\r\n\t\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\t\tif $(this).hasClass('scroll-nav--right')\r\n\t\t\t\t\t\t\tmove('right')\r\n\t\t\t\t\t\telse if $(this).hasClass('scroll-nav--left')\r\n\t\t\t\t\t\t\tmove('left')\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.on('mouseup touchend', '.scroll-nav', ->\r\n\t\t\t\t\t\t$list.stop()\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.on('click', '.scroll-nav', (event) ->\r\n\t\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t$list\r\n\t\t\t\t\t.on('scroll', ->\r\n\t\t\t\t\t\thandleScroll()\r\n\t\t\t\t\t)\r\n\r\n\t\t\trecalculate = ->\r\n\t\t\t\tscrollWidth = $list.get(0).scrollWidth\r\n\t\t\t\thandleScroll()\r\n\r\n\t\t\tdestroy = ->\r\n\t\t\t\tisInit = false\r\n\t\t\t\tscrollLeft = 0\r\n\t\t\t\tremoveArrow('left')\r\n\t\t\t\tremoveArrow('right')\r\n\t\t\t\t$list.css('marginBottom', '')\r\n\r\n\t\t\t\t$wrap\r\n\t\t\t\t\t.off('mousedown touchstart mouseup touchend', '.scroll-nav')\r\n\r\n\t\t\t\t$list\r\n\t\t\t\t\t.off('scroll')\r\n\r\n\t\t\taddArrow = (direction) ->\r\n\t\t\t\t$arrow = $wrap.find(\".scroll-nav--#{direction}\")\r\n\r\n\t\t\t\tif not $arrow.length\r\n\t\t\t\t\t$list\r\n\t\t\t\t\t\t.after(arrowTpl(direction))\r\n\r\n\t\t\tremoveArrow = (direction) ->\r\n\t\t\t\t$arrow = $wrap.find(\".scroll-nav--#{direction}\")\r\n\r\n\t\t\t\tif $arrow.length\r\n\t\t\t\t\t$arrow.remove()\r\n\r\n\t\t\thandleScroll = ->\r\n\t\t\t\tscrollLeft = $list.scrollLeft()\r\n\r\n\t\t\t\tif scrollLeft >= 5\r\n\t\t\t\t\taddArrow('left')\r\n\t\t\t\telse\r\n\t\t\t\t\tremoveArrow('left')\r\n\r\n\t\t\t\tif ((scrollWidth - $list.innerWidth()) - scrollLeft) <= 5\r\n\t\t\t\t\tremoveArrow('right')\r\n\t\t\t\telse\r\n\t\t\t\t\taddArrow('right')\r\n\r\n\t\t\thandleResize = ->\r\n\t\t\t\tif hasScrollbar()\r\n\t\t\t\t\tif isInit\r\n\t\t\t\t\t\trecalculate()\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tinit()\r\n\t\t\t\telse\r\n\t\t\t\t\tif isInit\r\n\t\t\t\t\t\tdestroy()\r\n\r\n\t\t\tmove = (direction) ->\r\n\t\t\t\tspeed = 310 / 1000\r\n\t\t\t\tduration = 0\r\n\t\t\t\tdistance = 0\r\n\r\n\t\t\t\tif direction is 'right'\r\n\t\t\t\t\tscroll = scrollWidth\r\n\t\t\t\t\tdistance = (scrollWidth - $list.innerWidth())\r\n\t\t\t\telse if direction is 'left'\r\n\t\t\t\t\tscroll = 0\r\n\t\t\t\t\tdistance = scrollLeft\r\n\r\n\t\t\t\tduration = distance / speed\r\n\r\n\t\t\t\t$list.stop().animate(\r\n\t\t\t\t\tscrollLeft: scroll\r\n\t\t\t\t, duration, 'linear')\r\n\r\n\t\t\t$(window)\r\n\t\t\t\t.on('resize', handleResize)\r\n\r\n\t\t\tif hasScrollbar()\r\n\t\t\t\tinit()\r\n\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/scrollNav.coffee","/*! scrollbarWidth.js v0.1.0 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */\r\n(function (root, factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine([], factory);\r\n\t} else if (typeof exports === 'object') {\r\n\t\tmodule.exports = factory();\r\n\t} else {\r\n\t\t(root.jQuery || root).scrollbarWidth = factory();\r\n\t}\r\n}(this, function () {\r\n\t'use strict';\r\n\r\n\tfunction scrollbarWidth() {\r\n\t\tvar\r\n\t\t\tbody = document.body,\r\n\t\t\tbox = document.createElement('div'),\r\n\t\t\tboxStyle = box.style,\r\n\t\t\twidth;\r\n\r\n\t\tboxStyle.position = 'absolute';\r\n\t\tboxStyle.top = boxStyle.left = '-9999px';\r\n\t\tboxStyle.width = boxStyle.height = '100px';\r\n\t\tboxStyle.overflow = 'scroll';\r\n\r\n\t\tbody.appendChild(box);\r\n\r\n\t\twidth = box.offsetWidth - box.clientWidth;\r\n\r\n\t\tbody.removeChild(box);\r\n\r\n\t\treturn width;\r\n\t}\r\n\r\n\treturn scrollbarWidth;\r\n}));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/scrollbarWidth/scrollbarWidth.js\n// module id = 27\n// module chunks = 0","$ = require('jquery')\r\n\r\nrequire('tinyscrollbar')\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\t$target.find('.js-scrollbar--y').tinyscrollbar()\r\n\t\t$target.find('.js-scrollbar--x').tinyscrollbar(\r\n\t\t\taxis: 'x'\r\n\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/scrollbar.coffee",";(function(factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['jquery'], factory);\r\n    }\r\n    else if (typeof exports === 'object') {\r\n        module.exports = factory(require(\"jquery\"));\r\n    }\r\n    else {\r\n        factory(jQuery);\r\n    }\r\n}\r\n(function($) {\r\n    \"use strict\";\r\n\r\n    var pluginName = \"tinyscrollbar\"\r\n    ,   defaults = {\r\n            axis : 'y'\r\n        ,   wheel : true\r\n        ,   wheelSpeed : 40\r\n        ,   wheelLock : true\r\n        ,   touchLock : true\r\n        ,   trackSize : false\r\n        ,   thumbSize : false\r\n        ,   thumbSizeMin : 20\r\n        }\r\n    ;\r\n\r\n    function Plugin($container, options) {\r\n        /**\r\n         * The options of the carousel extend with the defaults.\r\n         *\r\n         * @property options\r\n         * @type Object\r\n         */\r\n        this.options = $.extend({}, defaults, options);\r\n\r\n        /**\r\n         * @property _defaults\r\n         * @type Object\r\n         * @private\r\n         * @default defaults\r\n         */\r\n        this._defaults = defaults;\r\n\r\n        /**\r\n         * @property _name\r\n         * @type String\r\n         * @private\r\n         * @final\r\n         * @default 'tinyscrollbar'\r\n         */\r\n        this._name = pluginName;\r\n\r\n        var self = this\r\n        ,   $viewport = $container.find(\".viewport\")\r\n        ,   $overview = $container.find(\".overview\")\r\n        ,   $scrollbar = $container.find(\".scrollbar\")\r\n        ,   $track = $scrollbar.find(\".track\")\r\n        ,   $thumb = $scrollbar.find(\".thumb\")\r\n\r\n        ,   hasTouchEvents = (\"ontouchstart\" in document.documentElement)\r\n        ,   wheelEvent = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\r\n                         document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\r\n                         \"DOMMouseScroll\" // let's assume that remaining browsers are older Firefox\r\n        ,   isHorizontal = this.options.axis === 'x'\r\n        ,   sizeLabel = isHorizontal ? \"width\" : \"height\"\r\n        ,   posiLabel = isHorizontal ? \"left\" : \"top\"\r\n\r\n        ,   mousePosition = 0\r\n        ;\r\n\r\n        /**\r\n         * The position of the content relative to the viewport.\r\n         *\r\n         * @property contentPosition\r\n         * @type Number\r\n         */\r\n        this.contentPosition = 0;\r\n\r\n        /**\r\n         * The height or width of the viewport.\r\n         *\r\n         * @property viewportSize\r\n         * @type Number\r\n         */\r\n        this.viewportSize = 0;\r\n\r\n        /**\r\n         * The height or width of the content.\r\n         *\r\n         * @property contentSize\r\n         * @type Number\r\n         */\r\n        this.contentSize = 0;\r\n\r\n        /**\r\n         * The ratio of the content size relative to the viewport size.\r\n         *\r\n         * @property contentRatio\r\n         * @type Number\r\n         */\r\n        this.contentRatio = 0;\r\n\r\n        /**\r\n         * The height or width of the content.\r\n         *\r\n         * @property trackSize\r\n         * @type Number\r\n         */\r\n        this.trackSize = 0;\r\n\r\n        /**\r\n         * The size of the track relative to the size of the content.\r\n         *\r\n         * @property trackRatio\r\n         * @type Number\r\n         */\r\n        this.trackRatio = 0;\r\n\r\n        /**\r\n         * The height or width of the thumb.\r\n         *\r\n         * @property thumbSize\r\n         * @type Number\r\n         */\r\n        this.thumbSize = 0;\r\n\r\n        /**\r\n         * The position of the thumb relative to the track.\r\n         *\r\n         * @property thumbPosition\r\n         * @type Number\r\n         */\r\n        this.thumbPosition = 0;\r\n\r\n        /**\r\n         * Will be true if there is content to scroll.\r\n         *\r\n         * @property hasContentToSroll\r\n         * @type Boolean\r\n         */\r\n        this.hasContentToSroll = false;\r\n\r\n        /**\r\n         * @method _initialize\r\n         * @private\r\n         */\r\n        function _initialize() {\r\n            self.update();\r\n            _setEvents();\r\n\r\n            return self;\r\n        }\r\n\r\n        /**\r\n         * You can use the update method to adjust the scrollbar to new content or to move the scrollbar to a certain point.\r\n         *\r\n         * @method update\r\n         * @chainable\r\n         * @param {Number|String} [scrollTo] Number in pixels or the values \"relative\" or \"bottom\". If you dont specify a parameter it will default to top\r\n         */\r\n        this.update = function(scrollTo) {\r\n            var sizeLabelCap = sizeLabel.charAt(0).toUpperCase() + sizeLabel.slice(1).toLowerCase();\r\n            this.viewportSize = $viewport[0]['offset'+ sizeLabelCap];\r\n            this.contentSize = $overview[0]['scroll'+ sizeLabelCap];\r\n            this.contentRatio = this.viewportSize / this.contentSize;\r\n            this.trackSize = this.options.trackSize || this.viewportSize;\r\n            this.thumbSize = Math.min(this.trackSize, Math.max(this.options.thumbSizeMin, (this.options.thumbSize || (this.trackSize * this.contentRatio))));\r\n            this.trackRatio = (this.contentSize - this.viewportSize) / (this.trackSize - this.thumbSize);\r\n            this.hasContentToSroll = this.contentRatio < 1;\r\n\r\n            $scrollbar.toggleClass(\"disable\", !this.hasContentToSroll);\r\n\r\n            switch (scrollTo) {\r\n                case \"bottom\":\r\n                    this.contentPosition = Math.max(this.contentSize - this.viewportSize, 0);\r\n                    break;\r\n\r\n                case \"relative\":\r\n                    this.contentPosition = Math.min(Math.max(this.contentSize - this.viewportSize, 0), Math.max(0, this.contentPosition));\r\n                    break;\r\n\r\n                default:\r\n                    this.contentPosition = parseInt(scrollTo, 10) || 0;\r\n            }\r\n\r\n            this.thumbPosition = this.contentPosition / this.trackRatio;\r\n\r\n            _setCss();\r\n\r\n            return self;\r\n        };\r\n\r\n        /**\r\n         * @method _setCss\r\n         * @private\r\n         */\r\n        function _setCss() {\r\n            $thumb.css(posiLabel, self.thumbPosition);\r\n            $overview.css(posiLabel, -self.contentPosition);\r\n            $scrollbar.css(sizeLabel, self.trackSize);\r\n            $track.css(sizeLabel, self.trackSize);\r\n            $thumb.css(sizeLabel, self.thumbSize);\r\n        }\r\n\r\n        /**\r\n         * @method _setEvents\r\n         * @private\r\n         */\r\n        function _setEvents() {\r\n            if(hasTouchEvents) {\r\n                $viewport[0].ontouchstart = function(event) {\r\n                    if(1 === event.touches.length) {\r\n                        event.stopPropagation();\r\n\r\n                        _start(event.touches[0]);\r\n                    }\r\n                };\r\n            }\r\n            $thumb.bind(\"mousedown\", function(event){\r\n                event.stopPropagation();\r\n                _start(event);\r\n            });\r\n            $track.bind(\"mousedown\", function(event){\r\n                _start(event, true);\r\n            });\r\n\r\n            $(window).resize(function() {\r\n                self.update(\"relative\");\r\n            });\r\n\r\n            if(self.options.wheel && window.addEventListener) {\r\n                $container[0].addEventListener(wheelEvent, _wheel, false);\r\n            }\r\n            else if(self.options.wheel) {\r\n                $container[0].onmousewheel = _wheel;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method _isAtBegin\r\n         * @private\r\n         */\r\n        function _isAtBegin() {\r\n            return self.contentPosition > 0;\r\n        }\r\n\r\n        /**\r\n         * @method _isAtEnd\r\n         * @private\r\n         */\r\n        function _isAtEnd() {\r\n            return self.contentPosition <= (self.contentSize - self.viewportSize) - 5;\r\n        }\r\n\r\n        /**\r\n         * @method _start\r\n         * @private\r\n         */\r\n        function _start(event, gotoMouse) {\r\n            if(self.hasContentToSroll) {\r\n                $(\"body\").addClass(\"noSelect\");\r\n\r\n                mousePosition = gotoMouse ? $thumb.offset()[posiLabel] : (isHorizontal ? event.pageX : event.pageY);\r\n\r\n                if(hasTouchEvents) {\r\n                    document.ontouchmove = function(event) {\r\n                        if(self.options.touchLock || _isAtBegin() && _isAtEnd()) {\r\n                            event.preventDefault();\r\n                        }\r\n                        event.touches[0][pluginName + \"Touch\"] = 1;\r\n                        _drag(event.touches[0]);\r\n                    };\r\n                    document.ontouchend = _end;\r\n                }\r\n                $(document).bind(\"mousemove\", _drag);\r\n                $(document).bind(\"mouseup\", _end);\r\n                $thumb.bind(\"mouseup\", _end);\r\n                $track.bind(\"mouseup\", _end);\r\n\r\n                _drag(event);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method _wheel\r\n         * @private\r\n         */\r\n        function _wheel(event) {\r\n            if(self.hasContentToSroll) {\r\n                // Trying to make sense of all the different wheel event implementations..\r\n                //\r\n                var evntObj = event || window.event\r\n                ,   wheelDelta = -(evntObj.deltaY || evntObj.detail || (-1 / 3 * evntObj.wheelDelta)) / 40\r\n                ,   multiply = (evntObj.deltaMode === 1) ? self.options.wheelSpeed : 1\r\n                ;\r\n\r\n                self.contentPosition -= wheelDelta * multiply * self.options.wheelSpeed;\r\n                self.contentPosition = Math.min((self.contentSize - self.viewportSize), Math.max(0, self.contentPosition));\r\n                self.thumbPosition = self.contentPosition / self.trackRatio;\r\n\r\n                /**\r\n                 * The move event will trigger when the carousel slides to a new slide.\r\n                 *\r\n                 * @event move\r\n                 */\r\n                $container.trigger(\"move\");\r\n\r\n                $thumb.css(posiLabel, self.thumbPosition);\r\n                $overview.css(posiLabel, -self.contentPosition);\r\n\r\n                if(self.options.wheelLock || _isAtBegin() && _isAtEnd()) {\r\n                    evntObj = $.event.fix(evntObj);\r\n                    evntObj.preventDefault();\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n        }\r\n\r\n        /**\r\n         * @method _drag\r\n         * @private\r\n         */\r\n        function _drag(event) {\r\n            if(self.hasContentToSroll) {\r\n                var mousePositionNew = isHorizontal ? event.pageX : event.pageY\r\n                ,   thumbPositionDelta = event[pluginName + \"Touch\"] ? \r\n                        (mousePosition - mousePositionNew) : (mousePositionNew - mousePosition)\r\n                ,   thumbPositionNew = Math.min((self.trackSize - self.thumbSize), Math.max(0, self.thumbPosition + thumbPositionDelta))\r\n                ;\r\n\r\n                self.contentPosition = thumbPositionNew * self.trackRatio;\r\n\r\n                $container.trigger(\"move\");\r\n\r\n                $thumb.css(posiLabel, thumbPositionNew);\r\n                $overview.css(posiLabel, -self.contentPosition);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method _end\r\n         * @private\r\n         */\r\n        function _end() {\r\n            self.thumbPosition = parseInt($thumb.css(posiLabel), 10) || 0;\r\n\r\n            $(\"body\").removeClass(\"noSelect\");\r\n            $(document).unbind(\"mousemove\", _drag);\r\n            $(document).unbind(\"mouseup\", _end);\r\n            $thumb.unbind(\"mouseup\", _end);\r\n            $track.unbind(\"mouseup\", _end);\r\n            document.ontouchmove = document.ontouchend = null;\r\n        }\r\n\r\n        return _initialize();\r\n    }\r\n\r\n    /**\r\n    * @class tinyscrollbar\r\n    * @constructor\r\n    * @param {Object} options\r\n        @param {String} [options.axis='y'] Vertical or horizontal scroller? ( x || y ).\r\n        @param {Boolean} [options.wheel=true] Enable or disable the mousewheel.\r\n        @param {Boolean} [options.wheelSpeed=40] How many pixels must the mouswheel scroll at a time.\r\n        @param {Boolean} [options.wheelLock=true] Lock default window wheel scrolling when there is no more content to scroll.\r\n        @param {Number} [options.touchLock=true] Lock default window touch scrolling when there is no more content to scroll.\r\n        @param {Boolean|Number} [options.trackSize=false] Set the size of the scrollbar to auto(false) or a fixed number.\r\n        @param {Boolean|Number} [options.thumbSize=false] Set the size of the thumb to auto(false) or a fixed number\r\n        @param {Boolean} [options.thumbSizeMin=20] Minimum thumb size.\r\n    */\r\n    $.fn[pluginName] = function(options) {\r\n        return this.each(function() {\r\n            if(!$.data(this, \"plugin_\" + pluginName)) {\r\n                $.data(this, \"plugin_\" + pluginName, new Plugin($(this), options));\r\n            }\r\n        });\r\n    };\r\n}));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/tinyscrollbar/lib/jquery.tinyscrollbar.js\n// module id = 29\n// module chunks = 0","$ = require('jquery')\r\n\r\nrequire('fancybox/source/jquery.fancybox')\r\nrequire('fancybox/source/helpers/jquery.fancybox-thumbs')\r\nrequire('jquery-touchswipe')\r\n\r\n\r\nmodule.exports =\r\n\tinit: (payload) ->\r\n\t\t{$target} = payload\r\n\r\n\t\tmargin = if $(window).width() >= 700 then [70, 70, 0, 70] else [50, 0, 0, 0]\r\n\r\n\t\t$target.find('.js-lightbox').fancybox(\r\n\t\t\tpadding: 0\r\n\t\t\tmargin: margin\r\n\t\t\tnextEffect: 'none'\r\n\t\t\tprevEffect: 'none'\r\n\t\t\tscrolling: 'no'\r\n\t\t\thelpers:\r\n\t\t\t\tthumbs:\r\n\t\t\t\t\twidth: 130\r\n\t\t\t\t\theight: 73\r\n\t\t\t\toverlay:\r\n\t\t\t\t\tlocked: true\r\n\t\t\ttpl:\r\n\t\t\t\tcloseBtn : '<a href=\"javascript:;\" class=\"fancybox-close fancybox-margin\" ><span class=\"vhide\">Zavt</span><span class=\"icon icon-close\"></span></a>'\r\n\t\t\t\tnext: '<a href=\"javascript:;\" class=\"fancybox-nav fancybox-next\"><span class=\"vhide\">Dal</span><span class=\"icon icon-angle-right\"></span></a>'\r\n\t\t\t\tprev: '<a href=\"javascript:;\" class=\"fancybox-nav fancybox-prev\"><span class=\"vhide\">Pedchoz</span><span class=\"icon icon-angle-left\"></span></a>'\r\n\t\t\tafterLoad: ->\r\n\t\t\t\thasGallery = $(this.element).data('gallery')\r\n\t\t\t\tisFullscreen = $(this.element).data('fullscreen')\r\n\r\n\t\t\t\tif hasGallery is false\r\n\t\t\t\t\tdelete this.helpers.thumbs\r\n\t\t\t\telse\r\n\t\t\t\t\t$('html').addClass('fancybox-gallery')\r\n\r\n\t\t\t\t\tthumbs =\r\n\t\t\t\t\t\twidth: this.helpers.thumbs.width\r\n\t\t\t\t\t\theight: this.helpers.thumbs.height\r\n\r\n\t\t\t\t\tif !isFullscreen? or isFullscreen is true\r\n\t\t\t\t\t\tthis.helpers.thumbs =\r\n\t\t\t\t\t\t\twidth: 160\r\n\t\t\t\t\t\t\theight: 90\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.helpers.thumbs = thumbs\r\n\t\t\tbeforeShow: ->\r\n\t\t\t\ttitle = $(this.element).data('title')\r\n\t\t\t\tcaption = $(this.element).data('caption')\r\n\t\t\t\tisFullscreen = $(this.element).data('fullscreen')\r\n\r\n\t\t\t\tif title?\r\n\t\t\t\t\tthis.title = \"<p class='h5'>#{title}</p>\"\r\n\r\n\t\t\t\tif caption?\r\n\t\t\t\t\tthis.title += \"<p>#{caption}</p>\"\r\n\r\n\t\t\t\tif !isFullscreen? or isFullscreen is true\r\n\t\t\t\t\t$('html').addClass('fancybox-fullscreen')\r\n\t\t\tafterShow: ->\r\n\t\t\t\t$(document).swipe(\r\n\t\t\t\t\tswipe: (event, direction, distance, duration, fingerCount) ->\r\n\t\t\t\t\t\tswitch direction\r\n\t\t\t\t\t\t\twhen 'right' then $.fancybox.prev()\r\n\t\t\t\t\t\t\twhen 'left' then $.fancybox.next()\r\n\r\n\t\t\t\t)\r\n\t\t\tafterClose: ->\r\n\t\t\t\t$(document).swipe('destroy')\r\n\t\t\t\t$('.fancybox-fullscreen').removeClass('fancybox-fullscreen')\r\n\t\t\t\t$('.fancybox-gallery').removeClass('fancybox-gallery')\r\n\t\t)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/lightbox.coffee","/*!\r\n * fancyBox - jQuery Plugin\r\n * version: 2.1.5 (Fri, 14 Jun 2013)\r\n * requires jQuery v1.6 or later\r\n *\r\n * Examples at http://fancyapps.com/fancybox/\r\n * License: www.fancyapps.com/fancybox/#license\r\n *\r\n * Copyright 2012 Janis Skarnelis - janis@fancyapps.com\r\n *\r\n */\r\n\r\n;(function (window, document, $, undefined) {\r\n\t\"use strict\";\r\n\r\n\tvar H = $(\"html\"),\r\n\t\tW = $(window),\r\n\t\tD = $(document),\r\n\t\tF = $.fancybox = function () {\r\n\t\t\tF.open.apply( this, arguments );\r\n\t\t},\r\n\t\tIE =  navigator.userAgent.match(/msie/i),\r\n\t\tdidUpdate\t= null,\r\n\t\tisTouch\t\t= document.createTouch !== undefined,\r\n\r\n\t\tisQuery\t= function(obj) {\r\n\t\t\treturn obj && obj.hasOwnProperty && obj instanceof $;\r\n\t\t},\r\n\t\tisString = function(str) {\r\n\t\t\treturn str && $.type(str) === \"string\";\r\n\t\t},\r\n\t\tisPercentage = function(str) {\r\n\t\t\treturn isString(str) && str.indexOf('%') > 0;\r\n\t\t},\r\n\t\tisScrollable = function(el) {\r\n\t\t\treturn (el && !(el.style.overflow && el.style.overflow === 'hidden') && ((el.clientWidth && el.scrollWidth > el.clientWidth) || (el.clientHeight && el.scrollHeight > el.clientHeight)));\r\n\t\t},\r\n\t\tgetScalar = function(orig, dim) {\r\n\t\t\tvar value = parseInt(orig, 10) || 0;\r\n\r\n\t\t\tif (dim && isPercentage(orig)) {\r\n\t\t\t\tvalue = F.getViewport()[ dim ] / 100 * value;\r\n\t\t\t}\r\n\r\n\t\t\treturn Math.ceil(value);\r\n\t\t},\r\n\t\tgetValue = function(value, dim) {\r\n\t\t\treturn getScalar(value, dim) + 'px';\r\n\t\t};\r\n\r\n\t$.extend(F, {\r\n\t\t// The current version of fancyBox\r\n\t\tversion: '2.1.5',\r\n\r\n\t\tdefaults: {\r\n\t\t\tpadding : 15,\r\n\t\t\tmargin  : 20,\r\n\r\n\t\t\twidth     : 800,\r\n\t\t\theight    : 600,\r\n\t\t\tminWidth  : 100,\r\n\t\t\tminHeight : 100,\r\n\t\t\tmaxWidth  : 9999,\r\n\t\t\tmaxHeight : 9999,\r\n\t\t\tpixelRatio: 1, // Set to 2 for retina display support\r\n\r\n\t\t\tautoSize   : true,\r\n\t\t\tautoHeight : false,\r\n\t\t\tautoWidth  : false,\r\n\r\n\t\t\tautoResize  : true,\r\n\t\t\tautoCenter  : !isTouch,\r\n\t\t\tfitToView   : true,\r\n\t\t\taspectRatio : false,\r\n\t\t\ttopRatio    : 0.5,\r\n\t\t\tleftRatio   : 0.5,\r\n\r\n\t\t\tscrolling : 'auto', // 'auto', 'yes' or 'no'\r\n\t\t\twrapCSS   : '',\r\n\r\n\t\t\tarrows     : true,\r\n\t\t\tcloseBtn   : true,\r\n\t\t\tcloseClick : false,\r\n\t\t\tnextClick  : false,\r\n\t\t\tmouseWheel : true,\r\n\t\t\tautoPlay   : false,\r\n\t\t\tplaySpeed  : 3000,\r\n\t\t\tpreload    : 3,\r\n\t\t\tmodal      : false,\r\n\t\t\tloop       : true,\r\n\r\n\t\t\tajax  : {\r\n\t\t\t\tdataType : 'html',\r\n\t\t\t\theaders  : { 'X-fancyBox': true }\r\n\t\t\t},\r\n\t\t\tiframe : {\r\n\t\t\t\tscrolling : 'auto',\r\n\t\t\t\tpreload   : true\r\n\t\t\t},\r\n\t\t\tswf : {\r\n\t\t\t\twmode: 'transparent',\r\n\t\t\t\tallowfullscreen   : 'true',\r\n\t\t\t\tallowscriptaccess : 'always'\r\n\t\t\t},\r\n\r\n\t\t\tkeys  : {\r\n\t\t\t\tnext : {\r\n\t\t\t\t\t13 : 'left', // enter\r\n\t\t\t\t\t34 : 'up',   // page down\r\n\t\t\t\t\t39 : 'left', // right arrow\r\n\t\t\t\t\t40 : 'up'    // down arrow\r\n\t\t\t\t},\r\n\t\t\t\tprev : {\r\n\t\t\t\t\t8  : 'right',  // backspace\r\n\t\t\t\t\t33 : 'down',   // page up\r\n\t\t\t\t\t37 : 'right',  // left arrow\r\n\t\t\t\t\t38 : 'down'    // up arrow\r\n\t\t\t\t},\r\n\t\t\t\tclose  : [27], // escape key\r\n\t\t\t\tplay   : [32], // space - start/stop slideshow\r\n\t\t\t\ttoggle : [70]  // letter \"f\" - toggle fullscreen\r\n\t\t\t},\r\n\r\n\t\t\tdirection : {\r\n\t\t\t\tnext : 'left',\r\n\t\t\t\tprev : 'right'\r\n\t\t\t},\r\n\r\n\t\t\tscrollOutside  : true,\r\n\r\n\t\t\t// Override some properties\r\n\t\t\tindex   : 0,\r\n\t\t\ttype    : null,\r\n\t\t\thref    : null,\r\n\t\t\tcontent : null,\r\n\t\t\ttitle   : null,\r\n\r\n\t\t\t// HTML templates\r\n\t\t\ttpl: {\r\n\t\t\t\twrap     : '<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',\r\n\t\t\t\timage    : '<img class=\"fancybox-image\" src=\"{href}\" alt=\"\" />',\r\n\t\t\t\tiframe   : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (IE ? ' allowtransparency=\"true\"' : '') + '></iframe>',\r\n\t\t\t\terror    : '<p class=\"fancybox-error\">The requested content cannot be loaded.<br/>Please try again later.</p>',\r\n\t\t\t\tcloseBtn : '<a title=\"Close\" class=\"fancybox-item fancybox-close\" href=\"javascript:;\"></a>',\r\n\t\t\t\tnext     : '<a title=\"Next\" class=\"fancybox-nav fancybox-next\" href=\"javascript:;\"><span></span></a>',\r\n\t\t\t\tprev     : '<a title=\"Previous\" class=\"fancybox-nav fancybox-prev\" href=\"javascript:;\"><span></span></a>',\r\n\t\t\t\tloading  : '<div id=\"fancybox-loading\"><div></div></div>'\r\n\t\t\t},\r\n\r\n\t\t\t// Properties for each animation type\r\n\t\t\t// Opening fancyBox\r\n\t\t\topenEffect  : 'fade', // 'elastic', 'fade' or 'none'\r\n\t\t\topenSpeed   : 250,\r\n\t\t\topenEasing  : 'swing',\r\n\t\t\topenOpacity : true,\r\n\t\t\topenMethod  : 'zoomIn',\r\n\r\n\t\t\t// Closing fancyBox\r\n\t\t\tcloseEffect  : 'fade', // 'elastic', 'fade' or 'none'\r\n\t\t\tcloseSpeed   : 250,\r\n\t\t\tcloseEasing  : 'swing',\r\n\t\t\tcloseOpacity : true,\r\n\t\t\tcloseMethod  : 'zoomOut',\r\n\r\n\t\t\t// Changing next gallery item\r\n\t\t\tnextEffect : 'elastic', // 'elastic', 'fade' or 'none'\r\n\t\t\tnextSpeed  : 250,\r\n\t\t\tnextEasing : 'swing',\r\n\t\t\tnextMethod : 'changeIn',\r\n\r\n\t\t\t// Changing previous gallery item\r\n\t\t\tprevEffect : 'elastic', // 'elastic', 'fade' or 'none'\r\n\t\t\tprevSpeed  : 250,\r\n\t\t\tprevEasing : 'swing',\r\n\t\t\tprevMethod : 'changeOut',\r\n\r\n\t\t\t// Enable default helpers\r\n\t\t\thelpers : {\r\n\t\t\t\toverlay : true,\r\n\t\t\t\ttitle   : true\r\n\t\t\t},\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tonCancel     : $.noop, // If canceling\r\n\t\t\tbeforeLoad   : $.noop, // Before loading\r\n\t\t\tafterLoad    : $.noop, // After loading\r\n\t\t\tbeforeShow   : $.noop, // Before changing in current item\r\n\t\t\tafterShow    : $.noop, // After opening\r\n\t\t\tbeforeChange : $.noop, // Before changing gallery item\r\n\t\t\tbeforeClose  : $.noop, // Before closing\r\n\t\t\tafterClose   : $.noop  // After closing\r\n\t\t},\r\n\r\n\t\t//Current state\r\n\t\tgroup    : {}, // Selected group\r\n\t\topts     : {}, // Group options\r\n\t\tprevious : null,  // Previous element\r\n\t\tcoming   : null,  // Element being loaded\r\n\t\tcurrent  : null,  // Currently loaded element\r\n\t\tisActive : false, // Is activated\r\n\t\tisOpen   : false, // Is currently open\r\n\t\tisOpened : false, // Have been fully opened at least once\r\n\r\n\t\twrap  : null,\r\n\t\tskin  : null,\r\n\t\touter : null,\r\n\t\tinner : null,\r\n\r\n\t\tplayer : {\r\n\t\t\ttimer    : null,\r\n\t\t\tisActive : false\r\n\t\t},\r\n\r\n\t\t// Loaders\r\n\t\tajaxLoad   : null,\r\n\t\timgPreload : null,\r\n\r\n\t\t// Some collections\r\n\t\ttransitions : {},\r\n\t\thelpers     : {},\r\n\r\n\t\t/*\r\n\t\t *\tStatic methods\r\n\t\t */\r\n\r\n\t\topen: function (group, opts) {\r\n\t\t\tif (!group) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!$.isPlainObject(opts)) {\r\n\t\t\t\topts = {};\r\n\t\t\t}\r\n\r\n\t\t\t// Close if already active\r\n\t\t\tif (false === F.close(true)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Normalize group\r\n\t\t\tif (!$.isArray(group)) {\r\n\t\t\t\tgroup = isQuery(group) ? $(group).get() : [group];\r\n\t\t\t}\r\n\r\n\t\t\t// Recheck if the type of each element is `object` and set content type (image, ajax, etc)\r\n\t\t\t$.each(group, function(i, element) {\r\n\t\t\t\tvar obj = {},\r\n\t\t\t\t\thref,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tcontent,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\trez,\r\n\t\t\t\t\threfParts,\r\n\t\t\t\t\tselector;\r\n\r\n\t\t\t\tif ($.type(element) === \"object\") {\r\n\t\t\t\t\t// Check if is DOM element\r\n\t\t\t\t\tif (element.nodeType) {\r\n\t\t\t\t\t\telement = $(element);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (isQuery(element)) {\r\n\t\t\t\t\t\tobj = {\r\n\t\t\t\t\t\t\thref    : element.data('fancybox-href') || element.attr('href'),\r\n\t\t\t\t\t\t\ttitle   : $('<div/>').text( element.data('fancybox-title') || element.attr('title') || '' ).html(),\r\n\t\t\t\t\t\t\tisDom   : true,\r\n\t\t\t\t\t\t\telement : element\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif ($.metadata) {\r\n\t\t\t\t\t\t\t$.extend(true, obj, element.metadata());\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj = element;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\thref  = opts.href  || obj.href || (isString(element) ? element : null);\r\n\t\t\t\ttitle = opts.title !== undefined ? opts.title : obj.title || '';\r\n\r\n\t\t\t\tcontent = opts.content || obj.content;\r\n\t\t\t\ttype    = content ? 'html' : (opts.type  || obj.type);\r\n\r\n\t\t\t\tif (!type && obj.isDom) {\r\n\t\t\t\t\ttype = element.data('fancybox-type');\r\n\r\n\t\t\t\t\tif (!type) {\r\n\t\t\t\t\t\trez  = element.prop('class').match(/fancybox\\.(\\w+)/);\r\n\t\t\t\t\t\ttype = rez ? rez[1] : null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isString(href)) {\r\n\t\t\t\t\t// Try to guess the content type\r\n\t\t\t\t\tif (!type) {\r\n\t\t\t\t\t\tif (F.isImage(href)) {\r\n\t\t\t\t\t\t\ttype = 'image';\r\n\r\n\t\t\t\t\t\t} else if (F.isSWF(href)) {\r\n\t\t\t\t\t\t\ttype = 'swf';\r\n\r\n\t\t\t\t\t\t} else if (href.charAt(0) === '#') {\r\n\t\t\t\t\t\t\ttype = 'inline';\r\n\r\n\t\t\t\t\t\t} else if (isString(element)) {\r\n\t\t\t\t\t\t\ttype    = 'html';\r\n\t\t\t\t\t\t\tcontent = element;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Split url into two pieces with source url and content selector, e.g,\r\n\t\t\t\t\t// \"/mypage.html #my_id\" will load \"/mypage.html\" and display element having id \"my_id\"\r\n\t\t\t\t\tif (type === 'ajax') {\r\n\t\t\t\t\t\threfParts = href.split(/\\s+/, 2);\r\n\t\t\t\t\t\thref      = hrefParts.shift();\r\n\t\t\t\t\t\tselector  = hrefParts.shift();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!content) {\r\n\t\t\t\t\tif (type === 'inline') {\r\n\t\t\t\t\t\tif (href) {\r\n\t\t\t\t\t\t\tcontent = $( isString(href) ? href.replace(/.*(?=#[^\\s]+$)/, '') : href ); //strip for ie7\r\n\r\n\t\t\t\t\t\t} else if (obj.isDom) {\r\n\t\t\t\t\t\t\tcontent = element;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if (type === 'html') {\r\n\t\t\t\t\t\tcontent = href;\r\n\r\n\t\t\t\t\t} else if (!type && !href && obj.isDom) {\r\n\t\t\t\t\t\ttype    = 'inline';\r\n\t\t\t\t\t\tcontent = element;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$.extend(obj, {\r\n\t\t\t\t\thref     : href,\r\n\t\t\t\t\ttype     : type,\r\n\t\t\t\t\tcontent  : content,\r\n\t\t\t\t\ttitle    : title,\r\n\t\t\t\t\tselector : selector\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgroup[ i ] = obj;\r\n\t\t\t});\r\n\r\n\t\t\t// Extend the defaults\r\n\t\t\tF.opts = $.extend(true, {}, F.defaults, opts);\r\n\r\n\t\t\t// All options are merged recursive except keys\r\n\t\t\tif (opts.keys !== undefined) {\r\n\t\t\t\tF.opts.keys = opts.keys ? $.extend({}, F.defaults.keys, opts.keys) : false;\r\n\t\t\t}\r\n\r\n\t\t\tF.group = group;\r\n\r\n\t\t\treturn F._start(F.opts.index);\r\n\t\t},\r\n\r\n\t\t// Cancel image loading or abort ajax request\r\n\t\tcancel: function () {\r\n\t\t\tvar coming = F.coming;\r\n\r\n\t\t\tif (coming && false === F.trigger('onCancel')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tF.hideLoading();\r\n\r\n\t\t\tif (!coming) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (F.ajaxLoad) {\r\n\t\t\t\tF.ajaxLoad.abort();\r\n\t\t\t}\r\n\r\n\t\t\tF.ajaxLoad = null;\r\n\r\n\t\t\tif (F.imgPreload) {\r\n\t\t\t\tF.imgPreload.onload = F.imgPreload.onerror = null;\r\n\t\t\t}\r\n\r\n\t\t\tif (coming.wrap) {\r\n\t\t\t\tcoming.wrap.stop(true, true).trigger('onReset').remove();\r\n\t\t\t}\r\n\r\n\t\t\tF.coming = null;\r\n\r\n\t\t\t// If the first item has been canceled, then clear everything\r\n\t\t\tif (!F.current) {\r\n\t\t\t\tF._afterZoomOut( coming );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Start closing animation if is open; remove immediately if opening/closing\r\n\t\tclose: function (event) {\r\n\t\t\tF.cancel();\r\n\r\n\t\t\tif (false === F.trigger('beforeClose')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tF.unbindEvents();\r\n\r\n\t\t\tif (!F.isActive) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!F.isOpen || event === true) {\r\n\t\t\t\t$('.fancybox-wrap').stop(true).trigger('onReset').remove();\r\n\r\n\t\t\t\tF._afterZoomOut();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tF.isOpen = F.isOpened = false;\r\n\t\t\t\tF.isClosing = true;\r\n\r\n\t\t\t\t$('.fancybox-item, .fancybox-nav').remove();\r\n\r\n\t\t\t\tF.wrap.stop(true, true).removeClass('fancybox-opened');\r\n\r\n\t\t\t\tF.transitions[ F.current.closeMethod ]();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Manage slideshow:\r\n\t\t//   $.fancybox.play(); - toggle slideshow\r\n\t\t//   $.fancybox.play( true ); - start\r\n\t\t//   $.fancybox.play( false ); - stop\r\n\t\tplay: function ( action ) {\r\n\t\t\tvar clear = function () {\r\n\t\t\t\t\tclearTimeout(F.player.timer);\r\n\t\t\t\t},\r\n\t\t\t\tset = function () {\r\n\t\t\t\t\tclear();\r\n\r\n\t\t\t\t\tif (F.current && F.player.isActive) {\r\n\t\t\t\t\t\tF.player.timer = setTimeout(F.next, F.current.playSpeed);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tstop = function () {\r\n\t\t\t\t\tclear();\r\n\r\n\t\t\t\t\tD.unbind('.player');\r\n\r\n\t\t\t\t\tF.player.isActive = false;\r\n\r\n\t\t\t\t\tF.trigger('onPlayEnd');\r\n\t\t\t\t},\r\n\t\t\t\tstart = function () {\r\n\t\t\t\t\tif (F.current && (F.current.loop || F.current.index < F.group.length - 1)) {\r\n\t\t\t\t\t\tF.player.isActive = true;\r\n\r\n\t\t\t\t\t\tD.bind({\r\n\t\t\t\t\t\t\t'onCancel.player beforeClose.player' : stop,\r\n\t\t\t\t\t\t\t'onUpdate.player'   : set,\r\n\t\t\t\t\t\t\t'beforeLoad.player' : clear\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tset();\r\n\r\n\t\t\t\t\t\tF.trigger('onPlayStart');\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\tif (action === true || (!F.player.isActive && action !== false)) {\r\n\t\t\t\tstart();\r\n\t\t\t} else {\r\n\t\t\t\tstop();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Navigate to next gallery item\r\n\t\tnext: function ( direction ) {\r\n\t\t\tvar current = F.current;\r\n\r\n\t\t\tif (current) {\r\n\t\t\t\tif (!isString(direction)) {\r\n\t\t\t\t\tdirection = current.direction.next;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tF.jumpto(current.index + 1, direction, 'next');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Navigate to previous gallery item\r\n\t\tprev: function ( direction ) {\r\n\t\t\tvar current = F.current;\r\n\r\n\t\t\tif (current) {\r\n\t\t\t\tif (!isString(direction)) {\r\n\t\t\t\t\tdirection = current.direction.prev;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tF.jumpto(current.index - 1, direction, 'prev');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Navigate to gallery item by index\r\n\t\tjumpto: function ( index, direction, router ) {\r\n\t\t\tvar current = F.current;\r\n\r\n\t\t\tif (!current) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tindex = getScalar(index);\r\n\r\n\t\t\tF.direction = direction || current.direction[ (index >= current.index ? 'next' : 'prev') ];\r\n\t\t\tF.router    = router || 'jumpto';\r\n\r\n\t\t\tif (current.loop) {\r\n\t\t\t\tif (index < 0) {\r\n\t\t\t\t\tindex = current.group.length + (index % current.group.length);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindex = index % current.group.length;\r\n\t\t\t}\r\n\r\n\t\t\tif (current.group[ index ] !== undefined) {\r\n\t\t\t\tF.cancel();\r\n\r\n\t\t\t\tF._start(index);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Center inside viewport and toggle position type to fixed or absolute if needed\r\n\t\treposition: function (e, onlyAbsolute) {\r\n\t\t\tvar current = F.current,\r\n\t\t\t\twrap    = current ? current.wrap : null,\r\n\t\t\t\tpos;\r\n\r\n\t\t\tif (wrap) {\r\n\t\t\t\tpos = F._getPosition(onlyAbsolute);\r\n\r\n\t\t\t\tif (e && e.type === 'scroll') {\r\n\t\t\t\t\tdelete pos.position;\r\n\r\n\t\t\t\t\twrap.stop(true, true).animate(pos, 200);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\twrap.css(pos);\r\n\r\n\t\t\t\t\tcurrent.pos = $.extend({}, current.dim, pos);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdate: function (e) {\r\n\t\t\tvar type = (e && e.originalEvent && e.originalEvent.type),\r\n\t\t\t\tanyway = !type || type === 'orientationchange';\r\n\r\n\t\t\tif (anyway) {\r\n\t\t\t\tclearTimeout(didUpdate);\r\n\r\n\t\t\t\tdidUpdate = null;\r\n\t\t\t}\r\n\r\n\t\t\tif (!F.isOpen || didUpdate) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdidUpdate = setTimeout(function() {\r\n\t\t\t\tvar current = F.current;\r\n\r\n\t\t\t\tif (!current || F.isClosing) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tF.wrap.removeClass('fancybox-tmp');\r\n\r\n\t\t\t\tif (anyway || type === 'load' || (type === 'resize' && current.autoResize)) {\r\n\t\t\t\t\tF._setDimension();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!(type === 'scroll' && current.canShrink)) {\r\n\t\t\t\t\tF.reposition(e);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tF.trigger('onUpdate');\r\n\r\n\t\t\t\tdidUpdate = null;\r\n\r\n\t\t\t}, (anyway && !isTouch ? 0 : 300));\r\n\t\t},\r\n\r\n\t\t// Shrink content to fit inside viewport or restore if resized\r\n\t\ttoggle: function ( action ) {\r\n\t\t\tif (F.isOpen) {\r\n\t\t\t\tF.current.fitToView = $.type(action) === \"boolean\" ? action : !F.current.fitToView;\r\n\r\n\t\t\t\t// Help browser to restore document dimensions\r\n\t\t\t\tif (isTouch) {\r\n\t\t\t\t\tF.wrap.removeAttr('style').addClass('fancybox-tmp');\r\n\r\n\t\t\t\t\tF.trigger('onUpdate');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tF.update();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thideLoading: function () {\r\n\t\t\tD.unbind('.loading');\r\n\r\n\t\t\t$('#fancybox-loading').remove();\r\n\t\t},\r\n\r\n\t\tshowLoading: function () {\r\n\t\t\tvar el, viewport;\r\n\r\n\t\t\tF.hideLoading();\r\n\r\n\t\t\tel = $(F.opts.tpl.loading).click(F.cancel).appendTo('body');\r\n\r\n\t\t\t// If user will press the escape-button, the request will be canceled\r\n\t\t\tD.bind('keydown.loading', function(e) {\r\n\t\t\t\tif ((e.which || e.keyCode) === 27) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tF.cancel();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!F.defaults.fixed) {\r\n\t\t\t\tviewport = F.getViewport();\r\n\r\n\t\t\t\tel.css({\r\n\t\t\t\t\tposition : 'absolute',\r\n\t\t\t\t\ttop  : (viewport.h * 0.5) + viewport.y,\r\n\t\t\t\t\tleft : (viewport.w * 0.5) + viewport.x\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tF.trigger('onLoading');\r\n\t\t},\r\n\r\n\t\tgetViewport: function () {\r\n\t\t\tvar locked = (F.current && F.current.locked) || false,\r\n\t\t\t\trez    = {\r\n\t\t\t\t\tx: W.scrollLeft(),\r\n\t\t\t\t\ty: W.scrollTop()\r\n\t\t\t\t};\r\n\r\n\t\t\tif (locked && locked.length) {\r\n\t\t\t\trez.w = locked[0].clientWidth;\r\n\t\t\t\trez.h = locked[0].clientHeight;\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// See http://bugs.jquery.com/ticket/6724\r\n\t\t\t\trez.w = isTouch && window.innerWidth  ? window.innerWidth  : W.width();\r\n\t\t\t\trez.h = isTouch && window.innerHeight ? window.innerHeight : W.height();\r\n\t\t\t}\r\n\r\n\t\t\treturn rez;\r\n\t\t},\r\n\r\n\t\t// Unbind the keyboard / clicking actions\r\n\t\tunbindEvents: function () {\r\n\t\t\tif (F.wrap && isQuery(F.wrap)) {\r\n\t\t\t\tF.wrap.unbind('.fb');\r\n\t\t\t}\r\n\r\n\t\t\tD.unbind('.fb');\r\n\t\t\tW.unbind('.fb');\r\n\t\t},\r\n\r\n\t\tbindEvents: function () {\r\n\t\t\tvar current = F.current,\r\n\t\t\t\tkeys;\r\n\r\n\t\t\tif (!current) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Changing document height on iOS devices triggers a 'resize' event,\r\n\t\t\t// that can change document height... repeating infinitely\r\n\t\t\tW.bind('orientationchange.fb' + (isTouch ? '' : ' resize.fb') + (current.autoCenter && !current.locked ? ' scroll.fb' : ''), F.update);\r\n\r\n\t\t\tkeys = current.keys;\r\n\r\n\t\t\tif (keys) {\r\n\t\t\t\tD.bind('keydown.fb', function (e) {\r\n\t\t\t\t\tvar code   = e.which || e.keyCode,\r\n\t\t\t\t\t\ttarget = e.target || e.srcElement;\r\n\r\n\t\t\t\t\t// Skip esc key if loading, because showLoading will cancel preloading\r\n\t\t\t\t\tif (code === 27 && F.coming) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Ignore key combinations and key events within form elements\r\n\t\t\t\t\tif (!e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey && !(target && (target.type || $(target).is('[contenteditable]')))) {\r\n\t\t\t\t\t\t$.each(keys, function(i, val) {\r\n\t\t\t\t\t\t\tif (current.group.length > 1 && val[ code ] !== undefined) {\r\n\t\t\t\t\t\t\t\tF[ i ]( val[ code ] );\r\n\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ($.inArray(code, val) > -1) {\r\n\t\t\t\t\t\t\t\tF[ i ] ();\r\n\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif ($.fn.mousewheel && current.mouseWheel) {\r\n\t\t\t\tF.wrap.bind('mousewheel.fb', function (e, delta, deltaX, deltaY) {\r\n\t\t\t\t\tvar target = e.target || null,\r\n\t\t\t\t\t\tparent = $(target),\r\n\t\t\t\t\t\tcanScroll = false;\r\n\r\n\t\t\t\t\twhile (parent.length) {\r\n\t\t\t\t\t\tif (canScroll || parent.is('.fancybox-skin') || parent.is('.fancybox-wrap')) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcanScroll = isScrollable( parent[0] );\r\n\t\t\t\t\t\tparent    = $(parent).parent();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (delta !== 0 && !canScroll) {\r\n\t\t\t\t\t\tif (F.group.length > 1 && !current.canShrink) {\r\n\t\t\t\t\t\t\tif (deltaY > 0 || deltaX > 0) {\r\n\t\t\t\t\t\t\t\tF.prev( deltaY > 0 ? 'down' : 'left' );\r\n\r\n\t\t\t\t\t\t\t} else if (deltaY < 0 || deltaX < 0) {\r\n\t\t\t\t\t\t\t\tF.next( deltaY < 0 ? 'up' : 'right' );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttrigger: function (event, o) {\r\n\t\t\tvar ret, obj = o || F.coming || F.current;\r\n\r\n\t\t\tif (obj) {\r\n\t\t\t\tif ($.isFunction( obj[event] )) {\r\n\t\t\t\t\tret = obj[event].apply(obj, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (ret === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.helpers) {\r\n\t\t\t\t\t$.each(obj.helpers, function (helper, opts) {\r\n\t\t\t\t\t\tif (opts && F.helpers[helper] && $.isFunction(F.helpers[helper][event])) {\r\n\t\t\t\t\t\t\tF.helpers[helper][event]($.extend(true, {}, F.helpers[helper].defaults, opts), obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tD.trigger(event);\r\n\t\t},\r\n\r\n\t\tisImage: function (str) {\r\n\t\t\treturn isString(str) && str.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i);\r\n\t\t},\r\n\r\n\t\tisSWF: function (str) {\r\n\t\t\treturn isString(str) && str.match(/\\.(swf)((\\?|#).*)?$/i);\r\n\t\t},\r\n\r\n\t\t_start: function (index) {\r\n\t\t\tvar coming = {},\r\n\t\t\t\tobj,\r\n\t\t\t\thref,\r\n\t\t\t\ttype,\r\n\t\t\t\tmargin,\r\n\t\t\t\tpadding;\r\n\r\n\t\t\tindex = getScalar( index );\r\n\t\t\tobj   = F.group[ index ] || null;\r\n\r\n\t\t\tif (!obj) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tcoming = $.extend(true, {}, F.opts, obj);\r\n\r\n\t\t\t// Convert margin and padding properties to array - top, right, bottom, left\r\n\t\t\tmargin  = coming.margin;\r\n\t\t\tpadding = coming.padding;\r\n\r\n\t\t\tif ($.type(margin) === 'number') {\r\n\t\t\t\tcoming.margin = [margin, margin, margin, margin];\r\n\t\t\t}\r\n\r\n\t\t\tif ($.type(padding) === 'number') {\r\n\t\t\t\tcoming.padding = [padding, padding, padding, padding];\r\n\t\t\t}\r\n\r\n\t\t\t// 'modal' propery is just a shortcut\r\n\t\t\tif (coming.modal) {\r\n\t\t\t\t$.extend(true, coming, {\r\n\t\t\t\t\tcloseBtn   : false,\r\n\t\t\t\t\tcloseClick : false,\r\n\t\t\t\t\tnextClick  : false,\r\n\t\t\t\t\tarrows     : false,\r\n\t\t\t\t\tmouseWheel : false,\r\n\t\t\t\t\tkeys       : null,\r\n\t\t\t\t\thelpers: {\r\n\t\t\t\t\t\toverlay : {\r\n\t\t\t\t\t\t\tcloseClick : false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// 'autoSize' property is a shortcut, too\r\n\t\t\tif (coming.autoSize) {\r\n\t\t\t\tcoming.autoWidth = coming.autoHeight = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coming.width === 'auto') {\r\n\t\t\t\tcoming.autoWidth = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coming.height === 'auto') {\r\n\t\t\t\tcoming.autoHeight = true;\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * Add reference to the group, so it`s possible to access from callbacks, example:\r\n\t\t\t * afterLoad : function() {\r\n\t\t\t *     this.title = 'Image ' + (this.index + 1) + ' of ' + this.group.length + (this.title ? ' - ' + this.title : '');\r\n\t\t\t * }\r\n\t\t\t */\r\n\r\n\t\t\tcoming.group  = F.group;\r\n\t\t\tcoming.index  = index;\r\n\r\n\t\t\t// Give a chance for callback or helpers to update coming item (type, title, etc)\r\n\t\t\tF.coming = coming;\r\n\r\n\t\t\tif (false === F.trigger('beforeLoad')) {\r\n\t\t\t\tF.coming = null;\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttype = coming.type;\r\n\t\t\thref = coming.href;\r\n\r\n\t\t\tif (!type) {\r\n\t\t\t\tF.coming = null;\r\n\r\n\t\t\t\t//If we can not determine content type then drop silently or display next/prev item if looping through gallery\r\n\t\t\t\tif (F.current && F.router && F.router !== 'jumpto') {\r\n\t\t\t\t\tF.current.index = index;\r\n\r\n\t\t\t\t\treturn F[ F.router ]( F.direction );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tF.isActive = true;\r\n\r\n\t\t\tif (type === 'image' || type === 'swf') {\r\n\t\t\t\tcoming.autoHeight = coming.autoWidth = false;\r\n\t\t\t\tcoming.scrolling  = 'visible';\r\n\t\t\t}\r\n\r\n\t\t\tif (type === 'image') {\r\n\t\t\t\tcoming.aspectRatio = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (type === 'iframe' && isTouch) {\r\n\t\t\t\tcoming.scrolling = 'scroll';\r\n\t\t\t}\r\n\r\n\t\t\t// Build the neccessary markup\r\n\t\t\tcoming.wrap = $(coming.tpl.wrap).addClass('fancybox-' + (isTouch ? 'mobile' : 'desktop') + ' fancybox-type-' + type + ' fancybox-tmp ' + coming.wrapCSS).appendTo( coming.parent || 'body' );\r\n\r\n\t\t\t$.extend(coming, {\r\n\t\t\t\tskin  : $('.fancybox-skin',  coming.wrap),\r\n\t\t\t\touter : $('.fancybox-outer', coming.wrap),\r\n\t\t\t\tinner : $('.fancybox-inner', coming.wrap)\r\n\t\t\t});\r\n\r\n\t\t\t$.each([\"Top\", \"Right\", \"Bottom\", \"Left\"], function(i, v) {\r\n\t\t\t\tcoming.skin.css('padding' + v, getValue(coming.padding[ i ]));\r\n\t\t\t});\r\n\r\n\t\t\tF.trigger('onReady');\r\n\r\n\t\t\t// Check before try to load; 'inline' and 'html' types need content, others - href\r\n\t\t\tif (type === 'inline' || type === 'html') {\r\n\t\t\t\tif (!coming.content || !coming.content.length) {\r\n\t\t\t\t\treturn F._error( 'content' );\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (!href) {\r\n\t\t\t\treturn F._error( 'href' );\r\n\t\t\t}\r\n\r\n\t\t\tif (type === 'image') {\r\n\t\t\t\tF._loadImage();\r\n\r\n\t\t\t} else if (type === 'ajax') {\r\n\t\t\t\tF._loadAjax();\r\n\r\n\t\t\t} else if (type === 'iframe') {\r\n\t\t\t\tF._loadIframe();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tF._afterLoad();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_error: function ( type ) {\r\n\t\t\t$.extend(F.coming, {\r\n\t\t\t\ttype       : 'html',\r\n\t\t\t\tautoWidth  : true,\r\n\t\t\t\tautoHeight : true,\r\n\t\t\t\tminWidth   : 0,\r\n\t\t\t\tminHeight  : 0,\r\n\t\t\t\tscrolling  : 'no',\r\n\t\t\t\thasError   : type,\r\n\t\t\t\tcontent    : F.coming.tpl.error\r\n\t\t\t});\r\n\r\n\t\t\tF._afterLoad();\r\n\t\t},\r\n\r\n\t\t_loadImage: function () {\r\n\t\t\t// Reset preload image so it is later possible to check \"complete\" property\r\n\t\t\tvar img = F.imgPreload = new Image();\r\n\r\n\t\t\timg.onload = function () {\r\n\t\t\t\tthis.onload = this.onerror = null;\r\n\r\n\t\t\t\tF.coming.width  = this.width / F.opts.pixelRatio;\r\n\t\t\t\tF.coming.height = this.height / F.opts.pixelRatio;\r\n\r\n\t\t\t\tF._afterLoad();\r\n\t\t\t};\r\n\r\n\t\t\timg.onerror = function () {\r\n\t\t\t\tthis.onload = this.onerror = null;\r\n\r\n\t\t\t\tF._error( 'image' );\r\n\t\t\t};\r\n\r\n\t\t\timg.src = F.coming.href;\r\n\r\n\t\t\tif (img.complete !== true) {\r\n\t\t\t\tF.showLoading();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_loadAjax: function () {\r\n\t\t\tvar coming = F.coming;\r\n\r\n\t\t\tF.showLoading();\r\n\r\n\t\t\tF.ajaxLoad = $.ajax($.extend({}, coming.ajax, {\r\n\t\t\t\turl: coming.href,\r\n\t\t\t\terror: function (jqXHR, textStatus) {\r\n\t\t\t\t\tif (F.coming && textStatus !== 'abort') {\r\n\t\t\t\t\t\tF._error( 'ajax', jqXHR );\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tF.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function (data, textStatus) {\r\n\t\t\t\t\tif (textStatus === 'success') {\r\n\t\t\t\t\t\tcoming.content = data;\r\n\r\n\t\t\t\t\t\tF._afterLoad();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_loadIframe: function() {\r\n\t\t\tvar coming = F.coming,\r\n\t\t\t\tiframe = $(coming.tpl.iframe.replace(/\\{rnd\\}/g, new Date().getTime()))\r\n\t\t\t\t\t.attr('scrolling', isTouch ? 'auto' : coming.iframe.scrolling)\r\n\t\t\t\t\t.attr('src', coming.href);\r\n\r\n\t\t\t// This helps IE\r\n\t\t\t$(coming.wrap).bind('onReset', function () {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$(this).find('iframe').hide().attr('src', '//about:blank').end().empty();\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t});\r\n\r\n\t\t\tif (coming.iframe.preload) {\r\n\t\t\t\tF.showLoading();\r\n\r\n\t\t\t\tiframe.one('load', function() {\r\n\t\t\t\t\t$(this).data('ready', 1);\r\n\r\n\t\t\t\t\t// iOS will lose scrolling if we resize\r\n\t\t\t\t\tif (!isTouch) {\r\n\t\t\t\t\t\t$(this).bind('load.fb', F.update);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Without this trick:\r\n\t\t\t\t\t//   - iframe won't scroll on iOS devices\r\n\t\t\t\t\t//   - IE7 sometimes displays empty iframe\r\n\t\t\t\t\t$(this).parents('.fancybox-wrap').width('100%').removeClass('fancybox-tmp').show();\r\n\r\n\t\t\t\t\tF._afterLoad();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tcoming.content = iframe.appendTo( coming.inner );\r\n\r\n\t\t\tif (!coming.iframe.preload) {\r\n\t\t\t\tF._afterLoad();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_preloadImages: function() {\r\n\t\t\tvar group   = F.group,\r\n\t\t\t\tcurrent = F.current,\r\n\t\t\t\tlen     = group.length,\r\n\t\t\t\tcnt     = current.preload ? Math.min(current.preload, len - 1) : 0,\r\n\t\t\t\titem,\r\n\t\t\t\ti;\r\n\r\n\t\t\tfor (i = 1; i <= cnt; i += 1) {\r\n\t\t\t\titem = group[ (current.index + i ) % len ];\r\n\r\n\t\t\t\tif (item.type === 'image' && item.href) {\r\n\t\t\t\t\tnew Image().src = item.href;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_afterLoad: function () {\r\n\t\t\tvar coming   = F.coming,\r\n\t\t\t\tprevious = F.current,\r\n\t\t\t\tplaceholder = 'fancybox-placeholder',\r\n\t\t\t\tcurrent,\r\n\t\t\t\tcontent,\r\n\t\t\t\ttype,\r\n\t\t\t\tscrolling,\r\n\t\t\t\thref,\r\n\t\t\t\tembed;\r\n\r\n\t\t\tF.hideLoading();\r\n\r\n\t\t\tif (!coming || F.isActive === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (false === F.trigger('afterLoad', coming, previous)) {\r\n\t\t\t\tcoming.wrap.stop(true).trigger('onReset').remove();\r\n\r\n\t\t\t\tF.coming = null;\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (previous) {\r\n\t\t\t\tF.trigger('beforeChange', previous);\r\n\r\n\t\t\t\tprevious.wrap.stop(true).removeClass('fancybox-opened')\r\n\t\t\t\t\t.find('.fancybox-item, .fancybox-nav')\r\n\t\t\t\t\t.remove();\r\n\t\t\t}\r\n\r\n\t\t\tF.unbindEvents();\r\n\r\n\t\t\tcurrent   = coming;\r\n\t\t\tcontent   = coming.content;\r\n\t\t\ttype      = coming.type;\r\n\t\t\tscrolling = coming.scrolling;\r\n\r\n\t\t\t$.extend(F, {\r\n\t\t\t\twrap  : current.wrap,\r\n\t\t\t\tskin  : current.skin,\r\n\t\t\t\touter : current.outer,\r\n\t\t\t\tinner : current.inner,\r\n\t\t\t\tcurrent  : current,\r\n\t\t\t\tprevious : previous\r\n\t\t\t});\r\n\r\n\t\t\thref = current.href;\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'inline':\r\n\t\t\t\tcase 'ajax':\r\n\t\t\t\tcase 'html':\r\n\t\t\t\t\tif (current.selector) {\r\n\t\t\t\t\t\tcontent = $('<div>').html(content).find(current.selector);\r\n\r\n\t\t\t\t\t} else if (isQuery(content)) {\r\n\t\t\t\t\t\tif (!content.data(placeholder)) {\r\n\t\t\t\t\t\t\tcontent.data(placeholder, $('<div class=\"' + placeholder + '\"></div>').insertAfter( content ).hide() );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcontent = content.show().detach();\r\n\r\n\t\t\t\t\t\tcurrent.wrap.bind('onReset', function () {\r\n\t\t\t\t\t\t\tif ($(this).find(content).length) {\r\n\t\t\t\t\t\t\t\tcontent.hide().replaceAll( content.data(placeholder) ).data(placeholder, false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'image':\r\n\t\t\t\t\tcontent = current.tpl.image.replace(/\\{href\\}/g, href);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'swf':\r\n\t\t\t\t\tcontent = '<object id=\"fancybox-swf\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"100%\" height=\"100%\"><param name=\"movie\" value=\"' + href + '\"></param>';\r\n\t\t\t\t\tembed   = '';\r\n\r\n\t\t\t\t\t$.each(current.swf, function(name, val) {\r\n\t\t\t\t\t\tcontent += '<param name=\"' + name + '\" value=\"' + val + '\"></param>';\r\n\t\t\t\t\t\tembed   += ' ' + name + '=\"' + val + '\"';\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tcontent += '<embed src=\"' + href + '\" type=\"application/x-shockwave-flash\" width=\"100%\" height=\"100%\"' + embed + '></embed></object>';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (!(isQuery(content) && content.parent().is(current.inner))) {\r\n\t\t\t\tcurrent.inner.append( content );\r\n\t\t\t}\r\n\r\n\t\t\t// Give a chance for helpers or callbacks to update elements\r\n\t\t\tF.trigger('beforeShow');\r\n\r\n\t\t\t// Set scrolling before calculating dimensions\r\n\t\t\tcurrent.inner.css('overflow', scrolling === 'yes' ? 'scroll' : (scrolling === 'no' ? 'hidden' : scrolling));\r\n\r\n\t\t\t// Set initial dimensions and start position\r\n\t\t\tF._setDimension();\r\n\r\n\t\t\tF.reposition();\r\n\r\n\t\t\tF.isOpen = false;\r\n\t\t\tF.coming = null;\r\n\r\n\t\t\tF.bindEvents();\r\n\r\n\t\t\tif (!F.isOpened) {\r\n\t\t\t\t$('.fancybox-wrap').not( current.wrap ).stop(true).trigger('onReset').remove();\r\n\r\n\t\t\t} else if (previous.prevMethod) {\r\n\t\t\t\tF.transitions[ previous.prevMethod ]();\r\n\t\t\t}\r\n\r\n\t\t\tF.transitions[ F.isOpened ? current.nextMethod : current.openMethod ]();\r\n\r\n\t\t\tF._preloadImages();\r\n\t\t},\r\n\r\n\t\t_setDimension: function () {\r\n\t\t\tvar viewport   = F.getViewport(),\r\n\t\t\t\tsteps      = 0,\r\n\t\t\t\tcanShrink  = false,\r\n\t\t\t\tcanExpand  = false,\r\n\t\t\t\twrap       = F.wrap,\r\n\t\t\t\tskin       = F.skin,\r\n\t\t\t\tinner      = F.inner,\r\n\t\t\t\tcurrent    = F.current,\r\n\t\t\t\twidth      = current.width,\r\n\t\t\t\theight     = current.height,\r\n\t\t\t\tminWidth   = current.minWidth,\r\n\t\t\t\tminHeight  = current.minHeight,\r\n\t\t\t\tmaxWidth   = current.maxWidth,\r\n\t\t\t\tmaxHeight  = current.maxHeight,\r\n\t\t\t\tscrolling  = current.scrolling,\r\n\t\t\t\tscrollOut  = current.scrollOutside ? current.scrollbarWidth : 0,\r\n\t\t\t\tmargin     = current.margin,\r\n\t\t\t\twMargin    = getScalar(margin[1] + margin[3]),\r\n\t\t\t\thMargin    = getScalar(margin[0] + margin[2]),\r\n\t\t\t\twPadding,\r\n\t\t\t\thPadding,\r\n\t\t\t\twSpace,\r\n\t\t\t\thSpace,\r\n\t\t\t\torigWidth,\r\n\t\t\t\torigHeight,\r\n\t\t\t\torigMaxWidth,\r\n\t\t\t\torigMaxHeight,\r\n\t\t\t\tratio,\r\n\t\t\t\twidth_,\r\n\t\t\t\theight_,\r\n\t\t\t\tmaxWidth_,\r\n\t\t\t\tmaxHeight_,\r\n\t\t\t\tiframe,\r\n\t\t\t\tbody;\r\n\r\n\t\t\t// Reset dimensions so we could re-check actual size\r\n\t\t\twrap.add(skin).add(inner).width('auto').height('auto').removeClass('fancybox-tmp');\r\n\r\n\t\t\twPadding = getScalar(skin.outerWidth(true)  - skin.width());\r\n\t\t\thPadding = getScalar(skin.outerHeight(true) - skin.height());\r\n\r\n\t\t\t// Any space between content and viewport (margin, padding, border, title)\r\n\t\t\twSpace = wMargin + wPadding;\r\n\t\t\thSpace = hMargin + hPadding;\r\n\r\n\t\t\torigWidth  = isPercentage(width)  ? (viewport.w - wSpace) * getScalar(width)  / 100 : width;\r\n\t\t\torigHeight = isPercentage(height) ? (viewport.h - hSpace) * getScalar(height) / 100 : height;\r\n\r\n\t\t\tif (current.type === 'iframe') {\r\n\t\t\t\tiframe = current.content;\r\n\r\n\t\t\t\tif (current.autoHeight && iframe && iframe.data('ready') === 1) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (iframe[0].contentWindow.document.location) {\r\n\t\t\t\t\t\t\tinner.width( origWidth ).height(9999);\r\n\r\n\t\t\t\t\t\t\tbody = iframe.contents().find('body');\r\n\r\n\t\t\t\t\t\t\tif (scrollOut) {\r\n\t\t\t\t\t\t\t\tbody.css('overflow-x', 'hidden');\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\torigHeight = body.outerHeight(true);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (current.autoWidth || current.autoHeight) {\r\n\t\t\t\tinner.addClass( 'fancybox-tmp' );\r\n\r\n\t\t\t\t// Set width or height in case we need to calculate only one dimension\r\n\t\t\t\tif (!current.autoWidth) {\r\n\t\t\t\t\tinner.width( origWidth );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!current.autoHeight) {\r\n\t\t\t\t\tinner.height( origHeight );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (current.autoWidth) {\r\n\t\t\t\t\torigWidth = inner.width();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (current.autoHeight) {\r\n\t\t\t\t\torigHeight = inner.height();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinner.removeClass( 'fancybox-tmp' );\r\n\t\t\t}\r\n\r\n\t\t\twidth  = getScalar( origWidth );\r\n\t\t\theight = getScalar( origHeight );\r\n\r\n\t\t\tratio  = origWidth / origHeight;\r\n\r\n\t\t\t// Calculations for the content\r\n\t\t\tminWidth  = getScalar(isPercentage(minWidth) ? getScalar(minWidth, 'w') - wSpace : minWidth);\r\n\t\t\tmaxWidth  = getScalar(isPercentage(maxWidth) ? getScalar(maxWidth, 'w') - wSpace : maxWidth);\r\n\r\n\t\t\tminHeight = getScalar(isPercentage(minHeight) ? getScalar(minHeight, 'h') - hSpace : minHeight);\r\n\t\t\tmaxHeight = getScalar(isPercentage(maxHeight) ? getScalar(maxHeight, 'h') - hSpace : maxHeight);\r\n\r\n\t\t\t// These will be used to determine if wrap can fit in the viewport\r\n\t\t\torigMaxWidth  = maxWidth;\r\n\t\t\torigMaxHeight = maxHeight;\r\n\r\n\t\t\tif (current.fitToView) {\r\n\t\t\t\tmaxWidth  = Math.min(viewport.w - wSpace, maxWidth);\r\n\t\t\t\tmaxHeight = Math.min(viewport.h - hSpace, maxHeight);\r\n\t\t\t}\r\n\r\n\t\t\tmaxWidth_  = viewport.w - wMargin;\r\n\t\t\tmaxHeight_ = viewport.h - hMargin;\r\n\r\n\t\t\tif (current.aspectRatio) {\r\n\t\t\t\tif (width > maxWidth) {\r\n\t\t\t\t\twidth  = maxWidth;\r\n\t\t\t\t\theight = getScalar(width / ratio);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (height > maxHeight) {\r\n\t\t\t\t\theight = maxHeight;\r\n\t\t\t\t\twidth  = getScalar(height * ratio);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (width < minWidth) {\r\n\t\t\t\t\twidth  = minWidth;\r\n\t\t\t\t\theight = getScalar(width / ratio);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (height < minHeight) {\r\n\t\t\t\t\theight = minHeight;\r\n\t\t\t\t\twidth  = getScalar(height * ratio);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\twidth = Math.max(minWidth, Math.min(width, maxWidth));\r\n\r\n\t\t\t\tif (current.autoHeight && current.type !== 'iframe') {\r\n\t\t\t\t\tinner.width( width );\r\n\r\n\t\t\t\t\theight = inner.height();\r\n\t\t\t\t}\r\n\r\n\t\t\t\theight = Math.max(minHeight, Math.min(height, maxHeight));\r\n\t\t\t}\r\n\r\n\t\t\t// Try to fit inside viewport (including the title)\r\n\t\t\tif (current.fitToView) {\r\n\t\t\t\tinner.width( width ).height( height );\r\n\r\n\t\t\t\twrap.width( width + wPadding );\r\n\r\n\t\t\t\t// Real wrap dimensions\r\n\t\t\t\twidth_  = wrap.width();\r\n\t\t\t\theight_ = wrap.height();\r\n\r\n\t\t\t\tif (current.aspectRatio) {\r\n\t\t\t\t\twhile ((width_ > maxWidth_ || height_ > maxHeight_) && width > minWidth && height > minHeight) {\r\n\t\t\t\t\t\tif (steps++ > 19) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\theight = Math.max(minHeight, Math.min(maxHeight, height - 10));\r\n\t\t\t\t\t\twidth  = getScalar(height * ratio);\r\n\r\n\t\t\t\t\t\tif (width < minWidth) {\r\n\t\t\t\t\t\t\twidth  = minWidth;\r\n\t\t\t\t\t\t\theight = getScalar(width / ratio);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (width > maxWidth) {\r\n\t\t\t\t\t\t\twidth  = maxWidth;\r\n\t\t\t\t\t\t\theight = getScalar(width / ratio);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tinner.width( width ).height( height );\r\n\r\n\t\t\t\t\t\twrap.width( width + wPadding );\r\n\r\n\t\t\t\t\t\twidth_  = wrap.width();\r\n\t\t\t\t\t\theight_ = wrap.height();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\twidth  = Math.max(minWidth,  Math.min(width,  width  - (width_  - maxWidth_)));\r\n\t\t\t\t\theight = Math.max(minHeight, Math.min(height, height - (height_ - maxHeight_)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (scrollOut && scrolling === 'auto' && height < origHeight && (width + wPadding + scrollOut) < maxWidth_) {\r\n\t\t\t\twidth += scrollOut;\r\n\t\t\t}\r\n\r\n\t\t\tinner.width( width ).height( height );\r\n\r\n\t\t\twrap.width( width + wPadding );\r\n\r\n\t\t\twidth_  = wrap.width();\r\n\t\t\theight_ = wrap.height();\r\n\r\n\t\t\tcanShrink = (width_ > maxWidth_ || height_ > maxHeight_) && width > minWidth && height > minHeight;\r\n\t\t\tcanExpand = current.aspectRatio ? (width < origMaxWidth && height < origMaxHeight && width < origWidth && height < origHeight) : ((width < origMaxWidth || height < origMaxHeight) && (width < origWidth || height < origHeight));\r\n\r\n\t\t\t$.extend(current, {\r\n\t\t\t\tdim : {\r\n\t\t\t\t\twidth\t: getValue( width_ ),\r\n\t\t\t\t\theight\t: getValue( height_ )\r\n\t\t\t\t},\r\n\t\t\t\torigWidth  : origWidth,\r\n\t\t\t\torigHeight : origHeight,\r\n\t\t\t\tcanShrink  : canShrink,\r\n\t\t\t\tcanExpand  : canExpand,\r\n\t\t\t\twPadding   : wPadding,\r\n\t\t\t\thPadding   : hPadding,\r\n\t\t\t\twrapSpace  : height_ - skin.outerHeight(true),\r\n\t\t\t\tskinSpace  : skin.height() - height\r\n\t\t\t});\r\n\r\n\t\t\tif (!iframe && current.autoHeight && height > minHeight && height < maxHeight && !canExpand) {\r\n\t\t\t\tinner.height('auto');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getPosition: function (onlyAbsolute) {\r\n\t\t\tvar current  = F.current,\r\n\t\t\t\tviewport = F.getViewport(),\r\n\t\t\t\tmargin   = current.margin,\r\n\t\t\t\twidth    = F.wrap.width()  + margin[1] + margin[3],\r\n\t\t\t\theight   = F.wrap.height() + margin[0] + margin[2],\r\n\t\t\t\trez      = {\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop  : margin[0],\r\n\t\t\t\t\tleft : margin[3]\r\n\t\t\t\t};\r\n\r\n\t\t\tif (current.autoCenter && current.fixed && !onlyAbsolute && height <= viewport.h && width <= viewport.w) {\r\n\t\t\t\trez.position = 'fixed';\r\n\r\n\t\t\t} else if (!current.locked) {\r\n\t\t\t\trez.top  += viewport.y;\r\n\t\t\t\trez.left += viewport.x;\r\n\t\t\t}\r\n\r\n\t\t\trez.top  = getValue(Math.max(rez.top,  rez.top  + ((viewport.h - height) * current.topRatio)));\r\n\t\t\trez.left = getValue(Math.max(rez.left, rez.left + ((viewport.w - width)  * current.leftRatio)));\r\n\r\n\t\t\treturn rez;\r\n\t\t},\r\n\r\n\t\t_afterZoomIn: function () {\r\n\t\t\tvar current = F.current;\r\n\r\n\t\t\tif (!current) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tF.isOpen = F.isOpened = true;\r\n\r\n\t\t\tF.wrap.css('overflow', 'visible').addClass('fancybox-opened').hide().show(0);\r\n\r\n\t\t\tF.update();\r\n\r\n\t\t\t// Assign a click event\r\n\t\t\tif ( current.closeClick || (current.nextClick && F.group.length > 1) ) {\r\n\t\t\t\tF.inner.css('cursor', 'pointer').bind('click.fb', function(e) {\r\n\t\t\t\t\tif (!$(e.target).is('a') && !$(e.target).parent().is('a')) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\tF[ current.closeClick ? 'close' : 'next' ]();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Create a close button\r\n\t\t\tif (current.closeBtn) {\r\n\t\t\t\t$(current.tpl.closeBtn).appendTo(F.skin).bind('click.fb', function(e) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tF.close();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Create navigation arrows\r\n\t\t\tif (current.arrows && F.group.length > 1) {\r\n\t\t\t\tif (current.loop || current.index > 0) {\r\n\t\t\t\t\t$(current.tpl.prev).appendTo(F.outer).bind('click.fb', F.prev);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (current.loop || current.index < F.group.length - 1) {\r\n\t\t\t\t\t$(current.tpl.next).appendTo(F.outer).bind('click.fb', F.next);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tF.trigger('afterShow');\r\n\r\n\t\t\t// Stop the slideshow if this is the last item\r\n\t\t\tif (!current.loop && current.index === current.group.length - 1) {\r\n\r\n\t\t\t\tF.play( false );\r\n\r\n\t\t\t} else if (F.opts.autoPlay && !F.player.isActive) {\r\n\t\t\t\tF.opts.autoPlay = false;\r\n\r\n\t\t\t\tF.play(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_afterZoomOut: function ( obj ) {\r\n\t\t\tobj = obj || F.current;\r\n\r\n\t\t\t$('.fancybox-wrap').trigger('onReset').remove();\r\n\r\n\t\t\t$.extend(F, {\r\n\t\t\t\tgroup  : {},\r\n\t\t\t\topts   : {},\r\n\t\t\t\trouter : false,\r\n\t\t\t\tcurrent   : null,\r\n\t\t\t\tisActive  : false,\r\n\t\t\t\tisOpened  : false,\r\n\t\t\t\tisOpen    : false,\r\n\t\t\t\tisClosing : false,\r\n\t\t\t\twrap   : null,\r\n\t\t\t\tskin   : null,\r\n\t\t\t\touter  : null,\r\n\t\t\t\tinner  : null\r\n\t\t\t});\r\n\r\n\t\t\tF.trigger('afterClose', obj);\r\n\t\t}\r\n\t});\r\n\r\n\t/*\r\n\t *\tDefault transitions\r\n\t */\r\n\r\n\tF.transitions = {\r\n\t\tgetOrigPosition: function () {\r\n\t\t\tvar current  = F.current,\r\n\t\t\t\telement  = current.element,\r\n\t\t\t\torig     = current.orig,\r\n\t\t\t\tpos      = {},\r\n\t\t\t\twidth    = 50,\r\n\t\t\t\theight   = 50,\r\n\t\t\t\thPadding = current.hPadding,\r\n\t\t\t\twPadding = current.wPadding,\r\n\t\t\t\tviewport = F.getViewport();\r\n\r\n\t\t\tif (!orig && current.isDom && element.is(':visible')) {\r\n\t\t\t\torig = element.find('img:first');\r\n\r\n\t\t\t\tif (!orig.length) {\r\n\t\t\t\t\torig = element;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (isQuery(orig)) {\r\n\t\t\t\tpos = orig.offset();\r\n\r\n\t\t\t\tif (orig.is('img')) {\r\n\t\t\t\t\twidth  = orig.outerWidth();\r\n\t\t\t\t\theight = orig.outerHeight();\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tpos.top  = viewport.y + (viewport.h - height) * current.topRatio;\r\n\t\t\t\tpos.left = viewport.x + (viewport.w - width)  * current.leftRatio;\r\n\t\t\t}\r\n\r\n\t\t\tif (F.wrap.css('position') === 'fixed' || current.locked) {\r\n\t\t\t\tpos.top  -= viewport.y;\r\n\t\t\t\tpos.left -= viewport.x;\r\n\t\t\t}\r\n\r\n\t\t\tpos = {\r\n\t\t\t\ttop     : getValue(pos.top  - hPadding * current.topRatio),\r\n\t\t\t\tleft    : getValue(pos.left - wPadding * current.leftRatio),\r\n\t\t\t\twidth   : getValue(width  + wPadding),\r\n\t\t\t\theight  : getValue(height + hPadding)\r\n\t\t\t};\r\n\r\n\t\t\treturn pos;\r\n\t\t},\r\n\r\n\t\tstep: function (now, fx) {\r\n\t\t\tvar ratio,\r\n\t\t\t\tpadding,\r\n\t\t\t\tvalue,\r\n\t\t\t\tprop       = fx.prop,\r\n\t\t\t\tcurrent    = F.current,\r\n\t\t\t\twrapSpace  = current.wrapSpace,\r\n\t\t\t\tskinSpace  = current.skinSpace;\r\n\r\n\t\t\tif (prop === 'width' || prop === 'height') {\r\n\t\t\t\tratio = fx.end === fx.start ? 1 : (now - fx.start) / (fx.end - fx.start);\r\n\r\n\t\t\t\tif (F.isClosing) {\r\n\t\t\t\t\tratio = 1 - ratio;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpadding = prop === 'width' ? current.wPadding : current.hPadding;\r\n\t\t\t\tvalue   = now - padding;\r\n\r\n\t\t\t\tF.skin[ prop ](  getScalar( prop === 'width' ?  value : value - (wrapSpace * ratio) ) );\r\n\t\t\t\tF.inner[ prop ]( getScalar( prop === 'width' ?  value : value - (wrapSpace * ratio) - (skinSpace * ratio) ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tzoomIn: function () {\r\n\t\t\tvar current  = F.current,\r\n\t\t\t\tstartPos = current.pos,\r\n\t\t\t\teffect   = current.openEffect,\r\n\t\t\t\telastic  = effect === 'elastic',\r\n\t\t\t\tendPos   = $.extend({opacity : 1}, startPos);\r\n\r\n\t\t\t// Remove \"position\" property that breaks older IE\r\n\t\t\tdelete endPos.position;\r\n\r\n\t\t\tif (elastic) {\r\n\t\t\t\tstartPos = this.getOrigPosition();\r\n\r\n\t\t\t\tif (current.openOpacity) {\r\n\t\t\t\t\tstartPos.opacity = 0.1;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (effect === 'fade') {\r\n\t\t\t\tstartPos.opacity = 0.1;\r\n\t\t\t}\r\n\r\n\t\t\tF.wrap.css(startPos).animate(endPos, {\r\n\t\t\t\tduration : effect === 'none' ? 0 : current.openSpeed,\r\n\t\t\t\teasing   : current.openEasing,\r\n\t\t\t\tstep     : elastic ? this.step : null,\r\n\t\t\t\tcomplete : F._afterZoomIn\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tzoomOut: function () {\r\n\t\t\tvar current  = F.current,\r\n\t\t\t\teffect   = current.closeEffect,\r\n\t\t\t\telastic  = effect === 'elastic',\r\n\t\t\t\tendPos   = {opacity : 0.1};\r\n\r\n\t\t\tif (elastic) {\r\n\t\t\t\tendPos = this.getOrigPosition();\r\n\r\n\t\t\t\tif (current.closeOpacity) {\r\n\t\t\t\t\tendPos.opacity = 0.1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tF.wrap.animate(endPos, {\r\n\t\t\t\tduration : effect === 'none' ? 0 : current.closeSpeed,\r\n\t\t\t\teasing   : current.closeEasing,\r\n\t\t\t\tstep     : elastic ? this.step : null,\r\n\t\t\t\tcomplete : F._afterZoomOut\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tchangeIn: function () {\r\n\t\t\tvar current   = F.current,\r\n\t\t\t\teffect    = current.nextEffect,\r\n\t\t\t\tstartPos  = current.pos,\r\n\t\t\t\tendPos    = { opacity : 1 },\r\n\t\t\t\tdirection = F.direction,\r\n\t\t\t\tdistance  = 200,\r\n\t\t\t\tfield;\r\n\r\n\t\t\tstartPos.opacity = 0.1;\r\n\r\n\t\t\tif (effect === 'elastic') {\r\n\t\t\t\tfield = direction === 'down' || direction === 'up' ? 'top' : 'left';\r\n\r\n\t\t\t\tif (direction === 'down' || direction === 'right') {\r\n\t\t\t\t\tstartPos[ field ] = getValue(getScalar(startPos[ field ]) - distance);\r\n\t\t\t\t\tendPos[ field ]   = '+=' + distance + 'px';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartPos[ field ] = getValue(getScalar(startPos[ field ]) + distance);\r\n\t\t\t\t\tendPos[ field ]   = '-=' + distance + 'px';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Workaround for http://bugs.jquery.com/ticket/12273\r\n\t\t\tif (effect === 'none') {\r\n\t\t\t\tF._afterZoomIn();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tF.wrap.css(startPos).animate(endPos, {\r\n\t\t\t\t\tduration : current.nextSpeed,\r\n\t\t\t\t\teasing   : current.nextEasing,\r\n\t\t\t\t\tcomplete : F._afterZoomIn\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tchangeOut: function () {\r\n\t\t\tvar previous  = F.previous,\r\n\t\t\t\teffect    = previous.prevEffect,\r\n\t\t\t\tendPos    = { opacity : 0.1 },\r\n\t\t\t\tdirection = F.direction,\r\n\t\t\t\tdistance  = 200;\r\n\r\n\t\t\tif (effect === 'elastic') {\r\n\t\t\t\tendPos[ direction === 'down' || direction === 'up' ? 'top' : 'left' ] = ( direction === 'up' || direction === 'left' ? '-' : '+' ) + '=' + distance + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tprevious.wrap.animate(endPos, {\r\n\t\t\t\tduration : effect === 'none' ? 0 : previous.prevSpeed,\r\n\t\t\t\teasing   : previous.prevEasing,\r\n\t\t\t\tcomplete : function () {\r\n\t\t\t\t\t$(this).trigger('onReset').remove();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t *\tOverlay helper\r\n\t */\r\n\r\n\tF.helpers.overlay = {\r\n\t\tdefaults : {\r\n\t\t\tcloseClick : true,      // if true, fancyBox will be closed when user clicks on the overlay\r\n\t\t\tspeedOut   : 200,       // duration of fadeOut animation\r\n\t\t\tshowEarly  : true,      // indicates if should be opened immediately or wait until the content is ready\r\n\t\t\tcss        : {},        // custom CSS properties\r\n\t\t\tlocked     : !isTouch,  // if true, the content will be locked into overlay\r\n\t\t\tfixed      : true       // if false, the overlay CSS position property will not be set to \"fixed\"\r\n\t\t},\r\n\r\n\t\toverlay : null,      // current handle\r\n\t\tfixed   : false,     // indicates if the overlay has position \"fixed\"\r\n\t\tel      : $('html'), // element that contains \"the lock\"\r\n\r\n\t\t// Public methods\r\n\t\tcreate : function(opts) {\r\n\t\t\tvar parent;\r\n\r\n\t\t\topts = $.extend({}, this.defaults, opts);\r\n\r\n\t\t\tif (this.overlay) {\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\r\n\t\t\tparent = F.coming ? F.coming.parent : opts.parent;\r\n\r\n\t\t\tthis.overlay = $('<div class=\"fancybox-overlay\"></div>').appendTo( parent && parent.length ? parent : 'body' );\r\n\t\t\tthis.fixed   = false;\r\n\r\n\t\t\tif (opts.fixed && F.defaults.fixed) {\r\n\t\t\t\tthis.overlay.addClass('fancybox-overlay-fixed');\r\n\r\n\t\t\t\tthis.fixed = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen : function(opts) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\topts = $.extend({}, this.defaults, opts);\r\n\r\n\t\t\tif (this.overlay) {\r\n\t\t\t\tthis.overlay.unbind('.overlay').width('auto').height('auto');\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.create(opts);\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.fixed) {\r\n\t\t\t\tW.bind('resize.overlay', $.proxy( this.update, this) );\r\n\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\r\n\t\t\tif (opts.closeClick) {\r\n\t\t\t\tthis.overlay.bind('click.overlay', function(e) {\r\n\t\t\t\t\tif ($(e.target).hasClass('fancybox-overlay')) {\r\n\t\t\t\t\t\tif (F.isActive) {\r\n\t\t\t\t\t\t\tF.close();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.close();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.overlay.css( opts.css ).show();\r\n\t\t},\r\n\r\n\t\tclose : function() {\r\n\t\t\tW.unbind('resize.overlay');\r\n\r\n\t\t\tif (this.el.hasClass('fancybox-lock')) {\r\n\t\t\t\t$('.fancybox-margin').removeClass('fancybox-margin');\r\n\r\n\t\t\t\tthis.el.removeClass('fancybox-lock');\r\n\r\n\t\t\t\tW.scrollTop( this.scrollV ).scrollLeft( this.scrollH );\r\n\t\t\t}\r\n\r\n\t\t\t$('.fancybox-overlay').remove().hide();\r\n\r\n\t\t\t$.extend(this, {\r\n\t\t\t\toverlay : null,\r\n\t\t\t\tfixed   : false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Private, callbacks\r\n\r\n\t\tupdate : function () {\r\n\t\t\tvar width = '100%', offsetWidth;\r\n\r\n\t\t\t// Reset width/height so it will not mess\r\n\t\t\tthis.overlay.width(width).height('100%');\r\n\r\n\t\t\t// jQuery does not return reliable result for IE\r\n\t\t\tif (IE) {\r\n\t\t\t\toffsetWidth = Math.max(document.documentElement.offsetWidth, document.body.offsetWidth);\r\n\r\n\t\t\t\tif (D.width() > offsetWidth) {\r\n\t\t\t\t\twidth = D.width();\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (D.width() > W.width()) {\r\n\t\t\t\twidth = D.width();\r\n\t\t\t}\r\n\r\n\t\t\tthis.overlay.width(width).height(D.height());\r\n\t\t},\r\n\r\n\t\t// This is where we can manipulate DOM, because later it would cause iframes to reload\r\n\t\tonReady : function (opts, obj) {\r\n\t\t\tvar overlay = this.overlay;\r\n\r\n\t\t\t$('.fancybox-overlay').stop(true, true);\r\n\r\n\t\t\tif (!overlay) {\r\n\t\t\t\tthis.create(opts);\r\n\t\t\t}\r\n\r\n\t\t\tif (opts.locked && this.fixed && obj.fixed) {\r\n\t\t\t\tobj.locked = this.overlay.append( obj.wrap );\r\n\t\t\t\tobj.fixed  = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts.showEarly === true) {\r\n\t\t\t\tthis.beforeShow.apply(this, arguments);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbeforeShow : function(opts, obj) {\r\n\t\t\tif (obj.locked && !this.el.hasClass('fancybox-lock')) {\r\n\t\t\t\tif (this.fixPosition !== false) {\r\n\t\t\t\t\t$('*:not(object)').filter(function(){\r\n\t\t\t\t\t\treturn ($(this).css('position') === 'fixed' && !$(this).hasClass(\"fancybox-overlay\") && !$(this).hasClass(\"fancybox-wrap\") );\r\n\t\t\t\t\t}).addClass('fancybox-margin');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.el.addClass('fancybox-margin');\r\n\r\n\t\t\t\tthis.scrollV = W.scrollTop();\r\n\t\t\t\tthis.scrollH = W.scrollLeft();\r\n\r\n\t\t\t\tthis.el.addClass('fancybox-lock');\r\n\r\n\t\t\t\tW.scrollTop( this.scrollV ).scrollLeft( this.scrollH );\r\n\t\t\t}\r\n\r\n\t\t\tthis.open(opts);\r\n\t\t},\r\n\r\n\t\tonUpdate : function() {\r\n\t\t\tif (!this.fixed) {\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tafterClose: function (opts) {\r\n\t\t\t// Remove overlay if exists and fancyBox is not opening\r\n\t\t\t// (e.g., it is not being open using afterClose callback)\r\n\t\t\tif (this.overlay && !F.coming) {\r\n\t\t\t\tthis.overlay.fadeOut(opts.speedOut, $.proxy( this.close, this ));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t *\tTitle helper\r\n\t */\r\n\r\n\tF.helpers.title = {\r\n\t\tdefaults : {\r\n\t\t\ttype     : 'float', // 'float', 'inside', 'outside' or 'over',\r\n\t\t\tposition : 'bottom' // 'top' or 'bottom'\r\n\t\t},\r\n\r\n\t\tbeforeShow: function (opts) {\r\n\t\t\tvar current = F.current,\r\n\t\t\t\ttext    = current.title,\r\n\t\t\t\ttype    = opts.type,\r\n\t\t\t\ttitle,\r\n\t\t\t\ttarget;\r\n\r\n\t\t\tif ($.isFunction(text)) {\r\n\t\t\t\ttext = text.call(current.element, current);\r\n\t\t\t}\r\n\r\n\t\t\tif (!isString(text) || $.trim(text) === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttitle = $('<div class=\"fancybox-title fancybox-title-' + type + '-wrap\">' + text + '</div>');\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'inside':\r\n\t\t\t\t\ttarget = F.skin;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'outside':\r\n\t\t\t\t\ttarget = F.wrap;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'over':\r\n\t\t\t\t\ttarget = F.inner;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault: // 'float'\r\n\t\t\t\t\ttarget = F.skin;\r\n\r\n\t\t\t\t\ttitle.appendTo('body');\r\n\r\n\t\t\t\t\tif (IE) {\r\n\t\t\t\t\t\ttitle.width( title.width() );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttitle.wrapInner('<span class=\"child\"></span>');\r\n\r\n\t\t\t\t\t//Increase bottom margin so this title will also fit into viewport\r\n\t\t\t\t\tF.current.margin[2] += Math.abs( getScalar(title.css('margin-bottom')) );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\ttitle[ (opts.position === 'top' ? 'prependTo'  : 'appendTo') ](target);\r\n\t\t}\r\n\t};\r\n\r\n\t// jQuery plugin initialization\r\n\t$.fn.fancybox = function (options) {\r\n\t\tvar index,\r\n\t\t\tthat     = $(this),\r\n\t\t\tselector = this.selector || '',\r\n\t\t\trun      = function(e) {\r\n\t\t\t\tvar what = $(this).blur(), idx = index, relType, relVal;\r\n\r\n\t\t\t\tif (!(e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && !what.is('.fancybox-wrap')) {\r\n\t\t\t\t\trelType = options.groupAttr || 'data-fancybox-group';\r\n\t\t\t\t\trelVal  = what.attr(relType);\r\n\r\n\t\t\t\t\tif (!relVal) {\r\n\t\t\t\t\t\trelType = 'rel';\r\n\t\t\t\t\t\trelVal  = what.get(0)[ relType ];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (relVal && relVal !== '' && relVal !== 'nofollow') {\r\n\t\t\t\t\t\twhat = selector.length ? $(selector) : that;\r\n\t\t\t\t\t\twhat = what.filter('[' + relType + '=\"' + relVal + '\"]');\r\n\t\t\t\t\t\tidx  = what.index(this);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toptions.index = idx;\r\n\r\n\t\t\t\t\t// Stop an event from bubbling if everything is fine\r\n\t\t\t\t\tif (F.open(what, options) !== false) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\toptions = options || {};\r\n\t\tindex   = options.index || 0;\r\n\r\n\t\tif (!selector || options.live === false) {\r\n\t\t\tthat.unbind('click.fb-start').bind('click.fb-start', run);\r\n\r\n\t\t} else {\r\n\t\t\tD.undelegate(selector, 'click.fb-start').delegate(selector + \":not('.fancybox-item, .fancybox-nav')\", 'click.fb-start', run);\r\n\t\t}\r\n\r\n\t\tthis.filter('[data-fancybox-start=1]').trigger('click');\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\t// Tests that need a body at doc ready\r\n\tD.ready(function() {\r\n\t\tvar w1, w2;\r\n\r\n\t\tif ( $.scrollbarWidth === undefined ) {\r\n\t\t\t// http://benalman.com/projects/jquery-misc-plugins/#scrollbarwidth\r\n\t\t\t$.scrollbarWidth = function() {\r\n\t\t\t\tvar parent = $('<div style=\"width:50px;height:50px;overflow:auto\"><div/></div>').appendTo('body'),\r\n\t\t\t\t\tchild  = parent.children(),\r\n\t\t\t\t\twidth  = child.innerWidth() - child.height( 99 ).innerWidth();\r\n\r\n\t\t\t\tparent.remove();\r\n\r\n\t\t\t\treturn width;\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif ( $.support.fixedPosition === undefined ) {\r\n\t\t\t$.support.fixedPosition = (function() {\r\n\t\t\t\tvar elem  = $('<div style=\"position:fixed;top:20px;\"></div>').appendTo('body'),\r\n\t\t\t\t\tfixed = ( elem[0].offsetTop === 20 || elem[0].offsetTop === 15 );\r\n\r\n\t\t\t\telem.remove();\r\n\r\n\t\t\t\treturn fixed;\r\n\t\t\t}());\r\n\t\t}\r\n\r\n\t\t$.extend(F.defaults, {\r\n\t\t\tscrollbarWidth : $.scrollbarWidth(),\r\n\t\t\tfixed  : $.support.fixedPosition,\r\n\t\t\tparent : $('body')\r\n\t\t});\r\n\r\n\t\t//Get real width of page scroll-bar\r\n\t\tw1 = $(window).width();\r\n\r\n\t\tH.addClass('fancybox-lock-test');\r\n\r\n\t\tw2 = $(window).width();\r\n\r\n\t\tH.removeClass('fancybox-lock-test');\r\n\r\n\t\t$(\"<style type='text/css'>.fancybox-margin{margin-right:\" + (w2 - w1) + \"px;}</style>\").appendTo(\"head\");\r\n\t});\r\n\r\n}(window, document, jQuery));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/fancybox/source/jquery.fancybox.js\n// module id = 31\n// module chunks = 0"," /*!\r\n * Thumbnail helper for fancyBox\r\n * version: 1.0.7 (Mon, 01 Oct 2012)\r\n * @requires fancyBox v2.0 or later\r\n *\r\n * Usage:\r\n *     $(\".fancybox\").fancybox({\r\n *         helpers : {\r\n *             thumbs: {\r\n *                 width  : 50,\r\n *                 height : 50\r\n *             }\r\n *         }\r\n *     });\r\n *\r\n */\r\n;(function ($) {\r\n\t//Shortcut for fancyBox object\r\n\tvar F = $.fancybox;\r\n\r\n\t//Add helper object\r\n\tF.helpers.thumbs = {\r\n\t\tdefaults : {\r\n\t\t\twidth    : 50,       // thumbnail width\r\n\t\t\theight   : 50,       // thumbnail height\r\n\t\t\tposition : 'bottom', // 'top' or 'bottom'\r\n\t\t\tsource   : function ( item ) {  // function to obtain the URL of the thumbnail image\r\n\t\t\t\tvar href;\r\n\r\n\t\t\t\tif (item.element) {\r\n\t\t\t\t\thref = $(item.element).find('img').attr('src');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!href && item.type === 'image' && item.href) {\r\n\t\t\t\t\thref = item.href;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn href;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\twrap  : null,\r\n\t\tlist  : null,\r\n\t\twidth : 0,\r\n\r\n\t\tinit: function (opts, obj) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tlist,\r\n\t\t\t\tthumbWidth  = opts.width,\r\n\t\t\t\tthumbHeight = opts.height,\r\n\t\t\t\tthumbSource = opts.source;\r\n\r\n\t\t\t//Build list structure\r\n\t\t\tlist = '';\r\n\r\n\t\t\tfor (var n = 0; n < obj.group.length; n++) {\r\n\t\t\t\tlist += '<li><a style=\"width:' + thumbWidth + 'px;height:' + thumbHeight + 'px;\" href=\"javascript:jQuery.fancybox.jumpto(' + n + ');\"></a></li>';\r\n\t\t\t}\r\n\r\n\t\t\tthis.wrap = $('<div id=\"fancybox-thumbs\"></div>').addClass(opts.position).appendTo('body');\r\n\t\t\tthis.list = $('<ul>' + list + '</ul>').appendTo(this.wrap);\r\n\r\n\t\t\t//Load each thumbnail\r\n\t\t\t$.each(obj.group, function (i) {\r\n\t\t\t\tvar el   = obj.group[ i ],\r\n\t\t\t\t\thref = thumbSource( el );\r\n\r\n\t\t\t\tif (!href) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(\"<img />\").on(\"load\", function () {\r\n\t\t\t\t\tvar width  = this.width,\r\n\t\t\t\t\t\theight = this.height,\r\n\t\t\t\t\t\twidthRatio, heightRatio, parent;\r\n\r\n\t\t\t\t\tif (!that.list || !width || !height) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//Calculate thumbnail width/height and center it\r\n\t\t\t\t\twidthRatio  = width / thumbWidth;\r\n\t\t\t\t\theightRatio = height / thumbHeight;\r\n\r\n\t\t\t\t\tparent = that.list.children().eq(i).find('a');\r\n\r\n\t\t\t\t\tif (widthRatio >= 1 && heightRatio >= 1) {\r\n\t\t\t\t\t\tif (widthRatio > heightRatio) {\r\n\t\t\t\t\t\t\twidth  = Math.floor(width / heightRatio);\r\n\t\t\t\t\t\t\theight = thumbHeight;\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\twidth  = thumbWidth;\r\n\t\t\t\t\t\t\theight = Math.floor(height / widthRatio);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(this).css({\r\n\t\t\t\t\t\twidth  : width,\r\n\t\t\t\t\t\theight : height,\r\n\t\t\t\t\t\ttop    : Math.floor(thumbHeight / 2 - height / 2),\r\n\t\t\t\t\t\tleft   : Math.floor(thumbWidth / 2 - width / 2)\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tparent.width(thumbWidth).height(thumbHeight);\r\n\r\n\t\t\t\t\t$(this).hide().appendTo(parent).fadeIn(300);\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.attr('src',   href)\r\n\t\t\t\t.attr('title', el.title);\r\n\t\t\t});\r\n\r\n\t\t\t//Set initial width\r\n\t\t\tthis.width = this.list.children().eq(0).outerWidth(true);\r\n\r\n\t\t\tthis.list.width(this.width * (obj.group.length + 1)).css('left', Math.floor($(window).width() * 0.5 - (obj.index * this.width + this.width * 0.5)));\r\n\t\t},\r\n\r\n\t\tbeforeLoad: function (opts, obj) {\r\n\t\t\t//Remove self if gallery do not have at least two items\r\n\t\t\tif (obj.group.length < 2) {\r\n\t\t\t\tobj.helpers.thumbs = false;\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Increase bottom margin to give space for thumbs\r\n\t\t\tobj.margin[ opts.position === 'top' ? 0 : 2 ] += ((opts.height) + 15);\r\n\t\t},\r\n\r\n\t\tafterShow: function (opts, obj) {\r\n\t\t\t//Check if exists and create or update list\r\n\t\t\tif (this.list) {\r\n\t\t\t\tthis.onUpdate(opts, obj);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.init(opts, obj);\r\n\t\t\t}\r\n\r\n\t\t\t//Set active element\r\n\t\t\tthis.list.children().removeClass('active').eq(obj.index).addClass('active');\r\n\t\t},\r\n\r\n\t\t//Center list\r\n\t\tonUpdate: function (opts, obj) {\r\n\t\t\tif (this.list) {\r\n\t\t\t\tthis.list.stop(true).animate({\r\n\t\t\t\t\t'left': Math.floor($(window).width() * 0.5 - (obj.index * this.width + this.width * 0.5))\r\n\t\t\t\t}, 150);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbeforeClose: function () {\r\n\t\t\tif (this.wrap) {\r\n\t\t\t\tthis.wrap.remove();\r\n\t\t\t}\r\n\r\n\t\t\tthis.wrap  = null;\r\n\t\t\tthis.list  = null;\r\n\t\t\tthis.width = 0;\r\n\t\t}\r\n\t}\r\n\r\n}(jQuery));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/fancybox/source/helpers/jquery.fancybox-thumbs.js\n// module id = 32\n// module chunks = 0","/*!\r\n * @fileOverview TouchSwipe - jQuery Plugin\r\n * @version 1.6.18\r\n *\r\n * @author Matt Bryson http://www.github.com/mattbryson\r\n * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin\r\n * @see http://labs.rampinteractive.co.uk/touchSwipe/\r\n * @see http://plugins.jquery.com/project/touchSwipe\r\n * @license\r\n * Copyright (c) 2010-2015 Matt Bryson\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n *\r\n */\r\n\r\n/*\r\n *\r\n * Changelog\r\n * $Date: 2010-12-12 (Wed, 12 Dec 2010) $\r\n * $version: 1.0.0\r\n * $version: 1.0.1 - removed multibyte comments\r\n *\r\n * $Date: 2011-21-02 (Mon, 21 Feb 2011) $\r\n * $version: 1.1.0 \t- added allowPageScroll property to allow swiping and scrolling of page\r\n *\t\t\t\t\t- changed handler signatures so one handler can be used for multiple events\r\n * $Date: 2011-23-02 (Wed, 23 Feb 2011) $\r\n * $version: 1.2.0 \t- added click handler. This is fired if the user simply clicks and does not swipe. The event object and click target are passed to handler.\r\n *\t\t\t\t\t- If you use the http://code.google.com/p/jquery-ui-for-ipad-and-iphone/ plugin, you can also assign jQuery mouse events to children of a touchSwipe object.\r\n * $version: 1.2.1 \t- removed console log!\r\n *\r\n * $version: 1.2.2 \t- Fixed bug where scope was not preserved in callback methods.\r\n *\r\n * $Date: 2011-28-04 (Thurs, 28 April 2011) $\r\n * $version: 1.2.4 \t- Changed licence terms to be MIT or GPL inline with jQuery. Added check for support of touch events to stop non compatible browsers erroring.\r\n *\r\n * $Date: 2011-27-09 (Tues, 27 September 2011) $\r\n * $version: 1.2.5 \t- Added support for testing swipes with mouse on desktop browser (thanks to https://github.com/joelhy)\r\n *\r\n * $Date: 2012-14-05 (Mon, 14 May 2012) $\r\n * $version: 1.2.6 \t- Added timeThreshold between start and end touch, so user can ignore slow swipes (thanks to Mark Chase). Default is null, all swipes are detected\r\n *\r\n * $Date: 2012-05-06 (Tues, 05 June 2012) $\r\n * $version: 1.2.7 \t- Changed time threshold to have null default for backwards compatibility. Added duration param passed back in events, and refactored how time is handled.\r\n *\r\n * $Date: 2012-05-06 (Tues, 05 June 2012) $\r\n * $version: 1.2.8 \t- Added the possibility to return a value like null or false in the trigger callback. In that way we can control when the touch start/move should take effect or not (simply by returning in some cases return null; or return false;) This effects the ontouchstart/ontouchmove event.\r\n *\r\n * $Date: 2012-06-06 (Wed, 06 June 2012) $\r\n * $version: 1.3.0 \t- Refactored whole plugin to allow for methods to be executed, as well as exposed defaults for user override. Added 'enable', 'disable', and 'destroy' methods\r\n *\r\n * $Date: 2012-05-06 (Fri, 05 June 2012) $\r\n * $version: 1.3.1 \t- Bug fixes  - bind() with false as last argument is no longer supported in jQuery 1.6, also, if you just click, the duration is now returned correctly.\r\n *\r\n * $Date: 2012-29-07 (Sun, 29 July 2012) $\r\n * $version: 1.3.2\t- Added fallbackToMouseEvents option to NOT capture mouse events on non touch devices.\r\n * \t\t\t- Added \"all\" fingers value to the fingers property, so any combination of fingers triggers the swipe, allowing event handlers to check the finger count\r\n *\r\n * $Date: 2012-09-08 (Thurs, 9 Aug 2012) $\r\n * $version: 1.3.3\t- Code tidy prep for minefied version\r\n *\r\n * $Date: 2012-04-10 (wed, 4 Oct 2012) $\r\n * $version: 1.4.0\t- Added pinch support, pinchIn and pinchOut\r\n *\r\n * $Date: 2012-11-10 (Thurs, 11 Oct 2012) $\r\n * $version: 1.5.0\t- Added excludedElements, a jquery selector that specifies child elements that do NOT trigger swipes. By default, this is .noSwipe\r\n *\r\n * $Date: 2012-22-10 (Mon, 22 Oct 2012) $\r\n * $version: 1.5.1\t- Fixed bug with jQuery 1.8 and trailing comma in excludedElements\r\n *\t\t\t\t\t- Fixed bug with IE and eventPreventDefault()\r\n * $Date: 2013-01-12 (Fri, 12 Jan 2013) $\r\n * $version: 1.6.0\t- Fixed bugs with pinching, mainly when both pinch and swipe enabled, as well as adding time threshold for multifinger gestures, so releasing one finger beofre the other doesnt trigger as single finger gesture.\r\n *\t\t\t\t\t- made the demo site all static local HTML pages so they can be run locally by a developer\r\n *\t\t\t\t\t- added jsDoc comments and added documentation for the plugin\r\n *\t\t\t\t\t- code tidy\r\n *\t\t\t\t\t- added triggerOnTouchLeave property that will end the event when the user swipes off the element.\r\n * $Date: 2013-03-23 (Sat, 23 Mar 2013) $\r\n * $version: 1.6.1\t- Added support for ie8 touch events\r\n * $version: 1.6.2\t- Added support for events binding with on / off / bind in jQ for all callback names.\r\n *                   - Deprecated the 'click' handler in favour of tap.\r\n *                   - added cancelThreshold property\r\n *                   - added option method to update init options at runtime\r\n * $version 1.6.3    - added doubletap, longtap events and longTapThreshold, doubleTapThreshold property\r\n *\r\n * $Date: 2013-04-04 (Thurs, 04 April 2013) $\r\n * $version 1.6.4    - Fixed bug with cancelThreshold introduced in 1.6.3, where swipe status no longer fired start event, and stopped once swiping back.\r\n *\r\n * $Date: 2013-08-24 (Sat, 24 Aug 2013) $\r\n * $version 1.6.5    - Merged a few pull requests fixing various bugs, added AMD support.\r\n *\r\n * $Date: 2014-06-04 (Wed, 04 June 2014) $\r\n * $version 1.6.6 \t- Merge of pull requests.\r\n *    \t\t\t\t- IE10 touch support\r\n *    \t\t\t\t- Only prevent default event handling on valid swipe\r\n *    \t\t\t\t- Separate license/changelog comment\r\n *    \t\t\t\t- Detect if the swipe is valid at the end of the touch event.\r\n *    \t\t\t\t- Pass fingerdata to event handlers.\r\n *    \t\t\t\t- Add 'hold' gesture\r\n *    \t\t\t\t- Be more tolerant about the tap distance\r\n *    \t\t\t\t- Typos and minor fixes\r\n *\r\n * $Date: 2015-22-01 (Thurs, 22 Jan 2015) $\r\n * $version 1.6.7    - Added patch from https://github.com/mattbryson/TouchSwipe-Jquery-Plugin/issues/206 to fix memory leak\r\n *\r\n * $Date: 2015-2-2 (Mon, 2 Feb 2015) $\r\n * $version 1.6.8    - Added preventDefaultEvents option to proxy events regardless.\r\n *\t\t\t\t\t- Fixed issue with swipe and pinch not triggering at the same time\r\n *\r\n * $Date: 2015-9-6 (Tues, 9 June 2015) $\r\n * $version 1.6.9    - Added PR from jdalton/hybrid to fix pointer events\r\n *\t\t\t\t\t- Added scrolling demo\r\n *\t\t\t\t\t- Added version property to plugin\r\n *\r\n * $Date: 2015-1-10 (Wed, 1 October 2015) $\r\n * $version 1.6.10    - Added PR from beatspace to fix tap events\r\n * $version 1.6.11    - Added PRs from indri-indri ( Doc tidyup), kkirsche ( Bower tidy up ), UziTech (preventDefaultEvents fixes )\r\n *\t\t\t\t\t - Allowed setting multiple options via .swipe(\"options\", options_hash) and more simply .swipe(options_hash) or exisitng instances\r\n * $version 1.6.12    - Fixed bug with multi finger releases above 2 not triggering events\r\n *\r\n * $Date: 2015-12-18 (Fri, 18 December 2015) $\r\n * $version 1.6.13    - Added PRs\r\n *                    - Fixed #267 allowPageScroll not working correctly\r\n * $version 1.6.14    - Fixed #220 / #248 doubletap not firing with swipes, #223 commonJS compatible\r\n * $version 1.6.15    - More bug fixes\r\n *\r\n * $Date: 2016-04-29 (Fri, 29 April 2016) $\r\n * $version 1.6.16    - Swipes with 0 distance now allow default events to trigger.  So tapping any form elements or A tags will allow default interaction, but swiping will trigger a swipe.\r\n                        Removed the a, input, select etc from the excluded Children list as the 0 distance tap solves that issue.\r\n* $Date: 2016-05-19  (Fri, 29 April 2016) $\r\n* $version 1.6.17     - Fixed context issue when calling instance methods via $(\"selector\").swipe(\"method\");\r\n* $version 1.6.18     - now honors fallbackToMouseEvents=false for MS Pointer events when a Mouse is used.\r\n\r\n */\r\n\r\n/**\r\n * See (http://jquery.com/).\r\n * @name $\r\n * @class\r\n * See the jQuery Library  (http://jquery.com/) for full details.  This just\r\n * documents the function and classes that are added to jQuery by this plug-in.\r\n */\r\n\r\n/**\r\n * See (http://jquery.com/)\r\n * @name fn\r\n * @class\r\n * See the jQuery Library  (http://jquery.com/) for full details.  This just\r\n * documents the function and classes that are added to jQuery by this plug-in.\r\n * @memberOf $\r\n */\r\n\r\n\r\n(function(factory) {\r\n  if (typeof define === 'function' && define.amd && define.amd.jQuery) {\r\n    // AMD. Register as anonymous module.\r\n    define(['jquery'], factory);\r\n  } else if (typeof module !== 'undefined' && module.exports) {\r\n    // CommonJS Module\r\n    factory(require(\"jquery\"));\r\n  } else {\r\n    // Browser globals.\r\n    factory(jQuery);\r\n  }\r\n}(function($) {\r\n  \"use strict\";\r\n\r\n  //Constants\r\n  var VERSION = \"1.6.18\",\r\n    LEFT = \"left\",\r\n    RIGHT = \"right\",\r\n    UP = \"up\",\r\n    DOWN = \"down\",\r\n    IN = \"in\",\r\n    OUT = \"out\",\r\n\r\n    NONE = \"none\",\r\n    AUTO = \"auto\",\r\n\r\n    SWIPE = \"swipe\",\r\n    PINCH = \"pinch\",\r\n    TAP = \"tap\",\r\n    DOUBLE_TAP = \"doubletap\",\r\n    LONG_TAP = \"longtap\",\r\n    HOLD = \"hold\",\r\n\r\n    HORIZONTAL = \"horizontal\",\r\n    VERTICAL = \"vertical\",\r\n\r\n    ALL_FINGERS = \"all\",\r\n\r\n    DOUBLE_TAP_THRESHOLD = 10,\r\n\r\n    PHASE_START = \"start\",\r\n    PHASE_MOVE = \"move\",\r\n    PHASE_END = \"end\",\r\n    PHASE_CANCEL = \"cancel\",\r\n\r\n    SUPPORTS_TOUCH = 'ontouchstart' in window,\r\n\r\n    SUPPORTS_POINTER_IE10 = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled && !SUPPORTS_TOUCH,\r\n\r\n    SUPPORTS_POINTER = (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && !SUPPORTS_TOUCH,\r\n\r\n    PLUGIN_NS = 'TouchSwipe';\r\n\r\n\r\n\r\n  /**\r\n  * The default configuration, and available options to configure touch swipe with.\r\n  * You can set the default values by updating any of the properties prior to instantiation.\r\n  * @name $.fn.swipe.defaults\r\n  * @namespace\r\n  * @property {int} [fingers=1] The number of fingers to detect in a swipe. Any swipes that do not meet this requirement will NOT trigger swipe handlers.\r\n  * @property {int} [threshold=75] The number of pixels that the user must move their finger by before it is considered a swipe.\r\n  * @property {int} [cancelThreshold=null] The number of pixels that the user must move their finger back from the original swipe direction to cancel the gesture.\r\n  * @property {int} [pinchThreshold=20] The number of pixels that the user must pinch their finger by before it is considered a pinch.\r\n  * @property {int} [maxTimeThreshold=null] Time, in milliseconds, between touchStart and touchEnd must NOT exceed in order to be considered a swipe.\r\n  * @property {int} [fingerReleaseThreshold=250] Time in milliseconds between releasing multiple fingers.  If 2 fingers are down, and are released one after the other, if they are within this threshold, it counts as a simultaneous release.\r\n  * @property {int} [longTapThreshold=500] Time in milliseconds between tap and release for a long tap\r\n  * @property {int} [doubleTapThreshold=200] Time in milliseconds between 2 taps to count as a double tap\r\n  * @property {function} [swipe=null] A handler to catch all swipes. See {@link $.fn.swipe#event:swipe}\r\n  * @property {function} [swipeLeft=null] A handler that is triggered for \"left\" swipes. See {@link $.fn.swipe#event:swipeLeft}\r\n  * @property {function} [swipeRight=null] A handler that is triggered for \"right\" swipes. See {@link $.fn.swipe#event:swipeRight}\r\n  * @property {function} [swipeUp=null] A handler that is triggered for \"up\" swipes. See {@link $.fn.swipe#event:swipeUp}\r\n  * @property {function} [swipeDown=null] A handler that is triggered for \"down\" swipes. See {@link $.fn.swipe#event:swipeDown}\r\n  * @property {function} [swipeStatus=null] A handler triggered for every phase of the swipe. See {@link $.fn.swipe#event:swipeStatus}\r\n  * @property {function} [pinchIn=null] A handler triggered for pinch in events. See {@link $.fn.swipe#event:pinchIn}\r\n  * @property {function} [pinchOut=null] A handler triggered for pinch out events. See {@link $.fn.swipe#event:pinchOut}\r\n  * @property {function} [pinchStatus=null] A handler triggered for every phase of a pinch. See {@link $.fn.swipe#event:pinchStatus}\r\n  * @property {function} [tap=null] A handler triggered when a user just taps on the item, rather than swipes it. If they do not move, tap is triggered, if they do move, it is not.\r\n  * @property {function} [doubleTap=null] A handler triggered when a user double taps on the item. The delay between taps can be set with the doubleTapThreshold property. See {@link $.fn.swipe.defaults#doubleTapThreshold}\r\n  * @property {function} [longTap=null] A handler triggered when a user long taps on the item. The delay between start and end can be set with the longTapThreshold property. See {@link $.fn.swipe.defaults#longTapThreshold}\r\n  * @property (function) [hold=null] A handler triggered when a user reaches longTapThreshold on the item. See {@link $.fn.swipe.defaults#longTapThreshold}\r\n  * @property {boolean} [triggerOnTouchEnd=true] If true, the swipe events are triggered when the touch end event is received (user releases finger).  If false, it will be triggered on reaching the threshold, and then cancel the touch event automatically.\r\n  * @property {boolean} [triggerOnTouchLeave=false] If true, then when the user leaves the swipe object, the swipe will end and trigger appropriate handlers.\r\n  * @property {string|undefined} [allowPageScroll='auto'] How the browser handles page scrolls when the user is swiping on a touchSwipe object. See {@link $.fn.swipe.pageScroll}.  <br/><br/>\r\n  \t\t\t\t\t\t\t\t\t<code>\"auto\"</code> : all undefined swipes will cause the page to scroll in that direction. <br/>\r\n  \t\t\t\t\t\t\t\t\t<code>\"none\"</code> : the page will not scroll when user swipes. <br/>\r\n  \t\t\t\t\t\t\t\t\t<code>\"horizontal\"</code> : will force page to scroll on horizontal swipes. <br/>\r\n  \t\t\t\t\t\t\t\t\t<code>\"vertical\"</code> : will force page to scroll on vertical swipes. <br/>\r\n  * @property {boolean} [fallbackToMouseEvents=true] If true mouse events are used when run on a non touch device, false will stop swipes being triggered by mouse events on non tocuh devices.\r\n  * @property {string} [excludedElements=\".noSwipe\"] A jquery selector that specifies child elements that do NOT trigger swipes. By default this excludes elements with the class .noSwipe .\r\n  * @property {boolean} [preventDefaultEvents=true] by default default events are cancelled, so the page doesn't move.  You can dissable this so both native events fire as well as your handlers.\r\n\r\n  */\r\n  var defaults = {\r\n    fingers: 1,\r\n    threshold: 75,\r\n    cancelThreshold: null,\r\n    pinchThreshold: 20,\r\n    maxTimeThreshold: null,\r\n    fingerReleaseThreshold: 250,\r\n    longTapThreshold: 500,\r\n    doubleTapThreshold: 200,\r\n    swipe: null,\r\n    swipeLeft: null,\r\n    swipeRight: null,\r\n    swipeUp: null,\r\n    swipeDown: null,\r\n    swipeStatus: null,\r\n    pinchIn: null,\r\n    pinchOut: null,\r\n    pinchStatus: null,\r\n    click: null, //Deprecated since 1.6.2\r\n    tap: null,\r\n    doubleTap: null,\r\n    longTap: null,\r\n    hold: null,\r\n    triggerOnTouchEnd: true,\r\n    triggerOnTouchLeave: false,\r\n    allowPageScroll: \"auto\",\r\n    fallbackToMouseEvents: true,\r\n    excludedElements: \".noSwipe\",\r\n    preventDefaultEvents: true\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   * Applies TouchSwipe behaviour to one or more jQuery objects.\r\n   * The TouchSwipe plugin can be instantiated via this method, or methods within\r\n   * TouchSwipe can be executed via this method as per jQuery plugin architecture.\r\n   * An existing plugin can have its options changed simply by re calling .swipe(options)\r\n   * @see TouchSwipe\r\n   * @class\r\n   * @param {Mixed} method If the current DOMNode is a TouchSwipe object, and <code>method</code> is a TouchSwipe method, then\r\n   * the <code>method</code> is executed, and any following arguments are passed to the TouchSwipe method.\r\n   * If <code>method</code> is an object, then the TouchSwipe class is instantiated on the current DOMNode, passing the\r\n   * configuration properties defined in the object. See TouchSwipe\r\n   *\r\n   */\r\n  $.fn.swipe = function(method) {\r\n    var $this = $(this),\r\n      plugin = $this.data(PLUGIN_NS);\r\n\r\n    //Check if we are already instantiated and trying to execute a method\r\n    if (plugin && typeof method === 'string') {\r\n      if (plugin[method]) {\r\n        return plugin[method].apply(plugin, Array.prototype.slice.call(arguments, 1));\r\n      } else {\r\n        $.error('Method ' + method + ' does not exist on jQuery.swipe');\r\n      }\r\n    }\r\n\r\n    //Else update existing plugin with new options hash\r\n    else if (plugin && typeof method === 'object') {\r\n      plugin['option'].apply(plugin, arguments);\r\n    }\r\n\r\n    //Else not instantiated and trying to pass init object (or nothing)\r\n    else if (!plugin && (typeof method === 'object' || !method)) {\r\n      return init.apply(this, arguments);\r\n    }\r\n\r\n    return $this;\r\n  };\r\n\r\n  /**\r\n   * The version of the plugin\r\n   * @readonly\r\n   */\r\n  $.fn.swipe.version = VERSION;\r\n\r\n\r\n\r\n  //Expose our defaults so a user could override the plugin defaults\r\n  $.fn.swipe.defaults = defaults;\r\n\r\n  /**\r\n   * The phases that a touch event goes through.  The <code>phase</code> is passed to the event handlers.\r\n   * These properties are read only, attempting to change them will not alter the values passed to the event handlers.\r\n   * @namespace\r\n   * @readonly\r\n   * @property {string} PHASE_START Constant indicating the start phase of the touch event. Value is <code>\"start\"</code>.\r\n   * @property {string} PHASE_MOVE Constant indicating the move phase of the touch event. Value is <code>\"move\"</code>.\r\n   * @property {string} PHASE_END Constant indicating the end phase of the touch event. Value is <code>\"end\"</code>.\r\n   * @property {string} PHASE_CANCEL Constant indicating the cancel phase of the touch event. Value is <code>\"cancel\"</code>.\r\n   */\r\n  $.fn.swipe.phases = {\r\n    PHASE_START: PHASE_START,\r\n    PHASE_MOVE: PHASE_MOVE,\r\n    PHASE_END: PHASE_END,\r\n    PHASE_CANCEL: PHASE_CANCEL\r\n  };\r\n\r\n  /**\r\n   * The direction constants that are passed to the event handlers.\r\n   * These properties are read only, attempting to change them will not alter the values passed to the event handlers.\r\n   * @namespace\r\n   * @readonly\r\n   * @property {string} LEFT Constant indicating the left direction. Value is <code>\"left\"</code>.\r\n   * @property {string} RIGHT Constant indicating the right direction. Value is <code>\"right\"</code>.\r\n   * @property {string} UP Constant indicating the up direction. Value is <code>\"up\"</code>.\r\n   * @property {string} DOWN Constant indicating the down direction. Value is <code>\"cancel\"</code>.\r\n   * @property {string} IN Constant indicating the in direction. Value is <code>\"in\"</code>.\r\n   * @property {string} OUT Constant indicating the out direction. Value is <code>\"out\"</code>.\r\n   */\r\n  $.fn.swipe.directions = {\r\n    LEFT: LEFT,\r\n    RIGHT: RIGHT,\r\n    UP: UP,\r\n    DOWN: DOWN,\r\n    IN: IN,\r\n    OUT: OUT\r\n  };\r\n\r\n  /**\r\n   * The page scroll constants that can be used to set the value of <code>allowPageScroll</code> option\r\n   * These properties are read only\r\n   * @namespace\r\n   * @readonly\r\n   * @see $.fn.swipe.defaults#allowPageScroll\r\n   * @property {string} NONE Constant indicating no page scrolling is allowed. Value is <code>\"none\"</code>.\r\n   * @property {string} HORIZONTAL Constant indicating horizontal page scrolling is allowed. Value is <code>\"horizontal\"</code>.\r\n   * @property {string} VERTICAL Constant indicating vertical page scrolling is allowed. Value is <code>\"vertical\"</code>.\r\n   * @property {string} AUTO Constant indicating either horizontal or vertical will be allowed, depending on the swipe handlers registered. Value is <code>\"auto\"</code>.\r\n   */\r\n  $.fn.swipe.pageScroll = {\r\n    NONE: NONE,\r\n    HORIZONTAL: HORIZONTAL,\r\n    VERTICAL: VERTICAL,\r\n    AUTO: AUTO\r\n  };\r\n\r\n  /**\r\n   * Constants representing the number of fingers used in a swipe.  These are used to set both the value of <code>fingers</code> in the\r\n   * options object, as well as the value of the <code>fingers</code> event property.\r\n   * These properties are read only, attempting to change them will not alter the values passed to the event handlers.\r\n   * @namespace\r\n   * @readonly\r\n   * @see $.fn.swipe.defaults#fingers\r\n   * @property {string} ONE Constant indicating 1 finger is to be detected / was detected. Value is <code>1</code>.\r\n   * @property {string} TWO Constant indicating 2 fingers are to be detected / were detected. Value is <code>2</code>.\r\n   * @property {string} THREE Constant indicating 3 finger are to be detected / were detected. Value is <code>3</code>.\r\n   * @property {string} FOUR Constant indicating 4 finger are to be detected / were detected. Not all devices support this. Value is <code>4</code>.\r\n   * @property {string} FIVE Constant indicating 5 finger are to be detected / were detected. Not all devices support this. Value is <code>5</code>.\r\n   * @property {string} ALL Constant indicating any combination of finger are to be detected.  Value is <code>\"all\"</code>.\r\n   */\r\n  $.fn.swipe.fingers = {\r\n    ONE: 1,\r\n    TWO: 2,\r\n    THREE: 3,\r\n    FOUR: 4,\r\n    FIVE: 5,\r\n    ALL: ALL_FINGERS\r\n  };\r\n\r\n  /**\r\n   * Initialise the plugin for each DOM element matched\r\n   * This creates a new instance of the main TouchSwipe class for each DOM element, and then\r\n   * saves a reference to that instance in the elements data property.\r\n   * @internal\r\n   */\r\n  function init(options) {\r\n    //Prep and extend the options\r\n    if (options && (options.allowPageScroll === undefined && (options.swipe !== undefined || options.swipeStatus !== undefined))) {\r\n      options.allowPageScroll = NONE;\r\n    }\r\n\r\n    //Check for deprecated options\r\n    //Ensure that any old click handlers are assigned to the new tap, unless we have a tap\r\n    if (options.click !== undefined && options.tap === undefined) {\r\n      options.tap = options.click;\r\n    }\r\n\r\n    if (!options) {\r\n      options = {};\r\n    }\r\n\r\n    //pass empty object so we dont modify the defaults\r\n    options = $.extend({}, $.fn.swipe.defaults, options);\r\n\r\n    //For each element instantiate the plugin\r\n    return this.each(function() {\r\n      var $this = $(this);\r\n\r\n      //Check we havent already initialised the plugin\r\n      var plugin = $this.data(PLUGIN_NS);\r\n\r\n      if (!plugin) {\r\n        plugin = new TouchSwipe(this, options);\r\n        $this.data(PLUGIN_NS, plugin);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Main TouchSwipe Plugin Class.\r\n   * Do not use this to construct your TouchSwipe object, use the jQuery plugin method $.fn.swipe(); {@link $.fn.swipe}\r\n   * @private\r\n   * @name TouchSwipe\r\n   * @param {DOMNode} element The HTML DOM object to apply to plugin to\r\n   * @param {Object} options The options to configure the plugin with.  @link {$.fn.swipe.defaults}\r\n   * @see $.fh.swipe.defaults\r\n   * @see $.fh.swipe\r\n   * @class\r\n   */\r\n  function TouchSwipe(element, options) {\r\n\r\n    //take a local/instacne level copy of the options - should make it this.options really...\r\n    var options = $.extend({}, options);\r\n\r\n    var useTouchEvents = (SUPPORTS_TOUCH || SUPPORTS_POINTER || !options.fallbackToMouseEvents),\r\n      START_EV = useTouchEvents ? (SUPPORTS_POINTER ? (SUPPORTS_POINTER_IE10 ? 'MSPointerDown' : 'pointerdown') : 'touchstart') : 'mousedown',\r\n      MOVE_EV = useTouchEvents ? (SUPPORTS_POINTER ? (SUPPORTS_POINTER_IE10 ? 'MSPointerMove' : 'pointermove') : 'touchmove') : 'mousemove',\r\n      END_EV = useTouchEvents ? (SUPPORTS_POINTER ? (SUPPORTS_POINTER_IE10 ? 'MSPointerUp' : 'pointerup') : 'touchend') : 'mouseup',\r\n      LEAVE_EV = useTouchEvents ? (SUPPORTS_POINTER ? 'mouseleave' : null) : 'mouseleave', //we manually detect leave on touch devices, so null event here\r\n      CANCEL_EV = (SUPPORTS_POINTER ? (SUPPORTS_POINTER_IE10 ? 'MSPointerCancel' : 'pointercancel') : 'touchcancel');\r\n\r\n\r\n\r\n    //touch properties\r\n    var distance = 0,\r\n      direction = null,\r\n      currentDirection = null,\r\n      duration = 0,\r\n      startTouchesDistance = 0,\r\n      endTouchesDistance = 0,\r\n      pinchZoom = 1,\r\n      pinchDistance = 0,\r\n      pinchDirection = 0,\r\n      maximumsMap = null;\r\n\r\n\r\n\r\n    //jQuery wrapped element for this instance\r\n    var $element = $(element);\r\n\r\n    //Current phase of th touch cycle\r\n    var phase = \"start\";\r\n\r\n    // the current number of fingers being used.\r\n    var fingerCount = 0;\r\n\r\n    //track mouse points / delta\r\n    var fingerData = {};\r\n\r\n    //track times\r\n    var startTime = 0,\r\n      endTime = 0,\r\n      previousTouchEndTime = 0,\r\n      fingerCountAtRelease = 0,\r\n      doubleTapStartTime = 0;\r\n\r\n    //Timeouts\r\n    var singleTapTimeout = null,\r\n      holdTimeout = null;\r\n\r\n    // Add gestures to all swipable areas if supported\r\n    try {\r\n      $element.bind(START_EV, touchStart);\r\n      $element.bind(CANCEL_EV, touchCancel);\r\n    } catch (e) {\r\n      $.error('events not supported ' + START_EV + ',' + CANCEL_EV + ' on jQuery.swipe');\r\n    }\r\n\r\n    //\r\n    //Public methods\r\n    //\r\n\r\n    /**\r\n     * re-enables the swipe plugin with the previous configuration\r\n     * @function\r\n     * @name $.fn.swipe#enable\r\n     * @return {DOMNode} The Dom element that was registered with TouchSwipe\r\n     * @example $(\"#element\").swipe(\"enable\");\r\n     */\r\n    this.enable = function() {\r\n      //Incase we are already enabled, clean up...\r\n      this.disable();\r\n      $element.bind(START_EV, touchStart);\r\n      $element.bind(CANCEL_EV, touchCancel);\r\n      return $element;\r\n    };\r\n\r\n    /**\r\n     * disables the swipe plugin\r\n     * @function\r\n     * @name $.fn.swipe#disable\r\n     * @return {DOMNode} The Dom element that is now registered with TouchSwipe\r\n     * @example $(\"#element\").swipe(\"disable\");\r\n     */\r\n    this.disable = function() {\r\n      removeListeners();\r\n      return $element;\r\n    };\r\n\r\n    /**\r\n     * Destroy the swipe plugin completely. To use any swipe methods, you must re initialise the plugin.\r\n     * @function\r\n     * @name $.fn.swipe#destroy\r\n     * @example $(\"#element\").swipe(\"destroy\");\r\n     */\r\n    this.destroy = function() {\r\n      removeListeners();\r\n      $element.data(PLUGIN_NS, null);\r\n      $element = null;\r\n    };\r\n\r\n\r\n    /**\r\n     * Allows run time updating of the swipe configuration options.\r\n     * @function\r\n     * @name $.fn.swipe#option\r\n     * @param {String} property The option property to get or set, or a has of multiple options to set\r\n     * @param {Object} [value] The value to set the property to\r\n     * @return {Object} If only a property name is passed, then that property value is returned. If nothing is passed the current options hash is returned.\r\n     * @example $(\"#element\").swipe(\"option\", \"threshold\"); // return the threshold\r\n     * @example $(\"#element\").swipe(\"option\", \"threshold\", 100); // set the threshold after init\r\n     * @example $(\"#element\").swipe(\"option\", {threshold:100, fingers:3} ); // set multiple properties after init\r\n     * @example $(\"#element\").swipe({threshold:100, fingers:3} ); // set multiple properties after init - the \"option\" method is optional!\r\n     * @example $(\"#element\").swipe(\"option\"); // Return the current options hash\r\n     * @see $.fn.swipe.defaults\r\n     *\r\n     */\r\n    this.option = function(property, value) {\r\n\r\n      if (typeof property === 'object') {\r\n        options = $.extend(options, property);\r\n      } else if (options[property] !== undefined) {\r\n        if (value === undefined) {\r\n          return options[property];\r\n        } else {\r\n          options[property] = value;\r\n        }\r\n      } else if (!property) {\r\n        return options;\r\n      } else {\r\n        $.error('Option ' + property + ' does not exist on jQuery.swipe.options');\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n\r\n\r\n    //\r\n    // Private methods\r\n    //\r\n\r\n    //\r\n    // EVENTS\r\n    //\r\n    /**\r\n     * Event handler for a touch start event.\r\n     * Stops the default click event from triggering and stores where we touched\r\n     * @inner\r\n     * @param {object} jqEvent The normalised jQuery event object.\r\n     */\r\n    function touchStart(jqEvent) {\r\n\r\n      //If we already in a touch event (a finger already in use) then ignore subsequent ones..\r\n      if (getTouchInProgress()) {\r\n        return;\r\n      }\r\n\r\n      //Check if this element matches any in the excluded elements selectors,  or its parent is excluded, if so, DON'T swipe\r\n      if ($(jqEvent.target).closest(options.excludedElements, $element).length > 0) {\r\n        return;\r\n      }\r\n\r\n      //As we use Jquery bind for events, we need to target the original event object\r\n      //If these events are being programmatically triggered, we don't have an original event object, so use the Jq one.\r\n      var event = jqEvent.originalEvent ? jqEvent.originalEvent : jqEvent;\r\n\r\n\r\n      //If we have a pointer event, whoes type is 'mouse' and we have said NO mouse events, then dont do anything.\r\n      if(event.pointerType && event.pointerType==\"mouse\" && options.fallbackToMouseEvents==false) {\r\n        return;\r\n      };\r\n\r\n      var ret,\r\n        touches = event.touches,\r\n        evt = touches ? touches[0] : event;\r\n\r\n      phase = PHASE_START;\r\n\r\n      //If we support touches, get the finger count\r\n      if (touches) {\r\n        // get the total number of fingers touching the screen\r\n        fingerCount = touches.length;\r\n      }\r\n      //Else this is the desktop, so stop the browser from dragging content\r\n      else if (options.preventDefaultEvents !== false) {\r\n        jqEvent.preventDefault(); //call this on jq event so we are cross browser\r\n      }\r\n\r\n      //clear vars..\r\n      distance = 0;\r\n      direction = null;\r\n      currentDirection=null;\r\n      pinchDirection = null;\r\n      duration = 0;\r\n      startTouchesDistance = 0;\r\n      endTouchesDistance = 0;\r\n      pinchZoom = 1;\r\n      pinchDistance = 0;\r\n      maximumsMap = createMaximumsData();\r\n      cancelMultiFingerRelease();\r\n\r\n      //Create the default finger data\r\n      createFingerData(0, evt);\r\n\r\n      // check the number of fingers is what we are looking for, or we are capturing pinches\r\n      if (!touches || (fingerCount === options.fingers || options.fingers === ALL_FINGERS) || hasPinches()) {\r\n        // get the coordinates of the touch\r\n        startTime = getTimeStamp();\r\n\r\n        if (fingerCount == 2) {\r\n          //Keep track of the initial pinch distance, so we can calculate the diff later\r\n          //Store second finger data as start\r\n          createFingerData(1, touches[1]);\r\n          startTouchesDistance = endTouchesDistance = calculateTouchesDistance(fingerData[0].start, fingerData[1].start);\r\n        }\r\n\r\n        if (options.swipeStatus || options.pinchStatus) {\r\n          ret = triggerHandler(event, phase);\r\n        }\r\n      } else {\r\n        //A touch with more or less than the fingers we are looking for, so cancel\r\n        ret = false;\r\n      }\r\n\r\n      //If we have a return value from the users handler, then return and cancel\r\n      if (ret === false) {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n        return ret;\r\n      } else {\r\n        if (options.hold) {\r\n          holdTimeout = setTimeout($.proxy(function() {\r\n            //Trigger the event\r\n            $element.trigger('hold', [event.target]);\r\n            //Fire the callback\r\n            if (options.hold) {\r\n              ret = options.hold.call($element, event, event.target);\r\n            }\r\n          }, this), options.longTapThreshold);\r\n        }\r\n\r\n        setTouchInProgress(true);\r\n      }\r\n\r\n      return null;\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Event handler for a touch move event.\r\n     * If we change fingers during move, then cancel the event\r\n     * @inner\r\n     * @param {object} jqEvent The normalised jQuery event object.\r\n     */\r\n    function touchMove(jqEvent) {\r\n\r\n      //As we use Jquery bind for events, we need to target the original event object\r\n      //If these events are being programmatically triggered, we don't have an original event object, so use the Jq one.\r\n      var event = jqEvent.originalEvent ? jqEvent.originalEvent : jqEvent;\r\n\r\n      //If we are ending, cancelling, or within the threshold of 2 fingers being released, don't track anything..\r\n      if (phase === PHASE_END || phase === PHASE_CANCEL || inMultiFingerRelease())\r\n        return;\r\n\r\n      var ret,\r\n        touches = event.touches,\r\n        evt = touches ? touches[0] : event;\r\n\r\n\r\n      //Update the  finger data\r\n      var currentFinger = updateFingerData(evt);\r\n      endTime = getTimeStamp();\r\n\r\n      if (touches) {\r\n        fingerCount = touches.length;\r\n      }\r\n\r\n      if (options.hold) {\r\n        clearTimeout(holdTimeout);\r\n      }\r\n\r\n      phase = PHASE_MOVE;\r\n\r\n      //If we have 2 fingers get Touches distance as well\r\n      if (fingerCount == 2) {\r\n\r\n        //Keep track of the initial pinch distance, so we can calculate the diff later\r\n        //We do this here as well as the start event, in case they start with 1 finger, and the press 2 fingers\r\n        if (startTouchesDistance == 0) {\r\n          //Create second finger if this is the first time...\r\n          createFingerData(1, touches[1]);\r\n\r\n          startTouchesDistance = endTouchesDistance = calculateTouchesDistance(fingerData[0].start, fingerData[1].start);\r\n        } else {\r\n          //Else just update the second finger\r\n          updateFingerData(touches[1]);\r\n\r\n          endTouchesDistance = calculateTouchesDistance(fingerData[0].end, fingerData[1].end);\r\n          pinchDirection = calculatePinchDirection(fingerData[0].end, fingerData[1].end);\r\n        }\r\n\r\n        pinchZoom = calculatePinchZoom(startTouchesDistance, endTouchesDistance);\r\n        pinchDistance = Math.abs(startTouchesDistance - endTouchesDistance);\r\n      }\r\n\r\n      if ((fingerCount === options.fingers || options.fingers === ALL_FINGERS) || !touches || hasPinches()) {\r\n\r\n        //The overall direction of the swipe. From start to now.\r\n        direction = calculateDirection(currentFinger.start, currentFinger.end);\r\n\r\n        //The immediate direction of the swipe, direction between the last movement and this one.\r\n        currentDirection = calculateDirection(currentFinger.last, currentFinger.end);\r\n\r\n        //Check if we need to prevent default event (page scroll / pinch zoom) or not\r\n        validateDefaultEvent(jqEvent, currentDirection);\r\n\r\n        //Distance and duration are all off the main finger\r\n        distance = calculateDistance(currentFinger.start, currentFinger.end);\r\n        duration = calculateDuration();\r\n\r\n        //Cache the maximum distance we made in this direction\r\n        setMaxDistance(direction, distance);\r\n\r\n        //Trigger status handler\r\n        ret = triggerHandler(event, phase);\r\n\r\n\r\n        //If we trigger end events when threshold are met, or trigger events when touch leaves element\r\n        if (!options.triggerOnTouchEnd || options.triggerOnTouchLeave) {\r\n\r\n          var inBounds = true;\r\n\r\n          //If checking if we leave the element, run the bounds check (we can use touchleave as its not supported on webkit)\r\n          if (options.triggerOnTouchLeave) {\r\n            var bounds = getbounds(this);\r\n            inBounds = isInBounds(currentFinger.end, bounds);\r\n          }\r\n\r\n          //Trigger end handles as we swipe if thresholds met or if we have left the element if the user has asked to check these..\r\n          if (!options.triggerOnTouchEnd && inBounds) {\r\n            phase = getNextPhase(PHASE_MOVE);\r\n          }\r\n          //We end if out of bounds here, so set current phase to END, and check if its modified\r\n          else if (options.triggerOnTouchLeave && !inBounds) {\r\n            phase = getNextPhase(PHASE_END);\r\n          }\r\n\r\n          if (phase == PHASE_CANCEL || phase == PHASE_END) {\r\n            triggerHandler(event, phase);\r\n          }\r\n        }\r\n      } else {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n      }\r\n\r\n      if (ret === false) {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * Event handler for a touch end event.\r\n     * Calculate the direction and trigger events\r\n     * @inner\r\n     * @param {object} jqEvent The normalised jQuery event object.\r\n     */\r\n    function touchEnd(jqEvent) {\r\n      //As we use Jquery bind for events, we need to target the original event object\r\n      //If these events are being programmatically triggered, we don't have an original event object, so use the Jq one.\r\n      var event = jqEvent.originalEvent ? jqEvent.originalEvent : jqEvent,\r\n        touches = event.touches;\r\n\r\n      //If we are still in a touch with the device wait a fraction and see if the other finger comes up\r\n      //if it does within the threshold, then we treat it as a multi release, not a single release and end the touch / swipe\r\n      if (touches) {\r\n        if (touches.length && !inMultiFingerRelease()) {\r\n          startMultiFingerRelease(event);\r\n          return true;\r\n        } else if (touches.length && inMultiFingerRelease()) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      //If a previous finger has been released, check how long ago, if within the threshold, then assume it was a multifinger release.\r\n      //This is used to allow 2 fingers to release fractionally after each other, whilst maintaining the event as containing 2 fingers, not 1\r\n      if (inMultiFingerRelease()) {\r\n        fingerCount = fingerCountAtRelease;\r\n      }\r\n\r\n      //Set end of swipe\r\n      endTime = getTimeStamp();\r\n\r\n      //Get duration incase move was never fired\r\n      duration = calculateDuration();\r\n\r\n      //If we trigger handlers at end of swipe OR, we trigger during, but they didnt trigger and we are still in the move phase\r\n      if (didSwipeBackToCancel() || !validateSwipeDistance()) {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n      } else if (options.triggerOnTouchEnd || (options.triggerOnTouchEnd === false && phase === PHASE_MOVE)) {\r\n        //call this on jq event so we are cross browser\r\n        if (options.preventDefaultEvents !== false) {\r\n          jqEvent.preventDefault();\r\n        }\r\n        phase = PHASE_END;\r\n        triggerHandler(event, phase);\r\n      }\r\n      //Special cases - A tap should always fire on touch end regardless,\r\n      //So here we manually trigger the tap end handler by itself\r\n      //We dont run trigger handler as it will re-trigger events that may have fired already\r\n      else if (!options.triggerOnTouchEnd && hasTap()) {\r\n        //Trigger the pinch events...\r\n        phase = PHASE_END;\r\n        triggerHandlerForGesture(event, phase, TAP);\r\n      } else if (phase === PHASE_MOVE) {\r\n        phase = PHASE_CANCEL;\r\n        triggerHandler(event, phase);\r\n      }\r\n\r\n      setTouchInProgress(false);\r\n\r\n      return null;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Event handler for a touch cancel event.\r\n     * Clears current vars\r\n     * @inner\r\n     */\r\n    function touchCancel() {\r\n      // reset the variables back to default values\r\n      fingerCount = 0;\r\n      endTime = 0;\r\n      startTime = 0;\r\n      startTouchesDistance = 0;\r\n      endTouchesDistance = 0;\r\n      pinchZoom = 1;\r\n\r\n      //If we were in progress of tracking a possible multi touch end, then re set it.\r\n      cancelMultiFingerRelease();\r\n\r\n      setTouchInProgress(false);\r\n    }\r\n\r\n\r\n    /**\r\n     * Event handler for a touch leave event.\r\n     * This is only triggered on desktops, in touch we work this out manually\r\n     * as the touchleave event is not supported in webkit\r\n     * @inner\r\n     */\r\n    function touchLeave(jqEvent) {\r\n      //If these events are being programmatically triggered, we don't have an original event object, so use the Jq one.\r\n      var event = jqEvent.originalEvent ? jqEvent.originalEvent : jqEvent;\r\n\r\n      //If we have the trigger on leave property set....\r\n      if (options.triggerOnTouchLeave) {\r\n        phase = getNextPhase(PHASE_END);\r\n        triggerHandler(event, phase);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Removes all listeners that were associated with the plugin\r\n     * @inner\r\n     */\r\n    function removeListeners() {\r\n      $element.unbind(START_EV, touchStart);\r\n      $element.unbind(CANCEL_EV, touchCancel);\r\n      $element.unbind(MOVE_EV, touchMove);\r\n      $element.unbind(END_EV, touchEnd);\r\n\r\n      //we only have leave events on desktop, we manually calculate leave on touch as its not supported in webkit\r\n      if (LEAVE_EV) {\r\n        $element.unbind(LEAVE_EV, touchLeave);\r\n      }\r\n\r\n      setTouchInProgress(false);\r\n    }\r\n\r\n\r\n    /**\r\n     * Checks if the time and distance thresholds have been met, and if so then the appropriate handlers are fired.\r\n     */\r\n    function getNextPhase(currentPhase) {\r\n\r\n      var nextPhase = currentPhase;\r\n\r\n      // Ensure we have valid swipe (under time and over distance  and check if we are out of bound...)\r\n      var validTime = validateSwipeTime();\r\n      var validDistance = validateSwipeDistance();\r\n      var didCancel = didSwipeBackToCancel();\r\n\r\n      //If we have exceeded our time, then cancel\r\n      if (!validTime || didCancel) {\r\n        nextPhase = PHASE_CANCEL;\r\n      }\r\n      //Else if we are moving, and have reached distance then end\r\n      else if (validDistance && currentPhase == PHASE_MOVE && (!options.triggerOnTouchEnd || options.triggerOnTouchLeave)) {\r\n        nextPhase = PHASE_END;\r\n      }\r\n      //Else if we have ended by leaving and didn't reach distance, then cancel\r\n      else if (!validDistance && currentPhase == PHASE_END && options.triggerOnTouchLeave) {\r\n        nextPhase = PHASE_CANCEL;\r\n      }\r\n\r\n      return nextPhase;\r\n    }\r\n\r\n\r\n    /**\r\n     * Trigger the relevant event handler\r\n     * The handlers are passed the original event, the element that was swiped, and in the case of the catch all handler, the direction that was swiped, \"left\", \"right\", \"up\", or \"down\"\r\n     * @param {object} event the original event object\r\n     * @param {string} phase the phase of the swipe (start, end cancel etc) {@link $.fn.swipe.phases}\r\n     * @inner\r\n     */\r\n    function triggerHandler(event, phase) {\r\n\r\n\r\n\r\n      var ret,\r\n        touches = event.touches;\r\n\r\n      // SWIPE GESTURES\r\n      if (didSwipe() || hasSwipes()) {\r\n          ret = triggerHandlerForGesture(event, phase, SWIPE);\r\n      }\r\n\r\n      // PINCH GESTURES (if the above didn't cancel)\r\n      if ((didPinch() || hasPinches()) && ret !== false) {\r\n          ret = triggerHandlerForGesture(event, phase, PINCH);\r\n      }\r\n\r\n      // CLICK / TAP (if the above didn't cancel)\r\n      if (didDoubleTap() && ret !== false) {\r\n        //Trigger the tap events...\r\n        ret = triggerHandlerForGesture(event, phase, DOUBLE_TAP);\r\n      }\r\n\r\n      // CLICK / TAP (if the above didn't cancel)\r\n      else if (didLongTap() && ret !== false) {\r\n        //Trigger the tap events...\r\n        ret = triggerHandlerForGesture(event, phase, LONG_TAP);\r\n      }\r\n\r\n      // CLICK / TAP (if the above didn't cancel)\r\n      else if (didTap() && ret !== false) {\r\n        //Trigger the tap event..\r\n        ret = triggerHandlerForGesture(event, phase, TAP);\r\n      }\r\n\r\n\r\n\r\n      // If we are cancelling the gesture, then manually trigger the reset handler\r\n      if (phase === PHASE_CANCEL) {\r\n\r\n        touchCancel(event);\r\n      }\r\n\r\n\r\n\r\n\r\n      // If we are ending the gesture, then manually trigger the reset handler IF all fingers are off\r\n      if (phase === PHASE_END) {\r\n        //If we support touch, then check that all fingers are off before we cancel\r\n        if (touches) {\r\n          if (!touches.length) {\r\n            touchCancel(event);\r\n          }\r\n        } else {\r\n          touchCancel(event);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Trigger the relevant event handler\r\n     * The handlers are passed the original event, the element that was swiped, and in the case of the catch all handler, the direction that was swiped, \"left\", \"right\", \"up\", or \"down\"\r\n     * @param {object} event the original event object\r\n     * @param {string} phase the phase of the swipe (start, end cancel etc) {@link $.fn.swipe.phases}\r\n     * @param {string} gesture the gesture to trigger a handler for : PINCH or SWIPE {@link $.fn.swipe.gestures}\r\n     * @return Boolean False, to indicate that the event should stop propagation, or void.\r\n     * @inner\r\n     */\r\n    function triggerHandlerForGesture(event, phase, gesture) {\r\n\r\n      var ret;\r\n\r\n      //SWIPES....\r\n      if (gesture == SWIPE) {\r\n        //Trigger status every time..\r\n        $element.trigger('swipeStatus', [phase, direction || null, distance || 0, duration || 0, fingerCount, fingerData, currentDirection]);\r\n\r\n        if (options.swipeStatus) {\r\n          ret = options.swipeStatus.call($element, event, phase, direction || null, distance || 0, duration || 0, fingerCount, fingerData, currentDirection);\r\n          //If the status cancels, then dont run the subsequent event handlers..\r\n          if (ret === false) return false;\r\n        }\r\n\r\n        if (phase == PHASE_END && validateSwipe()) {\r\n\r\n          //Cancel any taps that were in progress...\r\n          clearTimeout(singleTapTimeout);\r\n          clearTimeout(holdTimeout);\r\n\r\n          $element.trigger('swipe', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n          if (options.swipe) {\r\n            ret = options.swipe.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n            //If the status cancels, then dont run the subsequent event handlers..\r\n            if (ret === false) return false;\r\n          }\r\n\r\n          //trigger direction specific event handlers\r\n          switch (direction) {\r\n            case LEFT:\r\n              $element.trigger('swipeLeft', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n              if (options.swipeLeft) {\r\n                ret = options.swipeLeft.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n              }\r\n              break;\r\n\r\n            case RIGHT:\r\n              $element.trigger('swipeRight', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n              if (options.swipeRight) {\r\n                ret = options.swipeRight.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n              }\r\n              break;\r\n\r\n            case UP:\r\n              $element.trigger('swipeUp', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n              if (options.swipeUp) {\r\n                ret = options.swipeUp.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n              }\r\n              break;\r\n\r\n            case DOWN:\r\n              $element.trigger('swipeDown', [direction, distance, duration, fingerCount, fingerData, currentDirection]);\r\n\r\n              if (options.swipeDown) {\r\n                ret = options.swipeDown.call($element, event, direction, distance, duration, fingerCount, fingerData, currentDirection);\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n      //PINCHES....\r\n      if (gesture == PINCH) {\r\n        $element.trigger('pinchStatus', [phase, pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData]);\r\n\r\n        if (options.pinchStatus) {\r\n          ret = options.pinchStatus.call($element, event, phase, pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData);\r\n          //If the status cancels, then dont run the subsequent event handlers..\r\n          if (ret === false) return false;\r\n        }\r\n\r\n        if (phase == PHASE_END && validatePinch()) {\r\n\r\n          switch (pinchDirection) {\r\n            case IN:\r\n              $element.trigger('pinchIn', [pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData]);\r\n\r\n              if (options.pinchIn) {\r\n                ret = options.pinchIn.call($element, event, pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData);\r\n              }\r\n              break;\r\n\r\n            case OUT:\r\n              $element.trigger('pinchOut', [pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData]);\r\n\r\n              if (options.pinchOut) {\r\n                ret = options.pinchOut.call($element, event, pinchDirection || null, pinchDistance || 0, duration || 0, fingerCount, pinchZoom, fingerData);\r\n              }\r\n              break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (gesture == TAP) {\r\n        if (phase === PHASE_CANCEL || phase === PHASE_END) {\r\n\r\n          clearTimeout(singleTapTimeout);\r\n          clearTimeout(holdTimeout);\r\n\r\n          //If we are also looking for doubelTaps, wait incase this is one...\r\n          if (hasDoubleTap() && !inDoubleTap()) {\r\n            doubleTapStartTime = getTimeStamp();\r\n\r\n            //Now wait for the double tap timeout, and trigger this single tap\r\n            //if its not cancelled by a double tap\r\n            singleTapTimeout = setTimeout($.proxy(function() {\r\n              doubleTapStartTime = null;\r\n              $element.trigger('tap', [event.target]);\r\n\r\n              if (options.tap) {\r\n                ret = options.tap.call($element, event, event.target);\r\n              }\r\n            }, this), options.doubleTapThreshold);\r\n\r\n          } else {\r\n            doubleTapStartTime = null;\r\n            $element.trigger('tap', [event.target]);\r\n            if (options.tap) {\r\n              ret = options.tap.call($element, event, event.target);\r\n            }\r\n          }\r\n        }\r\n      } else if (gesture == DOUBLE_TAP) {\r\n        if (phase === PHASE_CANCEL || phase === PHASE_END) {\r\n          clearTimeout(singleTapTimeout);\r\n          clearTimeout(holdTimeout);\r\n          doubleTapStartTime = null;\r\n          $element.trigger('doubletap', [event.target]);\r\n\r\n          if (options.doubleTap) {\r\n            ret = options.doubleTap.call($element, event, event.target);\r\n          }\r\n        }\r\n      } else if (gesture == LONG_TAP) {\r\n        if (phase === PHASE_CANCEL || phase === PHASE_END) {\r\n          clearTimeout(singleTapTimeout);\r\n          doubleTapStartTime = null;\r\n\r\n          $element.trigger('longtap', [event.target]);\r\n          if (options.longTap) {\r\n            ret = options.longTap.call($element, event, event.target);\r\n          }\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    }\r\n\r\n\r\n    //\r\n    // GESTURE VALIDATION\r\n    //\r\n\r\n    /**\r\n     * Checks the user has swipe far enough\r\n     * @return Boolean if <code>threshold</code> has been set, return true if the threshold was met, else false.\r\n     * If no threshold was set, then we return true.\r\n     * @inner\r\n     */\r\n    function validateSwipeDistance() {\r\n      var valid = true;\r\n      //If we made it past the min swipe distance..\r\n      if (options.threshold !== null) {\r\n        valid = distance >= options.threshold;\r\n      }\r\n\r\n      return valid;\r\n    }\r\n\r\n    /**\r\n     * Checks the user has swiped back to cancel.\r\n     * @return Boolean if <code>cancelThreshold</code> has been set, return true if the cancelThreshold was met, else false.\r\n     * If no cancelThreshold was set, then we return true.\r\n     * @inner\r\n     */\r\n    function didSwipeBackToCancel() {\r\n      var cancelled = false;\r\n      if (options.cancelThreshold !== null && direction !== null) {\r\n        cancelled = (getMaxDistance(direction) - distance) >= options.cancelThreshold;\r\n      }\r\n\r\n      return cancelled;\r\n    }\r\n\r\n    /**\r\n     * Checks the user has pinched far enough\r\n     * @return Boolean if <code>pinchThreshold</code> has been set, return true if the threshold was met, else false.\r\n     * If no threshold was set, then we return true.\r\n     * @inner\r\n     */\r\n    function validatePinchDistance() {\r\n      if (options.pinchThreshold !== null) {\r\n        return pinchDistance >= options.pinchThreshold;\r\n      }\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Checks that the time taken to swipe meets the minimum / maximum requirements\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateSwipeTime() {\r\n      var result;\r\n      //If no time set, then return true\r\n      if (options.maxTimeThreshold) {\r\n        if (duration >= options.maxTimeThreshold) {\r\n          result = false;\r\n        } else {\r\n          result = true;\r\n        }\r\n      } else {\r\n        result = true;\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Checks direction of the swipe and the value allowPageScroll to see if we should allow or prevent the default behaviour from occurring.\r\n     * This will essentially allow page scrolling or not when the user is swiping on a touchSwipe object.\r\n     * @param {object} jqEvent The normalised jQuery representation of the event object.\r\n     * @param {string} direction The direction of the event. See {@link $.fn.swipe.directions}\r\n     * @see $.fn.swipe.directions\r\n     * @inner\r\n     */\r\n    function validateDefaultEvent(jqEvent, direction) {\r\n\r\n      //If the option is set, allways allow the event to bubble up (let user handle weirdness)\r\n      if (options.preventDefaultEvents === false) {\r\n        return;\r\n      }\r\n\r\n      if (options.allowPageScroll === NONE) {\r\n        jqEvent.preventDefault();\r\n      } else {\r\n        var auto = options.allowPageScroll === AUTO;\r\n\r\n        switch (direction) {\r\n          case LEFT:\r\n            if ((options.swipeLeft && auto) || (!auto && options.allowPageScroll != HORIZONTAL)) {\r\n              jqEvent.preventDefault();\r\n            }\r\n            break;\r\n\r\n          case RIGHT:\r\n            if ((options.swipeRight && auto) || (!auto && options.allowPageScroll != HORIZONTAL)) {\r\n              jqEvent.preventDefault();\r\n            }\r\n            break;\r\n\r\n          case UP:\r\n            if ((options.swipeUp && auto) || (!auto && options.allowPageScroll != VERTICAL)) {\r\n              jqEvent.preventDefault();\r\n            }\r\n            break;\r\n\r\n          case DOWN:\r\n            if ((options.swipeDown && auto) || (!auto && options.allowPageScroll != VERTICAL)) {\r\n              jqEvent.preventDefault();\r\n            }\r\n            break;\r\n\r\n          case NONE:\r\n\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    // PINCHES\r\n    /**\r\n     * Returns true of the current pinch meets the thresholds\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validatePinch() {\r\n      var hasCorrectFingerCount = validateFingers();\r\n      var hasEndPoint = validateEndPoint();\r\n      var hasCorrectDistance = validatePinchDistance();\r\n      return hasCorrectFingerCount && hasEndPoint && hasCorrectDistance;\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns true if any Pinch events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasPinches() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.pinchStatus || options.pinchIn || options.pinchOut);\r\n    }\r\n\r\n    /**\r\n     * Returns true if we are detecting pinches, and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didPinch() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validatePinch() && hasPinches());\r\n    }\r\n\r\n\r\n\r\n\r\n    // SWIPES\r\n    /**\r\n     * Returns true if the current swipe meets the thresholds\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateSwipe() {\r\n      //Check validity of swipe\r\n      var hasValidTime = validateSwipeTime();\r\n      var hasValidDistance = validateSwipeDistance();\r\n      var hasCorrectFingerCount = validateFingers();\r\n      var hasEndPoint = validateEndPoint();\r\n      var didCancel = didSwipeBackToCancel();\r\n\r\n      // if the user swiped more than the minimum length, perform the appropriate action\r\n      // hasValidDistance is null when no distance is set\r\n      var valid = !didCancel && hasEndPoint && hasCorrectFingerCount && hasValidDistance && hasValidTime;\r\n\r\n      return valid;\r\n    }\r\n\r\n    /**\r\n     * Returns true if any Swipe events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasSwipes() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.swipe || options.swipeStatus || options.swipeLeft || options.swipeRight || options.swipeUp || options.swipeDown);\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns true if we are detecting swipes and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didSwipe() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validateSwipe() && hasSwipes());\r\n    }\r\n\r\n    /**\r\n     * Returns true if we have matched the number of fingers we are looking for\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateFingers() {\r\n      //The number of fingers we want were matched, or on desktop we ignore\r\n      return ((fingerCount === options.fingers || options.fingers === ALL_FINGERS) || !SUPPORTS_TOUCH);\r\n    }\r\n\r\n    /**\r\n     * Returns true if we have an end point for the swipe\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateEndPoint() {\r\n      //We have an end value for the finger\r\n      return fingerData[0].end.x !== 0;\r\n    }\r\n\r\n    // TAP / CLICK\r\n    /**\r\n     * Returns true if a click / tap events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.tap);\r\n    }\r\n\r\n    /**\r\n     * Returns true if a double tap events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasDoubleTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.doubleTap);\r\n    }\r\n\r\n    /**\r\n     * Returns true if any long tap events have been registered\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function hasLongTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(options.longTap);\r\n    }\r\n\r\n    /**\r\n     * Returns true if we could be in the process of a double tap (one tap has occurred, we are listening for double taps, and the threshold hasn't past.\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateDoubleTap() {\r\n      if (doubleTapStartTime == null) {\r\n        return false;\r\n      }\r\n      var now = getTimeStamp();\r\n      return (hasDoubleTap() && ((now - doubleTapStartTime) <= options.doubleTapThreshold));\r\n    }\r\n\r\n    /**\r\n     * Returns true if we could be in the process of a double tap (one tap has occurred, we are listening for double taps, and the threshold hasn't past.\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function inDoubleTap() {\r\n      return validateDoubleTap();\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns true if we have a valid tap\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateTap() {\r\n      return ((fingerCount === 1 || !SUPPORTS_TOUCH) && (isNaN(distance) || distance < options.threshold));\r\n    }\r\n\r\n    /**\r\n     * Returns true if we have a valid long tap\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function validateLongTap() {\r\n      //slight threshold on moving finger\r\n      return ((duration > options.longTapThreshold) && (distance < DOUBLE_TAP_THRESHOLD));\r\n    }\r\n\r\n    /**\r\n     * Returns true if we are detecting taps and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validateTap() && hasTap());\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns true if we are detecting double taps and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didDoubleTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validateDoubleTap() && hasDoubleTap());\r\n    }\r\n\r\n    /**\r\n     * Returns true if we are detecting long taps and have one\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function didLongTap() {\r\n      //Enure we dont return 0 or null for false values\r\n      return !!(validateLongTap() && hasLongTap());\r\n    }\r\n\r\n\r\n\r\n\r\n    // MULTI FINGER TOUCH\r\n    /**\r\n     * Starts tracking the time between 2 finger releases, and keeps track of how many fingers we initially had up\r\n     * @inner\r\n     */\r\n    function startMultiFingerRelease(event) {\r\n      previousTouchEndTime = getTimeStamp();\r\n      fingerCountAtRelease = event.touches.length + 1;\r\n    }\r\n\r\n    /**\r\n     * Cancels the tracking of time between 2 finger releases, and resets counters\r\n     * @inner\r\n     */\r\n    function cancelMultiFingerRelease() {\r\n      previousTouchEndTime = 0;\r\n      fingerCountAtRelease = 0;\r\n    }\r\n\r\n    /**\r\n     * Checks if we are in the threshold between 2 fingers being released\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function inMultiFingerRelease() {\r\n\r\n      var withinThreshold = false;\r\n\r\n      if (previousTouchEndTime) {\r\n        var diff = getTimeStamp() - previousTouchEndTime\r\n        if (diff <= options.fingerReleaseThreshold) {\r\n          withinThreshold = true;\r\n        }\r\n      }\r\n\r\n      return withinThreshold;\r\n    }\r\n\r\n\r\n    /**\r\n     * gets a data flag to indicate that a touch is in progress\r\n     * @return Boolean\r\n     * @inner\r\n     */\r\n    function getTouchInProgress() {\r\n      //strict equality to ensure only true and false are returned\r\n      return !!($element.data(PLUGIN_NS + '_intouch') === true);\r\n    }\r\n\r\n    /**\r\n     * Sets a data flag to indicate that a touch is in progress\r\n     * @param {boolean} val The value to set the property to\r\n     * @inner\r\n     */\r\n    function setTouchInProgress(val) {\r\n\r\n      //If destroy is called in an event handler, we have no el, and we have already cleaned up, so return.\r\n      if(!$element) { return; }\r\n\r\n      //Add or remove event listeners depending on touch status\r\n      if (val === true) {\r\n        $element.bind(MOVE_EV, touchMove);\r\n        $element.bind(END_EV, touchEnd);\r\n\r\n        //we only have leave events on desktop, we manually calcuate leave on touch as its not supported in webkit\r\n        if (LEAVE_EV) {\r\n          $element.bind(LEAVE_EV, touchLeave);\r\n        }\r\n      } else {\r\n\r\n        $element.unbind(MOVE_EV, touchMove, false);\r\n        $element.unbind(END_EV, touchEnd, false);\r\n\r\n        //we only have leave events on desktop, we manually calcuate leave on touch as its not supported in webkit\r\n        if (LEAVE_EV) {\r\n          $element.unbind(LEAVE_EV, touchLeave, false);\r\n        }\r\n      }\r\n\r\n\r\n      //strict equality to ensure only true and false can update the value\r\n      $element.data(PLUGIN_NS + '_intouch', val === true);\r\n    }\r\n\r\n\r\n    /**\r\n     * Creates the finger data for the touch/finger in the event object.\r\n     * @param {int} id The id to store the finger data under (usually the order the fingers were pressed)\r\n     * @param {object} evt The event object containing finger data\r\n     * @return finger data object\r\n     * @inner\r\n     */\r\n    function createFingerData(id, evt) {\r\n      var f = {\r\n        start: {\r\n          x: 0,\r\n          y: 0\r\n        },\r\n        last: {\r\n          x: 0,\r\n          y: 0\r\n        },\r\n        end: {\r\n          x: 0,\r\n          y: 0\r\n        }\r\n      };\r\n      f.start.x = f.last.x = f.end.x = evt.pageX || evt.clientX;\r\n      f.start.y = f.last.y = f.end.y = evt.pageY || evt.clientY;\r\n      fingerData[id] = f;\r\n      return f;\r\n    }\r\n\r\n    /**\r\n     * Updates the finger data for a particular event object\r\n     * @param {object} evt The event object containing the touch/finger data to upadte\r\n     * @return a finger data object.\r\n     * @inner\r\n     */\r\n    function updateFingerData(evt) {\r\n      var id = evt.identifier !== undefined ? evt.identifier : 0;\r\n      var f = getFingerData(id);\r\n\r\n      if (f === null) {\r\n        f = createFingerData(id, evt);\r\n      }\r\n\r\n      f.last.x = f.end.x;\r\n      f.last.y = f.end.y;\r\n\r\n      f.end.x = evt.pageX || evt.clientX;\r\n      f.end.y = evt.pageY || evt.clientY;\r\n\r\n      return f;\r\n    }\r\n\r\n    /**\r\n     * Returns a finger data object by its event ID.\r\n     * Each touch event has an identifier property, which is used\r\n     * to track repeat touches\r\n     * @param {int} id The unique id of the finger in the sequence of touch events.\r\n     * @return a finger data object.\r\n     * @inner\r\n     */\r\n    function getFingerData(id) {\r\n      return fingerData[id] || null;\r\n    }\r\n\r\n\r\n    /**\r\n     * Sets the maximum distance swiped in the given direction.\r\n     * If the new value is lower than the current value, the max value is not changed.\r\n     * @param {string}  direction The direction of the swipe\r\n     * @param {int}  distance The distance of the swipe\r\n     * @inner\r\n     */\r\n    function setMaxDistance(direction, distance) {\r\n      if(direction==NONE) return;\r\n      distance = Math.max(distance, getMaxDistance(direction));\r\n      maximumsMap[direction].distance = distance;\r\n    }\r\n\r\n    /**\r\n     * gets the maximum distance swiped in the given direction.\r\n     * @param {string}  direction The direction of the swipe\r\n     * @return int  The distance of the swipe\r\n     * @inner\r\n     */\r\n    function getMaxDistance(direction) {\r\n      if (maximumsMap[direction]) return maximumsMap[direction].distance;\r\n      return undefined;\r\n    }\r\n\r\n    /**\r\n     * Creats a map of directions to maximum swiped values.\r\n     * @return Object A dictionary of maximum values, indexed by direction.\r\n     * @inner\r\n     */\r\n    function createMaximumsData() {\r\n      var maxData = {};\r\n      maxData[LEFT] = createMaximumVO(LEFT);\r\n      maxData[RIGHT] = createMaximumVO(RIGHT);\r\n      maxData[UP] = createMaximumVO(UP);\r\n      maxData[DOWN] = createMaximumVO(DOWN);\r\n\r\n      return maxData;\r\n    }\r\n\r\n    /**\r\n     * Creates a map maximum swiped values for a given swipe direction\r\n     * @param {string} The direction that these values will be associated with\r\n     * @return Object Maximum values\r\n     * @inner\r\n     */\r\n    function createMaximumVO(dir) {\r\n      return {\r\n        direction: dir,\r\n        distance: 0\r\n      }\r\n    }\r\n\r\n\r\n    //\r\n    // MATHS / UTILS\r\n    //\r\n\r\n    /**\r\n     * Calculate the duration of the swipe\r\n     * @return int\r\n     * @inner\r\n     */\r\n    function calculateDuration() {\r\n      return endTime - startTime;\r\n    }\r\n\r\n    /**\r\n     * Calculate the distance between 2 touches (pinch)\r\n     * @param {point} startPoint A point object containing x and y co-ordinates\r\n     * @param {point} endPoint A point object containing x and y co-ordinates\r\n     * @return int;\r\n     * @inner\r\n     */\r\n    function calculateTouchesDistance(startPoint, endPoint) {\r\n      var diffX = Math.abs(startPoint.x - endPoint.x);\r\n      var diffY = Math.abs(startPoint.y - endPoint.y);\r\n\r\n      return Math.round(Math.sqrt(diffX * diffX + diffY * diffY));\r\n    }\r\n\r\n    /**\r\n     * Calculate the zoom factor between the start and end distances\r\n     * @param {int} startDistance Distance (between 2 fingers) the user started pinching at\r\n     * @param {int} endDistance Distance (between 2 fingers) the user ended pinching at\r\n     * @return float The zoom value from 0 to 1.\r\n     * @inner\r\n     */\r\n    function calculatePinchZoom(startDistance, endDistance) {\r\n      var percent = (endDistance / startDistance) * 1;\r\n      return percent.toFixed(2);\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns the pinch direction, either IN or OUT for the given points\r\n     * @return string Either {@link $.fn.swipe.directions.IN} or {@link $.fn.swipe.directions.OUT}\r\n     * @see $.fn.swipe.directions\r\n     * @inner\r\n     */\r\n    function calculatePinchDirection() {\r\n      if (pinchZoom < 1) {\r\n        return OUT;\r\n      } else {\r\n        return IN;\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * Calculate the length / distance of the swipe\r\n     * @param {point} startPoint A point object containing x and y co-ordinates\r\n     * @param {point} endPoint A point object containing x and y co-ordinates\r\n     * @return int\r\n     * @inner\r\n     */\r\n    function calculateDistance(startPoint, endPoint) {\r\n      return Math.round(Math.sqrt(Math.pow(endPoint.x - startPoint.x, 2) + Math.pow(endPoint.y - startPoint.y, 2)));\r\n    }\r\n\r\n    /**\r\n     * Calculate the angle of the swipe\r\n     * @param {point} startPoint A point object containing x and y co-ordinates\r\n     * @param {point} endPoint A point object containing x and y co-ordinates\r\n     * @return int\r\n     * @inner\r\n     */\r\n    function calculateAngle(startPoint, endPoint) {\r\n      var x = startPoint.x - endPoint.x;\r\n      var y = endPoint.y - startPoint.y;\r\n      var r = Math.atan2(y, x); //radians\r\n      var angle = Math.round(r * 180 / Math.PI); //degrees\r\n\r\n      //ensure value is positive\r\n      if (angle < 0) {\r\n        angle = 360 - Math.abs(angle);\r\n      }\r\n\r\n      return angle;\r\n    }\r\n\r\n    /**\r\n     * Calculate the direction of the swipe\r\n     * This will also call calculateAngle to get the latest angle of swipe\r\n     * @param {point} startPoint A point object containing x and y co-ordinates\r\n     * @param {point} endPoint A point object containing x and y co-ordinates\r\n     * @return string Either {@link $.fn.swipe.directions.LEFT} / {@link $.fn.swipe.directions.RIGHT} / {@link $.fn.swipe.directions.DOWN} / {@link $.fn.swipe.directions.UP}\r\n     * @see $.fn.swipe.directions\r\n     * @inner\r\n     */\r\n    function calculateDirection(startPoint, endPoint) {\r\n\r\n      if( comparePoints(startPoint, endPoint) ) {\r\n        return NONE;\r\n      }\r\n\r\n      var angle = calculateAngle(startPoint, endPoint);\r\n\r\n      if ((angle <= 45) && (angle >= 0)) {\r\n        return LEFT;\r\n      } else if ((angle <= 360) && (angle >= 315)) {\r\n        return LEFT;\r\n      } else if ((angle >= 135) && (angle <= 225)) {\r\n        return RIGHT;\r\n      } else if ((angle > 45) && (angle < 135)) {\r\n        return DOWN;\r\n      } else {\r\n        return UP;\r\n      }\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a MS time stamp of the current time\r\n     * @return int\r\n     * @inner\r\n     */\r\n    function getTimeStamp() {\r\n      var now = new Date();\r\n      return now.getTime();\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Returns a bounds object with left, right, top and bottom properties for the element specified.\r\n     * @param {DomNode} The DOM node to get the bounds for.\r\n     */\r\n    function getbounds(el) {\r\n      el = $(el);\r\n      var offset = el.offset();\r\n\r\n      var bounds = {\r\n        left: offset.left,\r\n        right: offset.left + el.outerWidth(),\r\n        top: offset.top,\r\n        bottom: offset.top + el.outerHeight()\r\n      }\r\n\r\n      return bounds;\r\n    }\r\n\r\n\r\n    /**\r\n     * Checks if the point object is in the bounds object.\r\n     * @param {object} point A point object.\r\n     * @param {int} point.x The x value of the point.\r\n     * @param {int} point.y The x value of the point.\r\n     * @param {object} bounds The bounds object to test\r\n     * @param {int} bounds.left The leftmost value\r\n     * @param {int} bounds.right The righttmost value\r\n     * @param {int} bounds.top The topmost value\r\n     * @param {int} bounds.bottom The bottommost value\r\n     */\r\n    function isInBounds(point, bounds) {\r\n      return (point.x > bounds.left && point.x < bounds.right && point.y > bounds.top && point.y < bounds.bottom);\r\n    };\r\n\r\n    /**\r\n     * Checks if the two points are equal\r\n     * @param {object} point A point object.\r\n     * @param {object} point B point object.\r\n     * @return true of the points match\r\n     */\r\n    function comparePoints(pointA, pointB) {\r\n      return (pointA.x == pointB.x && pointA.y == pointB.y);\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  /**\r\n   * A catch all handler that is triggered for all swipe directions.\r\n   * @name $.fn.swipe#swipe\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n\r\n\r\n\r\n  /**\r\n   * A handler that is triggered for \"left\" swipes.\r\n   * @name $.fn.swipe#swipeLeft\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler that is triggered for \"right\" swipes.\r\n   * @name $.fn.swipe#swipeRight\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler that is triggered for \"up\" swipes.\r\n   * @name $.fn.swipe#swipeUp\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler that is triggered for \"down\" swipes.\r\n   * @name $.fn.swipe#swipeDown\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user swiped in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler triggered for every phase of the swipe. This handler is constantly fired for the duration of the pinch.\r\n   * This is triggered regardless of swipe thresholds.\r\n   * @name $.fn.swipe#swipeStatus\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {string} phase The phase of the swipe event. See {@link $.fn.swipe.phases}\r\n   * @param {string} direction The direction the user swiped in. This is null if the user has yet to move. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user swiped. This is 0 if the user has yet to move.\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   * @param {string} currentDirection The current direction the user is swiping.\r\n   */\r\n\r\n  /**\r\n   * A handler triggered for pinch in events.\r\n   * @name $.fn.swipe#pinchIn\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user pinched in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user pinched\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {int} zoom The zoom/scale level the user pinched too, 0-1.\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   */\r\n\r\n  /**\r\n   * A handler triggered for pinch out events.\r\n   * @name $.fn.swipe#pinchOut\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user pinched in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user pinched\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {int} zoom The zoom/scale level the user pinched too, 0-1.\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   */\r\n\r\n  /**\r\n   * A handler triggered for all pinch events. This handler is constantly fired for the duration of the pinch. This is triggered regardless of thresholds.\r\n   * @name $.fn.swipe#pinchStatus\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {int} direction The direction the user pinched in. See {@link $.fn.swipe.directions}\r\n   * @param {int} distance The distance the user pinched\r\n   * @param {int} duration The duration of the swipe in milliseconds\r\n   * @param {int} fingerCount The number of fingers used. See {@link $.fn.swipe.fingers}\r\n   * @param {int} zoom The zoom/scale level the user pinched too, 0-1.\r\n   * @param {object} fingerData The coordinates of fingers in event\r\n   */\r\n\r\n  /**\r\n   * A click handler triggered when a user simply clicks, rather than swipes on an element.\r\n   * This is deprecated since version 1.6.2, any assignment to click will be assigned to the tap handler.\r\n   * You cannot use <code>on</code> to bind to this event as the default jQ <code>click</code> event will be triggered.\r\n   * Use the <code>tap</code> event instead.\r\n   * @name $.fn.swipe#click\r\n   * @event\r\n   * @deprecated since version 1.6.2, please use {@link $.fn.swipe#tap} instead\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n  /**\r\n   * A click / tap handler triggered when a user simply clicks or taps, rather than swipes on an element.\r\n   * @name $.fn.swipe#tap\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n  /**\r\n   * A double tap handler triggered when a user double clicks or taps on an element.\r\n   * You can set the time delay for a double tap with the {@link $.fn.swipe.defaults#doubleTapThreshold} property.\r\n   * Note: If you set both <code>doubleTap</code> and <code>tap</code> handlers, the <code>tap</code> event will be delayed by the <code>doubleTapThreshold</code>\r\n   * as the script needs to check if its a double tap.\r\n   * @name $.fn.swipe#doubleTap\r\n   * @see  $.fn.swipe.defaults#doubleTapThreshold\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n  /**\r\n   * A long tap handler triggered once a tap has been release if the tap was longer than the longTapThreshold.\r\n   * You can set the time delay for a long tap with the {@link $.fn.swipe.defaults#longTapThreshold} property.\r\n   * @name $.fn.swipe#longTap\r\n   * @see  $.fn.swipe.defaults#longTapThreshold\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n  /**\r\n   * A hold tap handler triggered as soon as the longTapThreshold is reached\r\n   * You can set the time delay for a long tap with the {@link $.fn.swipe.defaults#longTapThreshold} property.\r\n   * @name $.fn.swipe#hold\r\n   * @see  $.fn.swipe.defaults#longTapThreshold\r\n   * @event\r\n   * @default null\r\n   * @param {EventObject} event The original event object\r\n   * @param {DomObject} target The element clicked on.\r\n   */\r\n\r\n}));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./bower_components/jquery-touchswipe/jquery.touchSwipe.js\n// module id = 33\n// module chunks = 0","module.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 34\n// module chunks = 0"],"sourceRoot":""}